!function(e){"use strict";function R(){}function F(e){if(!e||"object"!=typeof e)return!1;var i=ae(e)||t;return/object|function/.test(typeof i.Element)?e instanceof i.Element:1===e.nodeType&&"string"==typeof e.nodeName}function N(e){return e===t||!(!e||!e.Window)&&e instanceof e.Window}function q(e){return!!e&&e instanceof r}function H(e){return W(e)&&void 0!==typeof e.length&&U(e.splice)}function W(e){return!!e&&"object"==typeof e}function U(e){return"function"==typeof e}function V(e){return"number"==typeof e}function $(e){return"boolean"==typeof e}function G(e){return"string"==typeof e}function L(e){return G(e)?(i.querySelector(e),!0):!1}function j(e,t){for(var i in t)e[i]=t[i];return e}function K(e,t){for(var i in t){var r=!1;for(var s in B)if(0===i.indexOf(s)&&B[s].test(i)){r=!0;break}r||(e[i]=t[i])}return e}function J(e,t){e.page=e.page||{},e.page.x=t.page.x,e.page.y=t.page.y,e.client=e.client||{},e.client.x=t.client.x,e.client.y=t.client.y,e.timeStamp=t.timeStamp}function Q(e,t,i){var r=t.length>1?ce(t):t[0];ie(r,c,i),e.page.x=c.x,e.page.y=c.y,re(r,c,i),e.client.x=c.x,e.client.y=c.y,e.timeStamp=(new Date).getTime()}function Z(e,t,i){e.page.x=i.page.x-t.page.x,e.page.y=i.page.y-t.page.y,e.client.x=i.client.x-t.client.x,e.client.y=i.client.y-t.client.y,e.timeStamp=(new Date).getTime()-t.timeStamp;var r=Math.max(e.timeStamp/1e3,.001);e.page.speed=p(e.page.x,e.page.y)/r,e.page.vx=e.page.x/r,e.page.vy=e.page.y/r,e.client.speed=p(e.client.x,e.page.y)/r,e.client.vx=e.client.x/r,e.client.vy=e.client.y/r}function ee(e){return e instanceof t.Event||x&&t.Touch&&e instanceof t.Touch}function te(e,t,i){return i=i||{},e=e||"page",i.x=t[e+"X"],i.y=t[e+"Y"],i}function ie(e,i){return i=i||{},A&&ee(e)?(te("screen",e,i),i.x+=t.scrollX,i.y+=t.scrollY):te("page",e,i),i}function re(e,t){return t=t||{},A&&ee(e)?te("screen",e,t):te("client",e,t),t}function se(e){return e=e||t,{x:e.scrollX||e.document.documentElement.scrollLeft,y:e.scrollY||e.document.documentElement.scrollTop}}function ne(e){return V(e.pointerId)?e.pointerId:e.identifier}function oe(e){return e instanceof o?e.correspondingUseElement:e}function ae(e){if(N(e))return e;var i=e.ownerDocument||e;return i.defaultView||i.parentWindow||t}function he(e){var t=e instanceof s?e.getBoundingClientRect():e.getClientRects()[0];return t&&{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}function le(e){var t=he(e);if(!O&&t){var i=se(ae(e));t.left+=i.x,t.right+=i.x,t.top+=i.y,t.bottom+=i.y}return t}function pe(e){var t=[];return H(e)?(t[0]=e[0],t[1]=e[1]):"touchend"===e.type?1===e.touches.length?(t[0]=e.touches[0],t[1]=e.changedTouches[0]):0===e.touches.length&&(t[0]=e.changedTouches[0],t[1]=e.changedTouches[1]):(t[0]=e.touches[0],t[1]=e.touches[1]),t}function ce(e){for(var i,t={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},r=0;r<e.length;r++)for(i in t)t[i]+=e[r][i];for(i in t)t[i]/=e.length;return t}function ue(e){if(e.length||e.touches&&e.touches.length>1){var t=pe(e),i=Math.min(t[0].pageX,t[1].pageX),r=Math.min(t[0].pageY,t[1].pageY),s=Math.max(t[0].pageX,t[1].pageX),n=Math.max(t[0].pageY,t[1].pageY);return{x:i,y:r,left:i,top:r,width:s-i,height:n-r}}}function de(e,t){t=t||m.deltaSource;var i=t+"X",r=t+"Y",s=pe(e),n=s[0][i]-s[1][i],o=s[0][r]-s[1][r];return p(n,o)}function fe(e,t,i){i=i||m.deltaSource;var r=i+"X",s=i+"Y",n=pe(e),o=n[0][r]-n[1][r],a=n[0][s]-n[1][s],h=180*Math.atan(a/o)/Math.PI;if(V(t)){var l=h-t,p=l%360;p>315?h-=360+h/360|0:p>135?h-=180+h/360|0:-315>p?h+=360+h/360|0:-135>p&&(h+=180+h/360|0)}return h}function ge(e,t){var i=e?e.options.origin:m.origin;return"parent"===i?i=Se(t):"self"===i?i=e.getRect(t):L(i)&&(i=Ee(t,i)||{x:0,y:0}),U(i)&&(i=i(e&&t)),F(i)&&(i=le(i)),i.x="x"in i?i.x:i.left,i.y="y"in i?i.y:i.top,i}function ve(e,t,i,r){var s=1-e;return s*s*t+2*s*e*i+e*e*r}function me(e,t,i,r,s,n,o){return{x:ve(o,e,i,s),y:ve(o,t,r,n)}}function ye(e,t,i,r){return e/=r,-i*e*(e-2)+t}function xe(e,t){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function Ee(e,t){for(var i=Se(e);F(i);){if(et(i,t))return i;i=Se(i)}return null}function Se(e){var t=e.parentNode;if(q(t)){for(;(t=t.host)&&q(t););return t}return t}function be(e,t){return e._context===t.ownerDocument||xe(e._context,t)}function we(e,t,i){var r=e.options.ignoreFrom;return r&&F(i)?G(r)?tt(i,r,t):F(r)?xe(r,i):!1:!1}function ze(e,t,i){var r=e.options.allowFrom;return r?F(i)?G(r)?tt(i,r,t):F(r)?xe(r,i):!1:!1:!0}function De(e,t){if(!t)return!1;var i=t.options.drag.axis;return"xy"===e||"xy"===i||i===e}function Te(e,t){var i=e.options;return/^resize/.test(t)&&(t="resize"),i[t].snap&&i[t].snap.enabled}function Ce(e,t){var i=e.options;return/^resize/.test(t)&&(t="resize"),i[t].restrict&&i[t].restrict.enabled}function Me(e,t){var i=e.options;return/^resize/.test(t)&&(t="resize"),i[t].autoScroll&&i[t].autoScroll.enabled}function Pe(e,t,i){for(var r=e.options,s=r[i.name].max,n=r[i.name].maxPerElement,o=0,a=0,h=0,l=0,p=f.length;p>l;l++){var c=f[l],u=c.prepared.name,d=c.interacting();if(d){if(o++,o>=z)return!1;if(c.target===e){if(a+=u===i.name|0,a>=s)return!1;if(c.element===t&&(h++,u!==i.name||h>=n))return!1}}}return z>0}function Ae(e){var t,o,p,c,u,i=e[0],r=i?0:-1,h=[],l=[];for(c=1;c<e.length;c++)if(t=e[c],t&&t!==i)if(i){if(t.parentNode!==t.ownerDocument)if(i.parentNode!==t.ownerDocument){if(!h.length)for(o=i;o.parentNode&&o.parentNode!==o.ownerDocument;)h.unshift(o),o=o.parentNode;if(i instanceof a&&t instanceof s&&!(t instanceof n)){if(t===i.parentNode)continue;o=t.ownerSVGElement}else o=t;for(l=[];o.parentNode!==o.ownerDocument;)l.unshift(o),o=o.parentNode;for(u=0;l[u]&&l[u]===h[u];)u++;var d=[l[u-1],l[u],h[u]];for(p=d[0].lastChild;p;){if(p===d[1]){i=t,r=c,h=[];break}if(p===d[2])break;p=p.previousSibling}}else i=t,r=c}else i=t,r=c;return r}function Oe(){if(this.target=null,this.element=null,this.dropTarget=null,this.dropElement=null,this.prevDropTarget=null,this.prevDropElement=null,this.prepared={name:null,axis:null,edges:null},this.matches=[],this.matchElements=[],this.inertiaStatus={active:!1,smoothEnd:!1,ending:!1,startEvent:null,upCoords:{},xe:0,ye:0,sx:0,sy:0,t0:0,vx0:0,vys:0,duration:0,resumeDx:0,resumeDy:0,lambda_v0:0,one_ve_v0:0,i:null},U(Function.prototype.bind))this.boundInertiaFrame=this.inertiaFrame.bind(this),this.boundSmoothEndFrame=this.smoothEndFrame.bind(this);else{var e=this;this.boundInertiaFrame=function(){return e.inertiaFrame()},this.boundSmoothEndFrame=function(){return e.smoothEndFrame()}}this.activeDrops={dropzones:[],elements:[],rects:[]},this.pointers=[],this.pointerIds=[],this.downTargets=[],this.downTimes=[],this.holdTimers=[],this.prevCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.curCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.startCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.pointerDelta={page:{x:0,y:0,vx:0,vy:0,speed:0},client:{x:0,y:0,vx:0,vy:0,speed:0},timeStamp:0},this.downEvent=null,this.downPointer={},this._eventTarget=null,this._curEventTarget=null,this.prevEvent=null,this.tapTime=0,this.prevTap=null,this.startOffset={left:0,right:0,top:0,bottom:0},this.restrictOffset={left:0,right:0,top:0,bottom:0},this.snapOffsets=[],this.gesture={start:{x:0,y:0},startDistance:0,prevDistance:0,distance:0,scale:1,startAngle:0,prevAngle:0},this.snapStatus={x:0,y:0,dx:0,dy:0,realX:0,realY:0,snappedX:0,snappedY:0,targets:[],locked:!1,changed:!1},this.restrictStatus={dx:0,dy:0,restrictedX:0,restrictedY:0,snap:null,restricted:!1,changed:!1},this.restrictStatus.snap=this.snapStatus,this.pointerIsDown=!1,this.pointerWasMoved=!1,this.gesturing=!1,this.dragging=!1,this.resizing=!1,this.resizeAxes="xy",this.mouse=!1,f.push(this)}function _e(e,t,i){var o,r=0,s=f.length,n=/mouse/i.test(e.pointerType||t)||4===e.pointerType,a=ne(e);if(/down|start/i.test(t))for(r=0;s>r;r++){o=f[r];var h=i;if(o.inertiaStatus.active&&o.target.options[o.prepared.name].inertia.allowResume&&o.mouse===n)for(;h;){if(h===o.element)return o;h=Se(h)}}if(n||!x&&!E){for(r=0;s>r;r++)if(f[r].mouse&&!f[r].inertiaStatus.active)return f[r];for(r=0;s>r;r++)if(f[r].mouse&&(!/down/.test(t)||!f[r].inertiaStatus.active))return o;return o=new Oe,o.mouse=!0,o}for(r=0;s>r;r++)if(Ze(f[r].pointerIds,a))return f[r];if(/up|end|out/i.test(t))return null;for(r=0;s>r;r++)if(o=f[r],(!o.prepared.name||o.target.options.gesture.enabled)&&!o.interacting()&&(n||!o.mouse))return o;return new Oe}function ke(e){return function(t){var i,n,r=oe(t.path?t.path[0]:t.target),s=oe(t.currentTarget);if(x&&/touch/.test(t.type))for(w=(new Date).getTime(),n=0;n<t.changedTouches.length;n++){var o=t.changedTouches[n];i=_e(o,t.type,r),i&&(i._updateEventTargets(r,s),i[e](o,t,r,s))}else{if(!E&&/mouse/.test(t.type)){for(n=0;n<f.length;n++)if(!f[n].mouse&&f[n].pointerIsDown)return;if((new Date).getTime()-w<500)return}if(i=_e(t,t.type,r),!i)return;i._updateEventTargets(r,s),i[e](t,t,r,s)}}}function Ie(e,t,i,r,s,n){var o,a,h=e.target,l=e.snapStatus,c=e.restrictStatus,u=e.pointers,d=(h&&h.options||m).deltaSource,f=d+"X",g=d+"Y",v=h?h.options:m,y=ge(h,s),x="start"===r,E="end"===r,S=x?e.startCoords:e.curCoords;s=s||e.element,a=j({},S.page),o=j({},S.client),a.x-=y.x,a.y-=y.y,o.x-=y.x,o.y-=y.y;var b=v[i].snap&&v[i].snap.relativePoints;!Te(h,i)||x&&b&&b.length||(this.snap={range:l.range,locked:l.locked,x:l.snappedX,y:l.snappedY,realX:l.realX,realY:l.realY,dx:l.dx,dy:l.dy},l.locked&&(a.x+=l.dx,a.y+=l.dy,o.x+=l.dx,o.y+=l.dy)),!Ce(h,i)||x&&v[i].restrict.elementRect||!c.restricted||(a.x+=c.dx,a.y+=c.dy,o.x+=c.dx,o.y+=c.dy,this.restrict={dx:c.dx,dy:c.dy}),this.pageX=a.x,this.pageY=a.y,this.clientX=o.x,this.clientY=o.y,this.x0=e.startCoords.page.x-y.x,this.y0=e.startCoords.page.y-y.y,this.clientX0=e.startCoords.client.x-y.x,this.clientY0=e.startCoords.client.y-y.y,this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.button=t.button,this.buttons=t.buttons,this.target=s,this.t0=e.downTimes[0],this.type=i+(r||""),this.interaction=e,this.interactable=h;var w=e.inertiaStatus;if(w.active&&(this.detail="inertia"),n&&(this.relatedTarget=n),E?"client"===d?(this.dx=o.x-e.startCoords.client.x,this.dy=o.y-e.startCoords.client.y):(this.dx=a.x-e.startCoords.page.x,this.dy=a.y-e.startCoords.page.y):x?(this.dx=0,this.dy=0):"inertiastart"===r?(this.dx=e.prevEvent.dx,this.dy=e.prevEvent.dy):"client"===d?(this.dx=o.x-e.prevEvent.clientX,this.dy=o.y-e.prevEvent.clientY):(this.dx=a.x-e.prevEvent.pageX,this.dy=a.y-e.prevEvent.pageY),e.prevEvent&&"inertia"===e.prevEvent.detail&&!w.active&&v[i].inertia&&v[i].inertia.zeroResumeDelta&&(w.resumeDx+=this.dx,w.resumeDy+=this.dy,this.dx=this.dy=0),"resize"===i&&e.resizeAxes?v.resize.square?("y"===e.resizeAxes?this.dx=this.dy:this.dy=this.dx,this.axes="xy"):(this.axes=e.resizeAxes,"x"===e.resizeAxes?this.dy=0:"y"===e.resizeAxes&&(this.dx=0)):"gesture"===i&&(this.touches=[u[0],u[1]],x?(this.distance=de(u,d),this.box=ue(u),this.scale=1,this.ds=0,this.angle=fe(u,void 0,d),this.da=0):E||t instanceof Ie?(this.distance=e.prevEvent.distance,this.box=e.prevEvent.box,this.scale=e.prevEvent.scale,this.ds=this.scale-1,this.angle=e.prevEvent.angle,this.da=this.angle-e.gesture.startAngle):(this.distance=de(u,d),this.box=ue(u),this.scale=this.distance/e.gesture.startDistance,this.angle=fe(u,e.gesture.prevAngle,d),this.ds=this.scale-e.gesture.prevScale,this.da=this.angle-e.gesture.prevAngle)),x)this.timeStamp=e.downTimes[0],this.dt=0,this.duration=0,this.speed=0,this.velocityX=0,this.velocityY=0;else if("inertiastart"===r)this.timeStamp=e.prevEvent.timeStamp,this.dt=e.prevEvent.dt,this.duration=e.prevEvent.duration,this.speed=e.prevEvent.speed,this.velocityX=e.prevEvent.velocityX,this.velocityY=e.prevEvent.velocityY;else if(this.timeStamp=(new Date).getTime(),this.dt=this.timeStamp-e.prevEvent.timeStamp,this.duration=this.timeStamp-e.downTimes[0],t instanceof Ie){var z=this[f]-e.prevEvent[f],D=this[g]-e.prevEvent[g],T=this.dt/1e3;this.speed=p(z,D)/T,this.velocityX=z/T,this.velocityY=D/T}else this.speed=e.pointerDelta[d].speed,this.velocityX=e.pointerDelta[d].vx,this.velocityY=e.pointerDelta[d].vy;if((E||"inertiastart"===r)&&e.prevEvent.speed>600&&this.timeStamp-e.prevEvent.timeStamp<150){var C=180*Math.atan2(e.prevEvent.velocityY,e.prevEvent.velocityX)/Math.PI,M=22.5;0>C&&(C+=360);var P=C>=135-M&&225+M>C,A=C>=225-M&&315+M>C,O=!P&&(C>=315-M||45+M>C),_=!A&&C>=45-M&&135+M>C;this.swipe={up:A,down:_,left:P,right:O,angle:C,speed:e.prevEvent.speed,velocity:{x:e.prevEvent.velocityX,y:e.prevEvent.velocityY}}}}function Xe(){this.originalEvent.preventDefault()}function Ye(e){var t="";if("drag"===e.name&&(t=D.drag),"resize"===e.name)if(e.axis)t=D[e.name+e.axis];else if(e.edges){for(var i="resize",r=["top","bottom","left","right"],s=0;4>s;s++)e.edges[r[s]]&&(i+=r[s]);t=D[i]}return t}function Re(e,t,i,r,s,n,o){if(!t)return!1;if(t===!0){var a=V(n.width)?n.width:n.right-n.left,h=V(n.height)?n.height:n.bottom-n.top;if(0>a&&("left"===e?e="right":"right"===e&&(e="left")),0>h&&("top"===e?e="bottom":"bottom"===e&&(e="top")),"left"===e)return i.x<(a>=0?n.left:n.right)+o;if("top"===e)return i.y<(h>=0?n.top:n.bottom)+o;if("right"===e)return i.x>(a>=0?n.right:n.left)-o;if("bottom"===e)return i.y>(h>=0?n.bottom:n.top)-o}return F(r)?F(t)?t===r:tt(r,t,s):!1}function Fe(e,t,i){var a,r=this.getRect(i),s=!1,n=null,o=null,h=j({},t.curCoords.page),l=this.options;if(!r)return null;if(T.resize&&l.resize.enabled){var p=l.resize;if(a={left:!1,right:!1,top:!1,bottom:!1},W(p.edges)){for(var c in a)a[c]=Re(c,p.edges[c],h,t._eventTarget,i,r,p.margin||S);a.left=a.left&&!a.right,a.top=a.top&&!a.bottom,s=a.left||a.right||a.top||a.bottom}else{var u="y"!==l.resize.axis&&h.x>r.right-S,d="x"!==l.resize.axis&&h.y>r.bottom-S;s=u||d,o=(u?"x":"")+(d?"y":"")}}return n=s?"resize":T.drag&&l.drag.enabled?"drag":null,T.gesture&&t.pointerIds.length>=2&&!t.dragging&&!t.resizing&&(n="gesture"),n?{name:n,axis:o,edges:a}:null}function Ne(e,t){if(!W(e))return null;var i=e.name,r=t.options;return("resize"===i&&r.resize.enabled||"drag"===i&&r.drag.enabled||"gesture"===i&&r.gesture.enabled)&&T[i]?(("resize"===i||"resizeyx"===i)&&(i="resizexy"),e):null}function $e(e,t){var i={},r=v[e.type],s=oe(e.path?e.path[0]:e.target),n=s;t=t?!0:!1;for(var o in e)i[o]=e[o];for(i.originalEvent=e,i.preventDefault=Xe;F(n);){for(var a=0;a<r.selectors.length;a++){var h=r.selectors[a],l=r.contexts[a];if(et(n,h)&&xe(l,s)&&xe(l,n)){var p=r.listeners[a];i.currentTarget=n;for(var c=0;c<p.length;c++)p[c][1]===t&&p[c][0](i)}}n=Se(n)}}function Ge(e){return $e.call(this,e,!0)}function Le(e,t){return d.get(e,t)||new je(e,t)}function je(e,i){this._element=e,this._iEvents=this._iEvents||{};var r;if(L(e)){this.selector=e;var s=i&&i.context;r=s?ae(s):t,s&&(r.Node?s instanceof r.Node:F(s)||s===r.document)&&(this._context=s)}else r=ae(e),F(e,r)&&(h?(Y.add(this._element,l.down,qe.pointerDown),Y.add(this._element,l.move,qe.pointerHover)):(Y.add(this._element,"mousedown",qe.pointerDown),Y.add(this._element,"mousemove",qe.pointerHover),Y.add(this._element,"touchstart",qe.pointerDown),Y.add(this._element,"touchmove",qe.pointerHover)));this._doc=r.document,Ze(u,this._doc)||Je(this._doc),d.push(this),this.set(i)}function Be(e,i){var r=!1;return function(){return r||(t.console.warn(i),r=!0),e.apply(this,arguments)}}function Ke(e){for(var t=0;t<f.length;t++)f[t].pointerEnd(e,e)}function Je(e){if(!Ze(u,e)){var t=e.defaultView||e.parentWindow;for(var i in v)Y.add(e,i,$e),Y.add(e,i,Ge,!0);h?(l=h===t.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"},Y.add(e,l.down,qe.selectorDown),Y.add(e,l.move,qe.pointerMove),Y.add(e,l.over,qe.pointerOver),Y.add(e,l.out,qe.pointerOut),Y.add(e,l.up,qe.pointerUp),Y.add(e,l.cancel,qe.pointerCancel),Y.add(e,l.move,qe.autoScrollMove)):(Y.add(e,"mousedown",qe.selectorDown),Y.add(e,"mousemove",qe.pointerMove),Y.add(e,"mouseup",qe.pointerUp),Y.add(e,"mouseover",qe.pointerOver),Y.add(e,"mouseout",qe.pointerOut),Y.add(e,"touchstart",qe.selectorDown),Y.add(e,"touchmove",qe.pointerMove),Y.add(e,"touchend",qe.pointerUp),Y.add(e,"touchcancel",qe.pointerCancel),Y.add(e,"mousemove",qe.autoScrollMove),Y.add(e,"touchmove",qe.autoScrollMove)),Y.add(t,"blur",Ke);try{if(t.frameElement){var r=t.frameElement.ownerDocument,s=r.defaultView;Y.add(r,"mouseup",qe.pointerEnd),Y.add(r,"touchend",qe.pointerEnd),Y.add(r,"touchcancel",qe.pointerEnd),Y.add(r,"pointerup",qe.pointerEnd),Y.add(r,"MSPointerUp",qe.pointerEnd),Y.add(s,"blur",Ke)}}catch(n){Le.windowParentError=n}Y.add(e,"dragstart",function(e){for(var t=0;t<f.length;t++){var i=f[t];if(i.element&&(i.element===e.target||xe(i.element,e.target)))return void i.checkAndPreventDefault(e,i.target,i.element)}}),Y.useAttachEvent&&(Y.add(e,"selectstart",function(e){var t=f[0];t.currentAction()&&t.checkAndPreventDefault(e)}),Y.add(e,"dblclick",ke("ie8Dblclick"))),u.push(e)}}function Qe(e,t){for(var i=0,r=e.length;r>i;i++)if(e[i]===t)return i;return-1}function Ze(e,t){return-1!==Qe(e,t)}function et(i,r,s){return k?k(i,r,s):(t!==e&&(r=r.replace(/\/deep\//g," ")),i[_](r))}function tt(e,t,i){for(;F(e);){if(et(e,t))return!0;if(e=Se(e),e===i)return et(e,t)}return!1}if(e){var l,k,t=function(){var t=e.document.createTextNode("");return t.ownerDocument!==e.document&&"function"==typeof e.wrap&&e.wrap(t)===t?e.wrap(e):e}(),i=t.document,r=t.DocumentFragment||R,s=t.SVGElement||R,n=t.SVGSVGElement||R,o=t.SVGElementInstance||R,a=t.HTMLElement||t.Element,h=t.PointerEvent||t.MSPointerEvent,p=Math.hypot||function(e,t){return Math.sqrt(e*e+t*t)},c={},u=[],d=[],f=[],g=!1,v={},m={base:{accept:null,actionChecker:null,styleCursor:!0,preventDefault:"auto",origin:{x:0,y:0},deltaSource:"page",allowFrom:null,ignoreFrom:null,_context:i,dropChecker:null},drag:{enabled:!1,manualStart:!0,max:1/0,maxPerElement:1,snap:null,restrict:null,inertia:null,autoScroll:null,axis:"xy"},drop:{enabled:!1,accept:null,overlap:"pointer"},resize:{enabled:!1,manualStart:!1,max:1/0,maxPerElement:1,snap:null,restrict:null,inertia:null,autoScroll:null,square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},gesture:{manualStart:!1,enabled:!1,max:1/0,maxPerElement:1,restrict:null},perAction:{manualStart:!1,max:1/0,maxPerElement:1,snap:{enabled:!1,endOnly:!1,range:1/0,targets:null,offsets:null,relativePoints:null},restrict:{enabled:!1,endOnly:!1},autoScroll:{enabled:!1,container:null,margin:60,speed:300},inertia:{enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,zeroResumeDelta:!0,smoothEndDuration:300}},_holdDuration:600},y={interaction:null,i:null,x:0,y:0,scroll:function(){var n,o,a,h,e=y.interaction.target.options[y.interaction.prepared.name].autoScroll,t=e.container||ae(y.interaction.element),i=(new Date).getTime(),r=(i-y.prevTimeX)/1e3,s=(i-y.prevTimeY)/1e3;e.velocity?(n=e.velocity.x,o=e.velocity.y):n=o=e.speed,a=n*r,h=o*s,(a>=1||h>=1)&&(N(t)?t.scrollBy(y.x*a,y.y*h):t&&(t.scrollLeft+=y.x*a,t.scrollTop+=y.y*h),a>=1&&(y.prevTimeX=i),h>=1&&(y.prevTimeY=i)),y.isScrolling&&(X(y.i),y.i=I(y.scroll))},isScrolling:!1,prevTimeX:0,prevTimeY:0,start:function(e){y.isScrolling=!0,X(y.i),y.interaction=e,y.prevTimeX=(new Date).getTime(),y.prevTimeY=(new Date).getTime(),y.i=I(y.scroll)},stop:function(){y.isScrolling=!1,X(y.i)}},x="ontouchstart"in t||t.DocumentTouch&&i instanceof t.DocumentTouch,E=!!h,S=x||E?20:10,b=1,w=0,z=1/0,D=i.all&&!t.atob?{drag:"move",resizex:"e-resize",resizey:"s-resize",resizexy:"se-resize",resizetop:"n-resize",resizeleft:"w-resize",resizebottom:"s-resize",resizeright:"e-resize",resizetopleft:"se-resize",resizebottomright:"se-resize",resizetopright:"ne-resize",resizebottomleft:"ne-resize",gesture:""}:{drag:"move",resizex:"ew-resize",resizey:"ns-resize",resizexy:"nwse-resize",resizetop:"ns-resize",resizeleft:"ew-resize",resizebottom:"ns-resize",resizeright:"ew-resize",resizetopleft:"nwse-resize",resizebottomright:"nwse-resize",resizetopright:"nesw-resize",resizebottomleft:"nesw-resize",gesture:""},T={drag:!0,resize:!0,gesture:!0},C="onmousewheel"in i?"mousewheel":"wheel",M=["dragstart","dragmove","draginertiastart","dragend","dragenter","dragleave","dropactivate","dropdeactivate","dropmove","drop","resizestart","resizemove","resizeinertiastart","resizeend","gesturestart","gesturemove","gestureinertiastart","gestureend","down","move","up","cancel","tap","doubletap","hold"],P={},A="Opera"==navigator.appName&&x&&navigator.userAgent.match("Presto"),O=/iP(hone|od|ad)/.test(navigator.platform)&&/OS 7[^\d]/.test(navigator.appVersion),_="matches"in Element.prototype?"matches":"webkitMatchesSelector"in Element.prototype?"webkitMatchesSelector":"mozMatchesSelector"in Element.prototype?"mozMatchesSelector":"oMatchesSelector"in Element.prototype?"oMatchesSelector":"msMatchesSelector",I=e.requestAnimationFrame,X=e.cancelAnimationFrame,Y=function(){function h(t,r,h,l){var d=Qe(n,t),f=o[d];if(f||(f={events:{},typeCount:0},d=n.push(t)-1,o.push(f),a.push(e?{supplied:[],wrapped:[],useCount:[]}:null)),f.events[r]||(f.events[r]=[],f.typeCount++),!Ze(f.events[r],h)){var g;if(e){var v=a[d],m=Qe(v.supplied,h),y=v.wrapped[m]||function(e){e.immediatePropagationStopped||(e.target=e.srcElement,e.currentTarget=t,e.preventDefault=e.preventDefault||p,e.stopPropagation=e.stopPropagation||c,e.stopImmediatePropagation=e.stopImmediatePropagation||u,/mouse|click/.test(e.type)&&(e.pageX=e.clientX+ae(t).document.documentElement.scrollLeft,e.pageY=e.clientY+ae(t).document.documentElement.scrollTop),h(e))};g=t[i](s+r,y,Boolean(l)),-1===m?(v.supplied.push(h),v.wrapped.push(y),v.useCount.push(1)):v.useCount[m]++}else g=t[i](r,h,l||!1);return f.events[r].push(h),g}}function l(t,i,h,p){var c,f,g,u=Qe(n,t),d=o[u],v=h;if(d&&d.events)if(e&&(f=a[u],g=Qe(f.supplied,h),v=f.wrapped[g]),"all"!==i){if(d.events[i]){var m=d.events[i].length;if("all"===h){for(c=0;m>c;c++)l(t,i,d.events[i][c],Boolean(p));return}for(c=0;m>c;c++)if(d.events[i][c]===h){t[r](s+i,v,p||!1),d.events[i].splice(c,1),e&&f&&(f.useCount[g]--,0===f.useCount[g]&&(f.supplied.splice(g,1),f.wrapped.splice(g,1),f.useCount.splice(g,1)));break}d.events[i]&&0===d.events[i].length&&(d.events[i]=null,d.typeCount--)}d.typeCount||(o.splice(u,1),n.splice(u,1),a.splice(u,1))}else for(i in d.events)d.events.hasOwnProperty(i)&&l(t,i,"all")}function p(){this.returnValue=!1}function c(){this.cancelBubble=!0}function u(){this.cancelBubble=!0,this.immediatePropagationStopped=!0}var e="attachEvent"in t&&!("addEventListener"in t),i=e?"attachEvent":"addEventListener",r=e?"detachEvent":"removeEventListener",s=e?"on":"",n=[],o=[],a=[];return{add:h,remove:l,useAttachEvent:e,_elements:n,_targets:o,_attachedListeners:a}}(),B={webkit:/(Movement[XY]|Radius[XY]|RotationAngle|Force)$/};Oe.prototype={getPageXY:function(e,t){return ie(e,t,this)},getClientXY:function(e,t){return re(e,t,this)},setEventXY:function(e,t){return Q(e,t,this)},pointerOver:function(e,t,i){function p(e,t){e&&be(e,i)&&!we(e,i,i)&&ze(e,i,i)&&et(i,t)&&(r.push(e),s.push(i))}if(!this.prepared.name&&this.mouse){var r=[],s=[],n=this.element;this.addPointer(e),!this.target||!we(this.target,this.element,i)&&ze(this.target,this.element,i)||(this.target=null,this.element=null,this.matches=[],this.matchElements=[]);var o=d.get(i),a=o&&!we(o,i,i)&&ze(o,i,i)&&Ne(o.getAction(e,t,this,i),o);a&&!Pe(o,i,a)&&(a=null),a?(this.target=o,this.element=i,this.matches=[],this.matchElements=[]):(d.forEachSelector(p),this.validateSelector(e,t,r,s)?(this.matches=r,this.matchElements=s,this.pointerHover(e,t,this.matches,this.matchElements),Y.add(i,h?l.move:"mousemove",qe.pointerHover)):this.target&&(xe(n,i)?(this.pointerHover(e,t,this.matches,this.matchElements),Y.add(this.element,h?l.move:"mousemove",qe.pointerHover)):(this.target=null,this.element=null,this.matches=[],this.matchElements=[])))}},pointerHover:function(e,t,i,r,s,n){var o=this.target;if(!this.prepared.name&&this.mouse){var a;this.setEventXY(this.curCoords,[e]),s?a=this.validateSelector(e,t,s,n):o&&(a=Ne(o.getAction(this.pointers[0],t,this,this.element),this.target)),o&&o.options.styleCursor&&(a?o._doc.documentElement.style.cursor=Ye(a):o._doc.documentElement.style.cursor="")}else this.prepared.name&&this.checkAndPreventDefault(t,o,this.element)},pointerOut:function(e,t,i){this.prepared.name||(d.get(i)||Y.remove(i,h?l.move:"mousemove",qe.pointerHover),this.target&&this.target.options.styleCursor&&!this.interacting()&&(this.target._doc.documentElement.style.cursor=""))},selectorDown:function(e,t,i,r){function l(e,t,r){var n=k?r.querySelectorAll(t):void 0;be(e,o)&&!we(e,o,i)&&ze(e,o,i)&&et(o,t,n)&&(s.matches.push(e),s.matchElements.push(o))}var h,s=this,n=Y.useAttachEvent?j({},t):t,o=i,a=this.addPointer(e);if(this.holdTimers[a]=setTimeout(function(){s.pointerHold(Y.useAttachEvent?n:e,n,i,r)},m._holdDuration),this.pointerIsDown=!0,this.inertiaStatus.active&&this.target.selector)for(;F(o);){if(o===this.element&&Ne(this.target.getAction(e,t,this,this.element),this.target).name===this.prepared.name)return X(this.inertiaStatus.i),this.inertiaStatus.active=!1,void this.collectEventTargets(e,t,i,"down");o=Se(o)}if(this.interacting())return void this.collectEventTargets(e,t,i,"down");for(this.setEventXY(this.curCoords,[e]),this.downEvent=t;F(o)&&!h;)this.matches=[],this.matchElements=[],d.forEachSelector(l),h=this.validateSelector(e,t,this.matches,this.matchElements),o=Se(o);return h?(this.prepared.name=h.name,this.prepared.axis=h.axis,this.prepared.edges=h.edges,this.collectEventTargets(e,t,i,"down"),this.pointerDown(e,t,i,r,h)):(this.downTimes[a]=(new Date).getTime(),this.downTargets[a]=i,K(this.downPointer,e),J(this.prevCoords,this.curCoords),this.pointerWasMoved=!1,void this.collectEventTargets(e,t,i,"down"))},pointerDown:function(e,t,i,r,s){if(!s&&!this.inertiaStatus.active&&this.pointerWasMoved&&this.prepared.name)return void this.checkAndPreventDefault(t,this.target,this.element);this.pointerIsDown=!0,this.downEvent=t;var o,n=this.addPointer(e);if(this.pointerIds.length>1&&this.target._element===this.element){var a=Ne(s||this.target.getAction(e,t,this,this.element),this.target);Pe(this.target,this.element,a)&&(o=a),this.prepared.name=null}else if(!this.prepared.name){var h=d.get(r);h&&!we(h,r,i)&&ze(h,r,i)&&(o=Ne(s||h.getAction(e,t,this,r),h,i))&&Pe(h,r,o)&&(this.target=h,this.element=r)}var l=this.target,p=l&&l.options;if(!l||!s&&this.prepared.name)this.inertiaStatus.active&&r===this.element&&Ne(l.getAction(e,t,this,this.element),l).name===this.prepared.name&&(X(this.inertiaStatus.i),this.inertiaStatus.active=!1,this.checkAndPreventDefault(t,l,this.element));else{if(o=o||Ne(s||l.getAction(e,t,this,r),l,this.element),this.setEventXY(this.startCoords,this.pointers),!o)return;p.styleCursor&&(l._doc.documentElement.style.cursor=Ye(o)),this.resizeAxes="resize"===o.name?o.axis:null,"gesture"===o&&this.pointerIds.length<2&&(o=null),this.prepared.name=o.name,this.prepared.axis=o.axis,this.prepared.edges=o.edges,this.snapStatus.snappedX=this.snapStatus.snappedY=this.restrictStatus.restrictedX=this.restrictStatus.restrictedY=NaN,this.downTimes[n]=(new Date).getTime(),this.downTargets[n]=i,K(this.downPointer,e),J(this.prevCoords,this.startCoords),this.pointerWasMoved=!1,this.checkAndPreventDefault(t,l,this.element)}},setModifications:function(e,t){var i=this.target,r=!0,s=Te(i,this.prepared.name)&&(!i.options[this.prepared.name].snap.endOnly||t),n=Ce(i,this.prepared.name)&&(!i.options[this.prepared.name].restrict.endOnly||t);return s?this.setSnapping(e):this.snapStatus.locked=!1,n?this.setRestriction(e):this.restrictStatus.restricted=!1,s&&this.snapStatus.locked&&!this.snapStatus.changed?r=n&&this.restrictStatus.restricted&&this.restrictStatus.changed:n&&this.restrictStatus.restricted&&!this.restrictStatus.changed&&(r=!1),r},setStartOffsets:function(e,t,i){var a,h,r=t.getRect(i),s=ge(t,i),n=t.options[this.prepared.name].snap,o=t.options[this.prepared.name].restrict;r?(this.startOffset.left=this.startCoords.page.x-r.left,this.startOffset.top=this.startCoords.page.y-r.top,this.startOffset.right=r.right-this.startCoords.page.x,this.startOffset.bottom=r.bottom-this.startCoords.page.y,a="width"in r?r.width:r.right-r.left,h="height"in r?r.height:r.bottom-r.top):this.startOffset.left=this.startOffset.top=this.startOffset.right=this.startOffset.bottom=0,this.snapOffsets.splice(0);var l=n&&"startCoords"===n.offset?{x:this.startCoords.page.x-s.x,y:this.startCoords.page.y-s.y}:n&&n.offset||{x:0,y:0};if(r&&n&&n.relativePoints&&n.relativePoints.length)for(var p=0;p<n.relativePoints.length;p++)this.snapOffsets.push({x:this.startOffset.left-a*n.relativePoints[p].x+l.x,y:this.startOffset.top-h*n.relativePoints[p].y+l.y});else this.snapOffsets.push(l);r&&o.elementRect?(this.restrictOffset.left=this.startOffset.left-a*o.elementRect.left,this.restrictOffset.top=this.startOffset.top-h*o.elementRect.top,this.restrictOffset.right=this.startOffset.right-a*(1-o.elementRect.right),this.restrictOffset.bottom=this.startOffset.bottom-h*(1-o.elementRect.bottom)):this.restrictOffset.left=this.restrictOffset.top=this.restrictOffset.right=this.restrictOffset.bottom=0},start:function(e,t,i){this.interacting()||!this.pointerIsDown||this.pointerIds.length<("gesture"===e.name?2:1)||(-1===Qe(f,this)&&f.push(this),this.prepared.name||this.setEventXY(this.startCoords),this.prepared.name=e.name,this.prepared.axis=e.axis,this.prepared.edges=e.edges,this.target=t,this.element=i,this.setStartOffsets(e.name,t,i),this.setModifications(this.startCoords.page),this.prevEvent=this[this.prepared.name+"Start"](this.downEvent))},pointerMove:function(e,t,i,r,s){if(this.inertiaStatus.active){var n=this.inertiaStatus.upCoords.page,o=this.inertiaStatus.upCoords.client,a={pageX:n.x+this.inertiaStatus.sx,pageY:n.y+this.inertiaStatus.sy,clientX:o.x+this.inertiaStatus.sx,clientY:o.y+this.inertiaStatus.sy};this.setEventXY(this.curCoords,[a])}else this.recordPointer(e),this.setEventXY(this.curCoords,this.pointers);var l,c,h=this.curCoords.page.x===this.prevCoords.page.x&&this.curCoords.page.y===this.prevCoords.page.y&&this.curCoords.client.x===this.prevCoords.client.x&&this.curCoords.client.y===this.prevCoords.client.y,u=this.mouse?0:Qe(this.pointerIds,ne(e));if(this.pointerIsDown&&!this.pointerWasMoved&&(l=this.curCoords.client.x-this.startCoords.client.x,c=this.curCoords.client.y-this.startCoords.client.y,this.pointerWasMoved=p(l,c)>b),h||this.pointerIsDown&&!this.pointerWasMoved||(this.pointerIsDown&&clearTimeout(this.holdTimers[u]),this.collectEventTargets(e,t,i,"move")),this.pointerIsDown){if(h&&this.pointerWasMoved&&!s)return void this.checkAndPreventDefault(t,this.target,this.element);if(Z(this.pointerDelta,this.prevCoords,this.curCoords),this.prepared.name){if(this.pointerWasMoved&&(!this.inertiaStatus.active||e instanceof Ie&&/inertiastart/.test(e.type))){if(!this.interacting()&&(Z(this.pointerDelta,this.prevCoords,this.curCoords),"drag"===this.prepared.name)){var f=Math.abs(l),g=Math.abs(c),v=this.target.options.drag.axis,m=f>g?"x":g>f?"y":"xy";if("xy"!==m&&"xy"!==v&&v!==m){this.prepared.name=null;for(var y=i;F(y);){var x=d.get(y);if(x&&x!==this.target&&!x.options.drag.manualStart&&"drag"===x.getAction(this.downPointer,this.downEvent,this,y).name&&De(m,x)){this.prepared.name="drag",this.target=x,this.element=y;break}y=Se(y)}if(!this.prepared.name){var E=this,S=function(e,t,r){var s=k?r.querySelectorAll(t):void 0;if(e!==E.target)return be(e,i)&&!e.options.drag.manualStart&&!we(e,y,i)&&ze(e,y,i)&&et(y,t,s)&&"drag"===e.getAction(E.downPointer,E.downEvent,E,y).name&&De(m,e)&&Pe(e,y,"drag")?e:void 0};for(y=i;F(y);){var w=d.forEachSelector(S);if(w){this.prepared.name="drag",this.target=w,this.element=y;break}y=Se(y)}}}}var z=!!this.prepared.name&&!this.interacting();if(z&&(this.target.options[this.prepared.name].manualStart||!Pe(this.target,this.element,this.prepared)))return void this.stop(t);if(this.prepared.name&&this.target){z&&this.start(this.prepared,this.target,this.element);
var D=this.setModifications(this.curCoords.page,s);(D||z)&&(this.prevEvent=this[this.prepared.name+"Move"](t)),this.checkAndPreventDefault(t,this.target,this.element)}}J(this.prevCoords,this.curCoords),(this.dragging||this.resizing)&&this.autoScrollMove(e)}}},dragStart:function(e){var t=new Ie(this,e,"drag","start",this.element);this.dragging=!0,this.target.fire(t),this.activeDrops.dropzones=[],this.activeDrops.elements=[],this.activeDrops.rects=[],this.dynamicDrop||this.setActiveDrops(this.element);var i=this.getDropEvents(e,t);return i.activate&&this.fireActiveDrops(i.activate),t},dragMove:function(e){var t=this.target,i=new Ie(this,e,"drag","move",this.element),r=this.element,s=this.getDrop(i,e,r);this.dropTarget=s.dropzone,this.dropElement=s.element;var n=this.getDropEvents(e,i);return t.fire(i),n.leave&&this.prevDropTarget.fire(n.leave),n.enter&&this.dropTarget.fire(n.enter),n.move&&this.dropTarget.fire(n.move),this.prevDropTarget=this.dropTarget,this.prevDropElement=this.dropElement,i},resizeStart:function(e){var t=new Ie(this,e,"resize","start",this.element);if(this.prepared.edges){var i=this.target.getRect(this.element);if(this.target.options.resize.square||this.target.options.resize.preserveAspectRatio){var r=j({},this.prepared.edges);r.top=r.top||r.left&&!r.bottom,r.left=r.left||r.top&&!r.right,r.bottom=r.bottom||r.right&&!r.top,r.right=r.right||r.bottom&&!r.left,this.prepared._linkedEdges=r}else this.prepared._linkedEdges=null;this.target.options.resize.preserveAspectRatio&&(this.resizeStartAspectRatio=i.width/i.height),this.resizeRects={start:i,current:j({},i),restricted:j({},i),previous:j({},i),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},t.rect=this.resizeRects.restricted,t.deltaRect=this.resizeRects.delta}return this.target.fire(t),this.resizing=!0,t},resizeMove:function(e){var t=new Ie(this,e,"resize","move",this.element),i=this.prepared.edges,r=this.target.options.resize.invert,s="reposition"===r||"negate"===r;if(i){var n=t.dx,o=t.dy,a=this.resizeRects.start,h=this.resizeRects.current,l=this.resizeRects.restricted,p=this.resizeRects.delta,c=j(this.resizeRects.previous,l),u=i;if(this.target.options.resize.preserveAspectRatio){var d=this.resizeStartAspectRatio;i=this.prepared._linkedEdges,u.left&&u.bottom||u.right&&u.top?o=-n/d:u.left||u.right?o=n/d:(u.top||u.bottom)&&(n=o*d)}else this.target.options.resize.square&&(i=this.prepared._linkedEdges,u.left&&u.bottom||u.right&&u.top?o=-n:u.left||u.right?o=n:(u.top||u.bottom)&&(n=o));if(i.top&&(h.top+=o),i.bottom&&(h.bottom+=o),i.left&&(h.left+=n),i.right&&(h.right+=n),s){if(j(l,h),"reposition"===r){var f;l.top>l.bottom&&(f=l.top,l.top=l.bottom,l.bottom=f),l.left>l.right&&(f=l.left,l.left=l.right,l.right=f)}}else l.top=Math.min(h.top,a.bottom),l.bottom=Math.max(h.bottom,a.top),l.left=Math.min(h.left,a.right),l.right=Math.max(h.right,a.left);l.width=l.right-l.left,l.height=l.bottom-l.top;for(var g in l)p[g]=l[g]-c[g];t.edges=this.prepared.edges,t.rect=l,t.deltaRect=p}return this.target.fire(t),t},gestureStart:function(e){var t=new Ie(this,e,"gesture","start",this.element);return t.ds=0,this.gesture.startDistance=this.gesture.prevDistance=t.distance,this.gesture.startAngle=this.gesture.prevAngle=t.angle,this.gesture.scale=1,this.gesturing=!0,this.target.fire(t),t},gestureMove:function(e){if(!this.pointerIds.length)return this.prevEvent;var t;return t=new Ie(this,e,"gesture","move",this.element),t.ds=t.scale-this.gesture.scale,this.target.fire(t),this.gesture.prevAngle=t.angle,this.gesture.prevDistance=t.distance,t.scale===1/0||null===t.scale||void 0===t.scale||isNaN(t.scale)||(this.gesture.scale=t.scale),t},pointerHold:function(e,t,i){this.collectEventTargets(e,t,i,"hold")},pointerUp:function(e,t,i,r){var s=this.mouse?0:Qe(this.pointerIds,ne(e));clearTimeout(this.holdTimers[s]),this.collectEventTargets(e,t,i,"up"),this.collectEventTargets(e,t,i,"tap"),this.pointerEnd(e,t,i,r),this.removePointer(e)},pointerCancel:function(e,t,i,r){var s=this.mouse?0:Qe(this.pointerIds,ne(e));clearTimeout(this.holdTimers[s]),this.collectEventTargets(e,t,i,"cancel"),this.pointerEnd(e,t,i,r),this.removePointer(e)},ie8Dblclick:function(e,t,i){this.prevTap&&t.clientX===this.prevTap.clientX&&t.clientY===this.prevTap.clientY&&i===this.prevTap.target&&(this.downTargets[0]=i,this.downTimes[0]=(new Date).getTime(),this.collectEventTargets(e,t,i,"tap"))},pointerEnd:function(e,t,i,r){var s,n=this.target,o=n&&n.options,a=o&&this.prepared.name&&o[this.prepared.name].inertia,h=this.inertiaStatus;if(this.interacting()){if(h.active&&!h.ending)return;var l,y,p=(new Date).getTime(),c=!1,u=!1,d=!1,f=Te(n,this.prepared.name)&&o[this.prepared.name].snap.endOnly,g=Ce(n,this.prepared.name)&&o[this.prepared.name].restrict.endOnly,v=0,m=0;if(l=this.dragging?"x"===o.drag.axis?Math.abs(this.pointerDelta.client.vx):"y"===o.drag.axis?Math.abs(this.pointerDelta.client.vy):this.pointerDelta.client.speed:this.pointerDelta.client.speed,c=a&&a.enabled&&"gesture"!==this.prepared.name&&t!==h.startEvent,u=c&&p-this.curCoords.timeStamp<50&&l>a.minSpeed&&l>a.endSpeed,c&&!u&&(f||g)){var x={};x.snap=x.restrict=x,f&&(this.setSnapping(this.curCoords.page,x),x.locked&&(v+=x.dx,m+=x.dy)),g&&(this.setRestriction(this.curCoords.page,x),x.restricted&&(v+=x.dx,m+=x.dy)),(v||m)&&(d=!0)}if(u||d){if(J(h.upCoords,this.curCoords),this.pointers[0]=h.startEvent=y=new Ie(this,t,this.prepared.name,"inertiastart",this.element),h.t0=p,n.fire(h.startEvent),u){h.vx0=this.pointerDelta.client.vx,h.vy0=this.pointerDelta.client.vy,h.v0=l,this.calcInertia(h);var b,E=j({},this.curCoords.page),S=ge(n,this.element);if(E.x=E.x+h.xe-S.x,E.y=E.y+h.ye-S.y,b={useStatusXY:!0,x:E.x,y:E.y,dx:0,dy:0,snap:null},b.snap=b,v=m=0,f){var w=this.setSnapping(this.curCoords.page,b);w.locked&&(v+=w.dx,m+=w.dy)}if(g){var z=this.setRestriction(this.curCoords.page,b);z.restricted&&(v+=z.dx,m+=z.dy)}h.modifiedXe+=v,h.modifiedYe+=m,h.i=I(this.boundInertiaFrame)}else h.smoothEnd=!0,h.xe=v,h.ye=m,h.sx=h.sy=0,h.i=I(this.boundSmoothEndFrame);return void(h.active=!0)}(f||g)&&this.pointerMove(e,t,i,r,!0)}if(this.dragging){s=new Ie(this,t,"drag","end",this.element);var D=this.element,T=this.getDrop(s,t,D);this.dropTarget=T.dropzone,this.dropElement=T.element;var C=this.getDropEvents(t,s);C.leave&&this.prevDropTarget.fire(C.leave),C.enter&&this.dropTarget.fire(C.enter),C.drop&&this.dropTarget.fire(C.drop),C.deactivate&&this.fireActiveDrops(C.deactivate),n.fire(s)}else this.resizing?(s=new Ie(this,t,"resize","end",this.element),n.fire(s)):this.gesturing&&(s=new Ie(this,t,"gesture","end",this.element),n.fire(s));this.stop(t)},collectDrops:function(e){var r,t=[],i=[];for(e=e||this.element,r=0;r<d.length;r++)if(d[r].options.drop.enabled){var s=d[r],n=s.options.drop.accept;if(!(F(n)&&n!==e||G(n)&&!et(e,n)))for(var o=s.selector?s._context.querySelectorAll(s.selector):[s._element],a=0,h=o.length;h>a;a++){var l=o[a];l!==e&&(t.push(s),i.push(l))}}return{dropzones:t,elements:i}},fireActiveDrops:function(e){var t,i,r,s;for(t=0;t<this.activeDrops.dropzones.length;t++)i=this.activeDrops.dropzones[t],r=this.activeDrops.elements[t],r!==s&&(e.target=r,i.fire(e)),s=r},setActiveDrops:function(e){var t=this.collectDrops(e,!0);this.activeDrops.dropzones=t.dropzones,this.activeDrops.elements=t.elements,this.activeDrops.rects=[];for(var i=0;i<this.activeDrops.dropzones.length;i++)this.activeDrops.rects[i]=this.activeDrops.dropzones[i].getRect(this.activeDrops.elements[i])},getDrop:function(e,t,i){var r=[];g&&this.setActiveDrops(i);for(var s=0;s<this.activeDrops.dropzones.length;s++){var n=this.activeDrops.dropzones[s],o=this.activeDrops.elements[s],a=this.activeDrops.rects[s];r.push(n.dropCheck(e,t,this.target,i,o,a)?o:null)}var h=Ae(r),l=this.activeDrops.dropzones[h]||null,p=this.activeDrops.elements[h]||null;return{dropzone:l,element:p}},getDropEvents:function(e,t){var i={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return this.dropElement!==this.prevDropElement&&(this.prevDropTarget&&(i.leave={target:this.prevDropElement,dropzone:this.prevDropTarget,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"dragleave"},t.dragLeave=this.prevDropElement,t.prevDropzone=this.prevDropTarget),this.dropTarget&&(i.enter={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"dragenter"},t.dragEnter=this.dropElement,t.dropzone=this.dropTarget)),"dragend"===t.type&&this.dropTarget&&(i.drop={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"drop"},t.dropzone=this.dropTarget),"dragstart"===t.type&&(i.activate={target:null,dropzone:null,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"dropactivate"}),"dragend"===t.type&&(i.deactivate={target:null,dropzone:null,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"dropdeactivate"}),"dragmove"===t.type&&this.dropTarget&&(i.move={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,dragmove:t,timeStamp:t.timeStamp,type:"dropmove"},t.dropzone=this.dropTarget),i},currentAction:function(){return this.dragging&&"drag"||this.resizing&&"resize"||this.gesturing&&"gesture"||null},interacting:function(){return this.dragging||this.resizing||this.gesturing},clearTargets:function(){this.target=this.element=null,this.dropTarget=this.dropElement=this.prevDropTarget=this.prevDropElement=null},stop:function(e){if(this.interacting()){y.stop(),this.matches=[],this.matchElements=[];var t=this.target;t.options.styleCursor&&(t._doc.documentElement.style.cursor=""),e&&U(e.preventDefault)&&this.checkAndPreventDefault(e,t,this.element),this.dragging&&(this.activeDrops.dropzones=this.activeDrops.elements=this.activeDrops.rects=null)}this.clearTargets(),this.pointerIsDown=this.snapStatus.locked=this.dragging=this.resizing=this.gesturing=!1,this.prepared.name=this.prevEvent=null,this.inertiaStatus.resumeDx=this.inertiaStatus.resumeDy=0;for(var i=0;i<this.pointers.length;i++)-1===Qe(this.pointerIds,ne(this.pointers[i]))&&this.pointers.splice(i,1)},inertiaFrame:function(){var e=this.inertiaStatus,t=this.target.options[this.prepared.name].inertia,i=t.resistance,r=(new Date).getTime()/1e3-e.t0;if(r<e.te){var s=1-(Math.exp(-i*r)-e.lambda_v0)/e.one_ve_v0;if(e.modifiedXe===e.xe&&e.modifiedYe===e.ye)e.sx=e.xe*s,e.sy=e.ye*s;else{var n=me(0,0,e.xe,e.ye,e.modifiedXe,e.modifiedYe,s);e.sx=n.x,e.sy=n.y}this.pointerMove(e.startEvent,e.startEvent),e.i=I(this.boundInertiaFrame)}else e.ending=!0,e.sx=e.modifiedXe,e.sy=e.modifiedYe,this.pointerMove(e.startEvent,e.startEvent),this.pointerEnd(e.startEvent,e.startEvent),e.active=e.ending=!1},smoothEndFrame:function(){var e=this.inertiaStatus,t=(new Date).getTime()-e.t0,i=this.target.options[this.prepared.name].inertia.smoothEndDuration;i>t?(e.sx=ye(t,0,e.xe,i),e.sy=ye(t,0,e.ye,i),this.pointerMove(e.startEvent,e.startEvent),e.i=I(this.boundSmoothEndFrame)):(e.ending=!0,e.sx=e.xe,e.sy=e.ye,this.pointerMove(e.startEvent,e.startEvent),this.pointerEnd(e.startEvent,e.startEvent),e.smoothEnd=e.active=e.ending=!1)},addPointer:function(e){var t=ne(e),i=this.mouse?0:Qe(this.pointerIds,t);return-1===i&&(i=this.pointerIds.length),this.pointerIds[i]=t,this.pointers[i]=e,i},removePointer:function(e){var t=ne(e),i=this.mouse?0:Qe(this.pointerIds,t);-1!==i&&(this.pointers.splice(i,1),this.pointerIds.splice(i,1),this.downTargets.splice(i,1),this.downTimes.splice(i,1),this.holdTimers.splice(i,1))},recordPointer:function(e){var t=this.mouse?0:Qe(this.pointerIds,ne(e));-1!==t&&(this.pointers[t]=e)},collectEventTargets:function(e,t,i,r){function h(e,t,s){var h=k?s.querySelectorAll(t):void 0;e._iEvents[r]&&F(a)&&be(e,a)&&!we(e,a,i)&&ze(e,a,i)&&et(a,t,h)&&(n.push(e),o.push(a))}var s=this.mouse?0:Qe(this.pointerIds,ne(e));if("tap"!==r||!this.pointerWasMoved&&this.downTargets[s]&&this.downTargets[s]===i){for(var n=[],o=[],a=i;a;)Le.isSet(a)&&Le(a)._iEvents[r]&&(n.push(Le(a)),o.push(a)),d.forEachSelector(h),a=Se(a);(n.length||"tap"===r)&&this.firePointers(e,t,i,n,o,r)}},firePointers:function(e,t,i,r,s,n){var h,l,p,o=this.mouse?0:Qe(this.pointerIds,ne(e)),a={};for("doubletap"===n?a=e:(K(a,t),t!==e&&K(a,e),a.preventDefault=Xe,a.stopPropagation=Ie.prototype.stopPropagation,a.stopImmediatePropagation=Ie.prototype.stopImmediatePropagation,a.interaction=this,a.timeStamp=(new Date).getTime(),a.originalEvent=t,a.originalPointer=e,a.type=n,a.pointerId=ne(e),a.pointerType=this.mouse?"mouse":E?G(e.pointerType)?e.pointerType:[,,"touch","pen","mouse"][e.pointerType]:"touch"),"tap"===n&&(a.dt=a.timeStamp-this.downTimes[o],l=a.timeStamp-this.tapTime,p=!!(this.prevTap&&"doubletap"!==this.prevTap.type&&this.prevTap.target===a.target&&500>l),a["double"]=p,this.tapTime=a.timeStamp),h=0;h<r.length&&(a.currentTarget=s[h],a.interactable=r[h],r[h].fire(a),!(a.immediatePropagationStopped||a.propagationStopped&&s[h+1]!==a.currentTarget));h++);if(p){var c={};j(c,a),c.dt=l,c.type="doubletap",this.collectEventTargets(c,t,i,"doubletap"),this.prevTap=c}else"tap"===n&&(this.prevTap=a)},validateSelector:function(e,t,i,r){for(var s=0,n=i.length;n>s;s++){var o=i[s],a=r[s],h=Ne(o.getAction(e,t,this,a),o);if(h&&Pe(o,a,h))return this.target=o,this.element=a,h}},setSnapping:function(e,t){var s,n,o,i=this.target.options[this.prepared.name].snap,r=[];if(t=t||this.snapStatus,t.useStatusXY)n={x:t.x,y:t.y};else{var a=ge(this.target,this.element);n=j({},e),n.x-=a.x,n.y-=a.y}t.realX=n.x,t.realY=n.y,n.x=n.x-this.inertiaStatus.resumeDx,n.y=n.y-this.inertiaStatus.resumeDy;for(var h=i.targets?i.targets.length:0,l=0;l<this.snapOffsets.length;l++){var c={x:n.x-this.snapOffsets[l].x,y:n.y-this.snapOffsets[l].y};for(o=0;h>o;o++)s=U(i.targets[o])?i.targets[o](c.x,c.y,this):i.targets[o],s&&r.push({x:V(s.x)?s.x+this.snapOffsets[l].x:c.x,y:V(s.y)?s.y+this.snapOffsets[l].y:c.y,range:V(s.range)?s.range:i.range})}var u={target:null,inRange:!1,distance:0,range:0,dx:0,dy:0};for(o=0,h=r.length;h>o;o++){s=r[o];var d=s.range,f=s.x-n.x,g=s.y-n.y,v=p(f,g),m=d>=v;d===1/0&&u.inRange&&u.range!==1/0&&(m=!1),(!u.target||(m?u.inRange&&d!==1/0?v/d<u.distance/u.range:d===1/0&&u.range!==1/0||v<u.distance:!u.inRange&&v<u.distance))&&(d===1/0&&(m=!0),u.target=s,u.distance=v,u.range=d,u.inRange=m,u.dx=f,u.dy=g,t.range=d)}var y;return u.target?(y=t.snappedX!==u.target.x||t.snappedY!==u.target.y,t.snappedX=u.target.x,t.snappedY=u.target.y):(y=!0,t.snappedX=NaN,t.snappedY=NaN),t.dx=u.dx,t.dy=u.dy,t.changed=y||u.inRange&&!t.locked,t.locked=u.inRange,t},setRestriction:function(e,t){var n,i=this.target,r=i&&i.options[this.prepared.name].restrict,s=r&&r.restriction;if(!s)return t;t=t||this.restrictStatus,n=n=t.useStatusXY?{x:t.x,y:t.y}:j({},e),t.snap&&t.snap.locked&&(n.x+=t.snap.dx||0,n.y+=t.snap.dy||0),n.x-=this.inertiaStatus.resumeDx,n.y-=this.inertiaStatus.resumeDy,t.dx=0,t.dy=0,t.restricted=!1;var o,a,h;return G(s)&&(s="parent"===s?Se(this.element):"self"===s?i.getRect(this.element):Ee(this.element,s),!s)?t:(U(s)&&(s=s(n.x,n.y,this.element)),F(s)&&(s=le(s)),o=s,s?"x"in s&&"y"in s?(a=Math.max(Math.min(o.x+o.width-this.restrictOffset.right,n.x),o.x+this.restrictOffset.left),h=Math.max(Math.min(o.y+o.height-this.restrictOffset.bottom,n.y),o.y+this.restrictOffset.top)):(a=Math.max(Math.min(o.right-this.restrictOffset.right,n.x),o.left+this.restrictOffset.left),h=Math.max(Math.min(o.bottom-this.restrictOffset.bottom,n.y),o.top+this.restrictOffset.top)):(a=n.x,h=n.y),t.dx=a-n.x,t.dy=h-n.y,t.changed=t.restrictedX!==a||t.restrictedY!==h,t.restricted=!(!t.dx&&!t.dy),t.restrictedX=a,t.restrictedY=h,t)},checkAndPreventDefault:function(e,t,i){if(t=t||this.target){var r=t.options,s=r.preventDefault;if("auto"===s&&i&&!/^(input|select|textarea)$/i.test(e.target.nodeName)){if(/down|start/i.test(e.type)&&"drag"===this.prepared.name&&"xy"!==r.drag.axis)return;if(r[this.prepared.name]&&r[this.prepared.name].manualStart&&!this.interacting())return;return void e.preventDefault()}return"always"===s?void e.preventDefault():void 0}},calcInertia:function(e){var t=this.target.options[this.prepared.name].inertia,i=t.resistance,r=-Math.log(t.endSpeed/e.v0)/i;e.x0=this.prevEvent.pageX,e.y0=this.prevEvent.pageY,e.t0=e.startEvent.timeStamp/1e3,e.sx=e.sy=0,e.modifiedXe=e.xe=(e.vx0-r)/i,e.modifiedYe=e.ye=(e.vy0-r)/i,e.te=r,e.lambda_v0=i/e.v0,e.one_ve_v0=1-t.endSpeed/e.v0},autoScrollMove:function(e){if(this.interacting()&&Me(this.target,this.prepared.name)){if(this.inertiaStatus.active)return void(y.x=y.y=0);var t,i,r,s,n=this.target.options[this.prepared.name].autoScroll,o=n.container||ae(this.element);if(N(o))s=e.clientX<y.margin,t=e.clientY<y.margin,i=e.clientX>o.innerWidth-y.margin,r=e.clientY>o.innerHeight-y.margin;else{var a=he(o);s=e.clientX<a.left+y.margin,t=e.clientY<a.top+y.margin,i=e.clientX>a.right-y.margin,r=e.clientY>a.bottom-y.margin}y.x=i?1:s?-1:0,y.y=r?1:t?-1:0,y.isScrolling||(y.margin=n.margin,y.speed=n.speed,y.start(this))}},_updateEventTargets:function(e,t){this._eventTarget=e,this._curEventTarget=t}},Ie.prototype={preventDefault:R,stopImmediatePropagation:function(){this.immediatePropagationStopped=this.propagationStopped=!0},stopPropagation:function(){this.propagationStopped=!0}};for(var qe={},He=["dragStart","dragMove","resizeStart","resizeMove","gestureStart","gestureMove","pointerOver","pointerOut","pointerHover","selectorDown","pointerDown","pointerMove","pointerUp","pointerCancel","pointerEnd","addPointer","removePointer","recordPointer","autoScrollMove"],We=0,Ue=He.length;Ue>We;We++){var Ve=He[We];qe[Ve]=ke(Ve)}d.indexOfElement=function(e,t){t=t||i;for(var r=0;r<this.length;r++){var s=this[r];if(s.selector===e&&s._context===t||!s.selector&&s._element===e)return r}return-1},d.get=function(e,t){return this[this.indexOfElement(e,t&&t.context)]},d.forEachSelector=function(e){for(var t=0;t<this.length;t++){var i=this[t];if(i.selector){var r=e(i,i.selector,i._context,t,this);if(void 0!==r)return r}}},je.prototype={setOnEvents:function(e,t){return"drop"===e?(U(t.ondrop)&&(this.ondrop=t.ondrop),U(t.ondropactivate)&&(this.ondropactivate=t.ondropactivate),U(t.ondropdeactivate)&&(this.ondropdeactivate=t.ondropdeactivate),U(t.ondragenter)&&(this.ondragenter=t.ondragenter),U(t.ondragleave)&&(this.ondragleave=t.ondragleave),U(t.ondropmove)&&(this.ondropmove=t.ondropmove)):(e="on"+e,U(t.onstart)&&(this[e+"start"]=t.onstart),U(t.onmove)&&(this[e+"move"]=t.onmove),U(t.onend)&&(this[e+"end"]=t.onend),U(t.oninertiastart)&&(this[e+"inertiastart"]=t.oninertiastart)),this},draggable:function(e){return W(e)?(this.options.drag.enabled=e.enabled===!1?!1:!0,this.setPerAction("drag",e),this.setOnEvents("drag",e),/^x$|^y$|^xy$/.test(e.axis)?this.options.drag.axis=e.axis:null===e.axis&&delete this.options.drag.axis,this):$(e)?(this.options.drag.enabled=e,this):this.options.drag},setPerAction:function(e,t){for(var i in t)i in m[e]&&(W(t[i])?(this.options[e][i]=j(this.options[e][i]||{},t[i]),W(m.perAction[i])&&"enabled"in m.perAction[i]&&(this.options[e][i].enabled=t[i].enabled===!1?!1:!0)):$(t[i])&&W(m.perAction[i])?this.options[e][i].enabled=t[i]:void 0!==t[i]&&(this.options[e][i]=t[i]))},dropzone:function(e){return W(e)?(this.options.drop.enabled=e.enabled===!1?!1:!0,this.setOnEvents("drop",e),/^(pointer|center)$/.test(e.overlap)?this.options.drop.overlap=e.overlap:V(e.overlap)&&(this.options.drop.overlap=Math.max(Math.min(1,e.overlap),0)),"accept"in e&&(this.options.drop.accept=e.accept),"checker"in e&&(this.options.drop.checker=e.checker),this):$(e)?(this.options.drop.enabled=e,this):this.options.drop},dropCheck:function(e,t,i,r,s,n){var o=!1;if(!(n=n||this.getRect(s)))return this.options.drop.checker?this.options.drop.checker(e,t,o,this,s,i,r):!1;var a=this.options.drop.overlap;if("pointer"===a){var p,c,h=ie(e),l=ge(i,r);h.x+=l.x,h.y+=l.y,p=h.x>n.left&&h.x<n.right,c=h.y>n.top&&h.y<n.bottom,o=p&&c}var u=i.getRect(r);if("center"===a){var d=u.left+u.width/2,f=u.top+u.height/2;o=d>=n.left&&d<=n.right&&f>=n.top&&f<=n.bottom}if(V(a)){var g=Math.max(0,Math.min(n.right,u.right)-Math.max(n.left,u.left))*Math.max(0,Math.min(n.bottom,u.bottom)-Math.max(n.top,u.top)),v=g/(u.width*u.height);o=v>=a}return this.options.drop.checker&&(o=this.options.drop.checker(e,t,o,this,s,i,r)),o},dropChecker:function(e){return U(e)?(this.options.drop.checker=e,this):null===e?(delete this.options.getRect,this):this.options.drop.checker},accept:function(e){return F(e)?(this.options.drop.accept=e,this):L(e)?(this.options.drop.accept=e,this):null===e?(delete this.options.drop.accept,this):this.options.drop.accept},resizable:function(e){return W(e)?(this.options.resize.enabled=e.enabled===!1?!1:!0,this.setPerAction("resize",e),this.setOnEvents("resize",e),/^x$|^y$|^xy$/.test(e.axis)?this.options.resize.axis=e.axis:null===e.axis&&(this.options.resize.axis=m.resize.axis),$(e.preserveAspectRatio)?this.options.resize.preserveAspectRatio=e.preserveAspectRatio:$(e.square)&&(this.options.resize.square=e.square),this):$(e)?(this.options.resize.enabled=e,this):this.options.resize},squareResize:function(e){return $(e)?(this.options.resize.square=e,this):null===e?(delete this.options.resize.square,this):this.options.resize.square},gesturable:function(e){return W(e)?(this.options.gesture.enabled=e.enabled===!1?!1:!0,this.setPerAction("gesture",e),this.setOnEvents("gesture",e),this):$(e)?(this.options.gesture.enabled=e,this):this.options.gesture},autoScroll:function(e){return W(e)?e=j({actions:["drag","resize"]},e):$(e)&&(e={actions:["drag","resize"],enabled:e}),this.setOptions("autoScroll",e)},snap:function(e){var t=this.setOptions("snap",e);return t===this?this:t.drag},setOptions:function(e,t){var r,i=t&&H(t.actions)?t.actions:["drag"];if(W(t)||$(t)){for(r=0;r<i.length;r++){var s=/resize/.test(i[r])?"resize":i[r];if(W(this.options[s])){var n=this.options[s][e];W(t)?(j(n,t),n.enabled=t.enabled===!1?!1:!0,"snap"===e&&("grid"===n.mode?n.targets=[Le.createSnapGrid(j({offset:n.gridOffset||{x:0,y:0}},n.grid||{}))]:"anchor"===n.mode?n.targets=n.anchors:"path"===n.mode&&(n.targets=n.paths),"elementOrigin"in t&&(n.relativePoints=[t.elementOrigin]))):$(t)&&(n.enabled=t)}}return this}var o={},a=["drag","resize","gesture"];for(r=0;r<a.length;r++)e in m[a[r]]&&(o[a[r]]=this.options[a[r]][e]);return o},inertia:function(e){var t=this.setOptions("inertia",e);return t===this?this:t.drag},getAction:function(e,t,i,r){var s=this.defaultActionChecker(e,i,r);return this.options.actionChecker?this.options.actionChecker(e,t,s,this,r,i):s},defaultActionChecker:Fe,actionChecker:function(e){return U(e)?(this.options.actionChecker=e,this):null===e?(delete this.options.actionChecker,this):this.options.actionChecker},getRect:function(e){return e=e||this._element,this.selector&&!F(e)&&(e=this._context.querySelector(this.selector)),le(e)},rectChecker:function(e){return U(e)?(this.getRect=e,this):null===e?(delete this.options.getRect,this):this.getRect},styleCursor:function(e){return $(e)?(this.options.styleCursor=e,this):null===e?(delete this.options.styleCursor,this):this.options.styleCursor},preventDefault:function(e){return/^(always|never|auto)$/.test(e)?(this.options.preventDefault=e,this):$(e)?(this.options.preventDefault=e?"always":"never",this):this.options.preventDefault},origin:function(e){return L(e)?(this.options.origin=e,this):W(e)?(this.options.origin=e,this):this.options.origin},deltaSource:function(e){return"page"===e||"client"===e?(this.options.deltaSource=e,this):this.options.deltaSource},restrict:function(e){if(!W(e))return this.setOptions("restrict",e);for(var i,t=["drag","resize","gesture"],r=0;r<t.length;r++){var s=t[r];if(s in e){var n=j({actions:[s],restriction:e[s]},e);i=this.setOptions("restrict",n)}}return i},context:function(){return this._context},_context:i,ignoreFrom:function(e){return L(e)?(this.options.ignoreFrom=e,this):F(e)?(this.options.ignoreFrom=e,this):this.options.ignoreFrom},allowFrom:function(e){return L(e)?(this.options.allowFrom=e,this):F(e)?(this.options.allowFrom=e,this):this.options.allowFrom},element:function(){return this._element},fire:function(e){if(!e||!e.type||!Ze(M,e.type))return this;var t,i,r,s="on"+e.type,n="";if(e.type in this._iEvents)for(t=this._iEvents[e.type],i=0,r=t.length;r>i&&!e.immediatePropagationStopped;i++)n=t[i].name,t[i](e);if(U(this[s])&&(n=this[s].name,this[s](e)),e.type in P&&(t=P[e.type]))for(i=0,r=t.length;r>i&&!e.immediatePropagationStopped;i++)n=t[i].name,t[i](e);return this},on:function(e,t,i){var r;if(G(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),H(e)){for(r=0;r<e.length;r++)this.on(e[r],t,i);return this}if(W(e)){for(var s in e)this.on(s,e[s],t);return this}if("wheel"===e&&(e=C),i=i?!0:!1,Ze(M,e))e in this._iEvents?this._iEvents[e].push(t):this._iEvents[e]=[t];else if(this.selector){if(!v[e])for(v[e]={selectors:[],contexts:[],listeners:[]},r=0;r<u.length;r++)Y.add(u[r],e,$e),Y.add(u[r],e,Ge,!0);var o,n=v[e];for(o=n.selectors.length-1;o>=0&&(n.selectors[o]!==this.selector||n.contexts[o]!==this._context);o--);-1===o&&(o=n.selectors.length,n.selectors.push(this.selector),n.contexts.push(this._context),n.listeners.push([])),n.listeners[o].push([t,i])}else Y.add(this._element,e,t,i);return this},off:function(e,t,i){var r;if(G(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),H(e)){for(r=0;r<e.length;r++)this.off(e[r],t,i);return this}if(W(e)){for(var s in e)this.off(s,e[s],t);return this}var n,o=-1;if(i=i?!0:!1,"wheel"===e&&(e=C),Ze(M,e))n=this._iEvents[e],n&&-1!==(o=Qe(n,t))&&this._iEvents[e].splice(o,1);else if(this.selector){var a=v[e],h=!1;if(!a)return this;for(o=a.selectors.length-1;o>=0;o--)if(a.selectors[o]===this.selector&&a.contexts[o]===this._context){var l=a.listeners[o];for(r=l.length-1;r>=0;r--){var p=l[r][0],c=l[r][1];if(p===t&&c===i){l.splice(r,1),l.length||(a.selectors.splice(o,1),a.contexts.splice(o,1),a.listeners.splice(o,1),Y.remove(this._context,e,$e),Y.remove(this._context,e,Ge,!0),a.selectors.length||(v[e]=null)),h=!0;break}}if(h)break}}else Y.remove(this._element,e,t,i);return this},set:function(e){W(e)||(e={}),this.options=j({},m.base);var t,i=["drag","drop","resize","gesture"],r=["draggable","dropzone","resizable","gesturable"],s=j(j({},m.perAction),e[n]||{});for(t=0;t<i.length;t++){var n=i[t];this.options[n]=j({},m[n]),this.setPerAction(n,s),this[r[t]](e[n])}var o=["accept","actionChecker","allowFrom","deltaSource","dropChecker","ignoreFrom","origin","preventDefault","rectChecker","styleCursor"];for(t=0,Ue=o.length;Ue>t;t++){var a=o[t];this.options[a]=m.base[a],a in e&&this[a](e[a])}return this},unset:function(){if(Y.remove(this._element,"all"),G(this.selector))for(var e in v)for(var t=v[e],i=0;i<t.selectors.length;i++){t.selectors[i]===this.selector&&t.contexts[i]===this._context&&(t.selectors.splice(i,1),t.contexts.splice(i,1),t.listeners.splice(i,1),t.selectors.length||(v[e]=null)),Y.remove(this._context,e,$e),Y.remove(this._context,e,Ge,!0);break}else Y.remove(this,"all"),this.options.styleCursor&&(this._element.style.cursor="");return this.dropzone(!1),d.splice(Qe(d,this),1),Le}},je.prototype.snap=Be(je.prototype.snap,"Interactable#snap is deprecated. See the new documentation for snapping at http://interactjs.io/docs/snapping"),je.prototype.restrict=Be(je.prototype.restrict,"Interactable#restrict is deprecated. See the new documentation for resticting at http://interactjs.io/docs/restriction"),je.prototype.inertia=Be(je.prototype.inertia,"Interactable#inertia is deprecated. See the new documentation for inertia at http://interactjs.io/docs/inertia"),je.prototype.autoScroll=Be(je.prototype.autoScroll,"Interactable#autoScroll is deprecated. See the new documentation for autoScroll at http://interactjs.io/docs/#autoscroll"),je.prototype.squareResize=Be(je.prototype.squareResize,"Interactable#squareResize is deprecated. See http://interactjs.io/docs/#resize-square"),je.prototype.accept=Be(je.prototype.accept,"Interactable#accept is deprecated. use Interactable#dropzone({ accept: target }) instead"),je.prototype.dropChecker=Be(je.prototype.dropChecker,"Interactable#dropChecker is deprecated. use Interactable#dropzone({ dropChecker: checkerFunction }) instead"),je.prototype.context=Be(je.prototype.context,"Interactable#context as a method is deprecated. It will soon be a DOM Node instead"),Le.isSet=function(e,t){return-1!==d.indexOfElement(e,t&&t.context)},Le.on=function(e,t,r){if(G(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),H(e)){for(var s=0;s<e.length;s++)Le.on(e[s],t,r);return Le}if(W(e)){for(var n in e)Le.on(n,e[n],t);return Le}return Ze(M,e)?P[e]?P[e].push(t):P[e]=[t]:Y.add(i,e,t,r),Le},Le.off=function(e,t,r){if(G(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),H(e)){for(var s=0;s<e.length;s++)Le.off(e[s],t,r);return Le}if(W(e)){for(var n in e)Le.off(n,e[n],t);return Le}if(Ze(M,e)){var o;e in P&&-1!==(o=Qe(P[e],t))&&P[e].splice(o,1)}else Y.remove(i,e,t,r);return Le},Le.enableDragging=Be(function(e){return null!==e&&void 0!==e?(T.drag=e,Le):T.drag},"interact.enableDragging is deprecated and will soon be removed."),Le.enableResizing=Be(function(e){return null!==e&&void 0!==e?(T.resize=e,Le):T.resize},"interact.enableResizing is deprecated and will soon be removed."),Le.enableGesturing=Be(function(e){return null!==e&&void 0!==e?(T.gesture=e,Le):T.gesture},"interact.enableGesturing is deprecated and will soon be removed."),Le.eventTypes=M,Le.debug=function(){var e=f[0]||new Oe;return{interactions:f,target:e.target,dragging:e.dragging,resizing:e.resizing,gesturing:e.gesturing,prepared:e.prepared,matches:e.matches,matchElements:e.matchElements,prevCoords:e.prevCoords,startCoords:e.startCoords,pointerIds:e.pointerIds,pointers:e.pointers,addPointer:qe.addPointer,removePointer:qe.removePointer,recordPointer:qe.recordPointer,snap:e.snapStatus,restrict:e.restrictStatus,inertia:e.inertiaStatus,downTime:e.downTimes[0],downEvent:e.downEvent,downPointer:e.downPointer,prevEvent:e.prevEvent,Interactable:je,interactables:d,pointerIsDown:e.pointerIsDown,defaultOptions:m,defaultActionChecker:Fe,actionCursors:D,dragMove:qe.dragMove,resizeMove:qe.resizeMove,gestureMove:qe.gestureMove,pointerUp:qe.pointerUp,pointerDown:qe.pointerDown,pointerMove:qe.pointerMove,pointerHover:qe.pointerHover,eventTypes:M,events:Y,globalEvents:P,delegatedEvents:v,prefixedPropREs:B}},Le.getPointerAverage=ce,Le.getTouchBBox=ue,Le.getTouchDistance=de,Le.getTouchAngle=fe,Le.getElementRect=le,Le.getElementClientRect=he,Le.matchesSelector=et,Le.closest=Ee,Le.margin=Be(function(e){return V(e)?(S=e,Le):S},"interact.margin is deprecated. Use interact(target).resizable({ margin: number }); instead."),Le.supportsTouch=function(){return x},Le.supportsPointerEvent=function(){return E},Le.stop=function(e){for(var t=f.length-1;t>=0;t--)f[t].stop(e);return Le},Le.dynamicDrop=function(e){return $(e)?(g=e,Le):g},Le.pointerMoveTolerance=function(e){return V(e)?(b=e,this):b},Le.maxInteractions=function(e){return V(e)?(z=e,this):z},Le.createSnapGrid=function(e){return function(t,i){var r=0,s=0;W(e.offset)&&(r=e.offset.x,s=e.offset.y);var n=Math.round((t-r)/e.x),o=Math.round((i-s)/e.y),a=n*e.x+r,h=o*e.y+s;return{x:a,y:h,range:e.range}}},Je(i),_ in Element.prototype&&U(Element.prototype[_])||(k=function(e,t,i){i=i||e.parentNode.querySelectorAll(t);for(var r=0,s=i.length;s>r;r++)if(i[r]===e)return!0;return!1}),function(){for(var t=0,i=["ms","moz","webkit","o"],r=0;r<i.length&&!e.requestAnimationFrame;++r)I=e[i[r]+"RequestAnimationFrame"],X=e[i[r]+"CancelAnimationFrame"]||e[i[r]+"CancelRequestAnimationFrame"];I||(I=function(e){var i=(new Date).getTime(),r=Math.max(0,16-(i-t)),s=setTimeout(function(){e(i+r)},r);return t=i+r,s}),X||(X=function(e){clearTimeout(e)})}(),"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=Le),exports.interact=Le):"function"==typeof define&&define.amd?define("interact",function(){
return Le}):e.interact=Le}}("undefined"==typeof window?void 0:window);