console.log("Marketo App > Running"),window.mkto_live_plugin_state=!0;var currentUrl=window.location.href,currentProtocol=window.location.protocol,currentHost=window.location.host,mktoAppDomain="^https://app-[a-z0-9]+.marketo.com",mktoAppMatch="https://app-*.marketo.com",mktoLoginDomain="^https://login.marketo.com",mktoAppLoginDomain="^https://app.marketo.com",mktoDesignerDomain="^https://[a-z0-9]+-[a-z0-9]+.marketodesigner.com",mktoDesignerMatch="https://*.marketodesigner.com/*",mktoEmailDesigner=mktoDesignerDomain+"/ds",mktoLandingPageDesigner=mktoDesignerDomain+"/lpeditor/",defaultTurnerLogoGreen="http://marketolive.com/m3/assets/img/turner-tech-green.png",defaultTurnerLogoWhite="http://marketolive.com/m3/assets/img/turner-tech-white.png",defaultColor="rgb(42, 83, 112)",mktoWizard=mktoAppDomain+"/m#",rtpDemoDomain="^http://sjrtp1.marketo.com/demo/$|^http://cloud4.insightera.com/demo/$",emailDeliverabilityDomain="^https://250ok.com/",mktoMyMarketoFragment="MM0A1",mktoMarketingActivitiesDefaultFragment="MA15A1",mktoMarketingActivitiesMarketingFragment="MA19802A1",mktoMarketingActivitiesJapaneseFragment="MA19848A1",mktoLeadDatabaseDefaultFragment="ML0A1ZN2",mktoLeadDatabaseMarketingFragment="ML0A1ZN19788",mktoLeadDatabaseJapaneseFragment="ML0A1ZN19834",mktoAnalyticsFragment="AH0A1ZN17",mktoAdBridgeSmartListFragment="SL1B2",mktoEmailDesignerFragment="EME",mktoEmailPreviewFragment="EMP",mktoLandingPageDesignerFragment="LPE",mktoLandingPagePreviewFragment="LPP",mktoFormWizardFragment="FOE",mktoMobilePushNotificationWizardFragment="MPNE",mktoSocialAppWizardFragment="SOAE",mktoMarketingWorkspaceId=172,mktoJapaneseWorkspaceId=173,userWorkspaceName="My Workspace",isMktoLiveInstance=!1,pod,APP=APP||{};if(APP.getCookie=function(e){console.log("Marketo App > Getting: Cookie "+e);for(var r,t=e+"=",i=document.cookie.split(";"),s=0;s<i.length;++s){var r=i[s].trim();if(0==r.indexOf(t))return r.substring(t.length,r.length)}return null},APP.disableDemoPluginCheck=function(){console.log("Marketo App > Disabling: Demo Plugin Check"),window.mkto_live_plugin_state=!0,MktPage.validateDemoPlugin=function(){},isMktoLiveInstance=!0},APP.disableSyncErrorMessage=function(){console.log("Marketo App > Disabling: Landing Page Sync Error Message"),Mkt3.controller.editor.LandingPagePropertyPanel.prototype.fireSyncProperties=function(e,t){var i=e.get("properties");if(i){var i=this.normalizeProperties(Ext4.clone(i),!1,t);e.set("properties",i)}1!=e.data.localeId&&this.application.fireEvent("message.lp.syncProperties",e,t)}},APP.disableConfirmationMessage=function(){console.log("Marketo App > Disabling: Smart Campaign Delete Confirmation Message"),Mkt.widgets.DataPanel.prototype.clickClose=function(){var e=this.hasSettings(),t=!1;if(this.isSmartlist&&this.dpMeta.trigger){var i=this.dpMgr.getTriggers().length;1==i&&(t=!0)}if(e||t){var r=MktLang.getStr("DataFormPanel.Delete_arg0",[this.dpTypeName(!0)]),s=this.dpMeta.displayName||this.dpMeta.name,n=MktLang.getStr("DataFormPanel.Are_you_sure_you_want_to_delete_arg0_arg1",[this.dpTypeName(),MktLang.getDBStr(s)]);t&&(n+=MktLang.getStr("DataFormPanel.Triggered_campaigns_must_contain_trigger_remain_active")),this.dpMgr.isSmartlist&&!this.dpMeta.trigger&&this.dpMgr.smartListRuleLogic.customMode()&&(n+=MktLang.getStr("DataFormPanel.Reminder")+MktLang.getStr("DataFormPanel.Check_your_advanced_filter_rules_after_any_insert_delete_reorder")),MktCanvas&&MktCanvas.getActiveTab()&&MktCanvas.getActiveTab().config&&MktCanvas.getActiveTab().config.accessZoneId?(console.log("Marketo App > Closing: Smart Campaign Delete Confirmation Message"),this._doClose()):Ext4.Msg.confirmDelete({title:r,msg:n,minHeight:300,fn:function(e){"ok"===e&&this._doClose()},scope:this})}else this._doClose()}},APP.overrideDeliverabilityToolsTile=function(){console.log("Marketo App > Overriding: Deliverability Tools Tile");var t,i,r,s,n,a,e=MktCanvas.getEl().dom.nextSibling.childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes;for(n=0;n<e.length;n++){if("presentation"==e[n].getAttribute("role")){r=e[n];break}for(t=e[n].getElementsByTagName("span"),a=0;a<t.length;a++)if("Deliverability Tools"==t[a].innerHTML){s=e[n];break}for(i=e[n].getElementsByTagName("a"),a=0;a<i.length;a++)if(-1!=i[a].href.search("/homepage/sso\\?sso=250ok$")){i[a].href="https://250ok.com/login";break}}null==s&&null!=r&&(e[e.length]=r,e[e.length].outerHTML='<div class="x4-btn mkt3-homeTile x4-btn-default-small x4-icon-text-left x4-btn-icon-text-left x4-btn-default-small-icon-text-left" style="height: 150px;" id="homeTile-1036"><em id="homeTile-1036-btnWrap"><a id="homeTile-1036-btnEl" href="https://250ok.com/login" class="x4-btn-center" target="_blank" role="link" style="width: 150px; height: 150px;"><span id="homeTile-1036-btnInnerEl" class="x4-btn-inner" style="width: 150px; height: 150px; line-height: 150px;">Deliverability Tools</span><span id="homeTile-1036-btnIconEl" class="x4-btn-icon mki3-mail-sealed-svg"></span></a></em></div>')},APP.overrideDeliverabilityToolsMenuItem=function(){console.log("Marketo App > Overriding: Deliverability Tools Superball Menu Item"),MktPage.showSuperMenu=function(){var e=Ext.get(Ext.DomQuery.selectNode(".mkt-app-logo")),t=e.menu,i=55;if(!t&&(t=e.menu=Ext4.widget("appNavigationMenu",{listeners:{boxready:function(r){var s=e.getRegion();s.bottom>i&&(r.setBodyStyle("padding-top",s.bottom-i+10+"px"),r.updateLayout()),t.setZIndex(e.getStyle("zIndex")-5)},beforerender:function(e){e.addCls(e.componentCls+"-hidden")},show:function(t){t.removeCls(t.componentCls+"-hidden"),e.ignoreNextClick=!0,e.removeClass(e.attentionCls),MktPage.savedState.isUsedSuperMenu||(MktPage.savedState.isUsedSuperMenu=!0,MktSession.ajaxRequest("user/saveUserPref",{serializeParms:{key:"isUsedSuperMenu",data:MktPage.savedState.isUsedSuperMenu}}))},beforehide:function(e){e.addCls(e.componentCls+"-hidden")},hide:function(){(function(){e.ignoreNextClick=!1}).defer(250)}}}),"undefined"!=typeof t.items.items)){console.log("Marketo App > Executing: Deliverability Tools Superball Menu Item");var r,s,n,a=!1;for(r=0;r<t.items.items.length;r++){if(n=t.items.items[r],"Deliverability Tools"==n.text){a=!0,-1!=n.href.search("/homepage/sso\\?sso=250ok$")&&(n.href="https://250ok.com/login",n.update());break}"Community"==n.text&&(s=n)}a||null==s||(s.setText("Deliverability Tools"),s.setIconCls("mki3-mail-sealed-svg"),s.href="https://250ok.com/login",s.update())}t.isVisible()||e.ignoreNextClick||(t.showAt(0,i),t.setZIndex(e.getStyle("zIndex")-5))}},APP.overrideAnalyticsTiles=function(){console.log("Marketo App > Overriding: Analytics Tiles");var e=window.setInterval(function(){if("undefined"!=typeof MktPage&&"undefined"!=typeof MktCanvas&&"undefined"!=typeof MktCanvas.getActiveTab().config.mkt3XType&&(window.clearInterval(e),null!=MktPage&&null!=MktPage.savedState&&null!=MktPage.savedState.custPrefix&&"mktodemoaccount106"==MktPage.savedState.custPrefix&&null!=MktCanvas&&"analyticsHome"==MktCanvas.getActiveTab().config.mkt3XType&&null!=MktCanvas.getActiveTab().config.accessZoneId&&1==MktCanvas.getActiveTab().config.accessZoneId&&null!=MktCanvas.getActiveTab().el&&null!=MktCanvas.getActiveTab().el.dom&&null!=MktCanvas.getActiveTab().el.dom.childNodes)){console.log("Marketo App > Executing: Analytics Tiles");var t,i="https://app-sjp.marketo.com",r=MktCanvas.getActiveTab().el.dom.childNodes[0].childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes.length;for(t=0;r>t;t++){var s=MktCanvas.getActiveTab().el.dom.childNodes[0].childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[t].outerHTML;switch(MktCanvas.getActiveTab().el.dom.childNodes[0].childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[t].textContent){case"Email Performance":s='<a href="'+i+'/#AR3866B2">'+s+"</a>",MktCanvas.getActiveTab().el.dom.childNodes[0].childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[t].outerHTML=s;break;case"Lead Performance":s='<a href="'+i+'/#AR3874B2">'+s+"</a>",MktCanvas.getActiveTab().el.dom.childNodes[0].childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[t].outerHTML=s;break;case"Web Page Activity":s='<a href="'+i+'/#AR3876B2">'+s+"</a>",MktCanvas.getActiveTab().el.dom.childNodes[0].childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[t].outerHTML=s;break;case"Opportunity Influence Analyzer":s='<a href="'+i+'/#AR1559A1!">'+s+"</a>",MktCanvas.getActiveTab().el.dom.childNodes[0].childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[t].outerHTML=s;break;case"Program Analyzer":s='<a href="'+i+'/#AR1544A1!">'+s+"</a>",MktCanvas.getActiveTab().el.dom.childNodes[0].childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[t].outerHTML=s;break;case"Success Path Analyzer":s='<a href="'+i+'/#AR1682A1!">'+s+"</a>",MktCanvas.getActiveTab().el.dom.childNodes[0].childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[t].outerHTML=s;break;case"Revenue Explorer":break;case"Engagement Stream Performance":s='<a href="'+i+'/#AR3881B2">'+s+"</a>",MktCanvas.getActiveTab().el.dom.childNodes[0].childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[t].outerHTML=s;break;case"Program Performance":s='<a href="'+i+'/#AR3882B2">'+s+"</a>",MktCanvas.getActiveTab().el.dom.childNodes[0].childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[t].outerHTML=s;break;case"Email Link Performance":s='<a href="'+i+'/#AR3886B2">'+s+"</a>",MktCanvas.getActiveTab().el.dom.childNodes[0].childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[t].outerHTML=s;break;case"Social Influence":break;case"Leads By Revenue Stage":s='<a href="'+i+'/#AR3889B2">'+s+"</a>",MktCanvas.getActiveTab().el.dom.childNodes[0].childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[t].outerHTML=s;break;case"Landing Page Performance":s='<a href="'+i+'/#AR3891B2">'+s+"</a>",MktCanvas.getActiveTab().el.dom.childNodes[0].childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[t].outerHTML=s;break;case"Leads By Status":s='<a href="'+i+'/#AR3893B2">'+s+"</a>",MktCanvas.getActiveTab().el.dom.childNodes[0].childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[t].outerHTML=s;break;case"Company Web Activity":s='<a href="'+i+'/#AR3901B2">'+s+"</a>",MktCanvas.getActiveTab().el.dom.childNodes[0].childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[t].outerHTML=s;break;case"Sales Insight Email Performance":s='<a href="'+i+'/#AR3903B2">'+s+"</a>",MktCanvas.getActiveTab().el.dom.childNodes[0].childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[t].outerHTML=s}}}},0)},APP.overrideSmartCampaignSaving=function(){console.log("Marketo App > Overriding: Saving for Smart Campaigns"),Mkt.widgets.DataPanelManager.prototype.save=function(e,t,i){this._updateDataPanelOrder(!0);var r=MktCanvas.getActiveTab().config.accessZoneId;if(1!=r&&r!=mktoJapaneseWorkspaceId&&"false"!=APP.getCookie("priv")){if(this.saveQueue.blockingSaveInProgress)return this.saveQueue.pendingChangesCount++,this.saveQueue.dataPanelMetas=this._serializeDataPanels(),void(this.saveQueue.dataPanelCount=this.countDataPanels());var s;if(s=this.saveQueue.dataPanelMetas?this.saveQueue.dataPanelMetas:this._serializeDataPanels(),this.saveQueue.pendingChangesCount=0,this.saveQueue.dataPanelMetas=null,this.saveQueue.dataPanelCount=0,null===s)return;if(0===s.length&&this.isFlow,this.dpSubtype!=DPConst.RUN_ACTION&&s){if(this.lastSave.dataPanelMetas&&this.lastSave.dataPanelMetas==s)return;if(this.lastSave.dataPanelMetasUpdated&&this.lastSave.dataPanelMetasUpdated==s)return}console.debug("Saving "+this.dpType+":",MktFormat.formatJsonStr(s)),DPDEBUG&&(console.debug("Current Save:",s),this.lastSave.dataPanelMetas&&console.debug("Previous Save:",this.lastSave.dataPanelMetas),this.lastSave.dataPanelMetasUpdated&&console.debug("Previous Update:",this.lastSave.dataPanelMetasUpdated)),this.lastSave.acceptUpdates=i,this.lastSave.dataPanelMetas=s,this.saveQueue.blockingSaveInProgress=!0,this.beforeSaveMessage();var n=Ext.apply({dataPanelMetas:s,accessZoneId:this.accessZoneId},this.baseSaveParams);if(this.isSmartlist&&this.smartListRuleLogic.customMode())if(this.smartListRuleLogic.isCustomLogicValid()){var a=this.smartListRuleLogic.getSmartListLogicSaveParams();Ext.apply(n,a)}else console.debug("Data panel save successful. Custom rule logic is not valid");n[this.appVarsBase+"Id"]=this.dataPanelStorageId,this.beforeSaveHook(),DPDEBUG&&console.debug("Saving... ",n),MktSession.ajaxRequest(this.saveAction,{serializeParms:n,onMySuccess:this.saveSuccess.createDelegate(this),onMyFailure:this.saveFailure.createDelegate(this)})}else console.log("Marketo App > Disabling: Saving for Smart Campaigns")}},APP.overrideSmartCampaignCanvas=function(){console.log("Marketo App > Overriding: Smart Campaign Canvases"),Mkt.widgets.DataPanelLayout.prototype.initComponent=function(){if(1==MktCanvas.getActiveTab().config.accessZoneId&&(console.log("Marketo App > Enabling: Smart Campaign Canvases"),this.dpEditable=!0),DPDEBUG=!1,this.dpSubtype&&this.addClass("mktDataPanelLayout-"+this.dpSubtype),this.canvas&&MktCanvas.mask(this.canvas),"Smartlist"==this.dpType?(this.isSmartlist=!0,this.Flow=!1,this.SETTINGS="conditions"):"Flow"==this.dpType&&(this.isSmartlist=!1,this.isFlow=!0,this.SETTINGS="actions"),this.items=[],this.items.push({region:"center",margins:MktPage.isFeatureEnabled("carbolt")?"":"7 5 10 10",layout:"fit",items:this.createManager()}),this.dpEditable&&this.canvas&&this.paletteWidth>0){this.canvasWidth=MktCanvas.getWidth();var e=Math.min(this.canvasWidth-700,this.maxPaletteWidth);this.paletteWidth=Math.max(this.paletteWidth,e),this.items.push({cls:"mktEastPanel",region:"east",margins:MktPage.isFeatureEnabled("carbolt")?"0 0 0 15":"5 5 5 8",layout:"fit",width:this.paletteWidth,items:this.createPalette()})}Mkt.widgets.DataPanelLayout.superclass.initComponent.apply(this),this.canvas&&MktPage.canvasCleanupStack.push(this.canvasCleanup.createDelegate(this)),this.canvas&&this.extendCanvasToolbar(),this.canvas&&this.extendCanvasGutter(),this.canvas&&MktCanvas.addHook(this.canvas,{dp:this})}},APP.discardLandingPageDrafts=function(e){console.log("Marketo App > Discarding: Landing Page Drafts");var t=Ext.MessageBox.show({title:"MarketoLive",msg:"Discarding Landing Page Drafts",progress:!1,wait:!1,width:270,closable:!1});mktLPLManager.doModifyPages("revert",e),t.hide()},APP.discardEmailDrafts=function(e){console.log("Marketo App > Discarding: Email Drafts");var t=Ext.MessageBox.show({title:"MarketoLive",msg:"Discarding Email Drafts",progress:!1,wait:!1,width:270,closable:!1});mktEmManager.discardDraft(e),t.hide()},APP.discardFormPushDrafts=function(e,t){console.log("Marketo App > Discarding: "+e+" Drafts");var i=Ext4.getStore(e);MktMessage.showSystemError;MktMessage.showSystemError=Ext4.emptyFn,"undefined"!=typeof Mkt3&&(i||(i=Ext4.create("Mkt3.store."+e,{storeId:e})),i.load({filters:[{property:"id",value:t}],callback:function(e){for(var t=0;t<e.length;t++){var i=e[t];i.discard(function(e){e&&i.updateNode()},this)}}}))},APP.overrideTreeNodeExpand=function(){console.log("Marketo App > Overriding: Tree Node Expand"),MktAsyncTreeNode.prototype.expand=function(){console.log("Marketo App > Executing: Tree Node Expand");var t,e=this.attributes;if(this.text==userWorkspaceName||this.parentNode.text==userWorkspaceName&&1==this.attributes.system||null!=this.parentNode.parentNode&&this.parentNode.parentNode.text==userWorkspaceName&&1==this.attributes.system){var r,i=MktPage.userid.toLowerCase();for(r=-1!=i.search(".demo@marketo.com$")?i.split(".demo")[0]:i.split("@")[0],t=0;t<this.childNodes.length;t++)0==this.childNodes[t].attributes.system&&this.childNodes[t].text.toLowerCase()!==r&&(this.childNodes[t].hidden=!0)}e.folder&&(e.cancelFirstExpand?delete this.attributes.cancelFirstExpand:this.childNodes&&this.childNodes.length>0&&!e.mktExpanded&&this.text!=userWorkspaceName&&this.parentNode.text!=userWorkspaceName&&null!=this.parentNode.parentNode&&this.parentNode.parentNode.text!=userWorkspaceName&&(console.log("Marketo App > Saving: Folder Expand State"),MktFolder.saveExpandState(this,!0))),MktAsyncTreeNode.superclass.expand.apply(this,arguments),e.mktExpanded=!0}},APP.overrideTreeNodeCollapse=function(){console.log("Marketo App > Overriding: Tree Node Collapse"),MktAsyncTreeNode.prototype.collapse=function(){console.log("Marketo App > Executing: Tree Node Collapse");var t,e=this.attributes;if(this.text==userWorkspaceName||this.parentNode.text==userWorkspaceName&&1==this.attributes.system||null!=this.parentNode.parentNode&&this.parentNode.parentNode.text==userWorkspaceName&&1==this.attributes.system){var r,i=MktPage.userid.toLowerCase();for(r=-1!=i.search(".demo@marketo.com$")?i.split(".demo")[0]:i.split("@")[0],t=0;t<this.childNodes.length;t++)0==this.childNodes[t].attributes.system&&this.childNodes[t].text.toLowerCase()!==r&&(this.childNodes[t].ui.elNode.hidden=!0)}e.suppressAjaxCollapse?delete this.attributes.suppressAjaxCollapse:isDefined(e.folder)&&e.folder&&e.mktExpanded===!0&&MktFolder.saveExpandState(this,!1),MktTreeNode.superclass.collapse.apply(this,arguments),e.mktExpanded=!1}},APP.overrideNewProgramCreate=function(){console.log("Marketo App > Overriding: New Program/Segmentation Creation"),Mkt.widgets.ModalForm.prototype.okButtonHandler=function(){if(console.log("Marketo App > Executing: New Program/Segmentation Creation"),"New Program"==this.title||"New Segmentation"==this.title){var t,i,e=MktPage.userid.toLowerCase();if(t=-1!=e.search(".demo@marketo.com$")?e.split(".demo")[0]:e.split("@")[0],"New Program"==this.title)if("Name"==this.items.items[2].fieldLabel)-1==this.items.items[2].getValue().toLowerCase().search(t+"$")&&this.items.items[2].setValue(this.items.items[2].getValue()+" - "+t);else for(i=0;i<this.items.items.length;i++)"Name"==this.items.items[i].fieldLabel&&-1==this.items.items[i].getValue().toLowerCase().search(t+"$")&&this.items.items[i].setValue(this.items.items[i].getValue()+" - "+t);else if("New Segmentation"==this.title)if("Name"==this.items.items[1].items.items[0].fieldLabel)-1==this.items.items[1].items.items[0].getValue().toLowerCase().search(t+"$")&&this.items.items[1].items.items[0].setValue(this.items.items[1].items.items[0].getValue()+" - "+t);else for(i=0;i<this.items.items.length;i++)for(jj=0;jj<this.items.items[i].items.items.length;jj++)"Name"==this.items.items[i].items.items[jj].fieldLabel&&-1==this.items.items[i].items.items[jj].getValue().toLowerCase().search(t+"$")&&this.items.items[i].items.items[jj].setValue(this.items.items[i].items.items[jj].getValue()+" - "+t)}if(!this.submitInProgress&&this.beforeSubmitCallback()!==!1&&(this.okCallback&&isFunction(this.okCallback)&&this.okCallback(),this.submitUrl)){this.showProgressModal?(this.hide(),this.progressModal=Ext.MessageBox.show({title:MktLang.getStr("ModalForm.Please_wait"),msg:this.progressMsg,progress:!0,wait:!0,width:200,closable:!1})):MktSession.clockCursor(),this.submitInProgress=!0,this.enableOkCancelButton(!this.submitInProgress),this.serializeJSON&&(this.serializeParms=this.serializeParms||{},this.serializeParms._json=Ext.encode(this.serializeJSON));var r=Ext.apply({},this.serializeParms,this.baseParams);MktSession.ajaxRequest(this.submitUrl,{serializeParms:r,onMySuccess:this.submitSuccessHandler.createDelegate(this),onMyFailure:this.submitFailedHandler.createDelegate(this)})}}},APP.overrideAssetSaveEdit=function(){console.log("Marketo App > Overriding: Asset Save Edit"),Mkt.widgets.CanvasHeader.prototype.saveEdit=function(){if(console.log("Marketo App > Executing: Asset Save Edit"),null!=MktCanvas&&null!=MktCanvas.getActiveTab()&&null!=MktCanvas.getActiveTab().config&&null!=MktCanvas.getActiveTab().config.accessZoneId&&1!=MktCanvas.getActiveTab().config.accessZoneId&&MktCanvas.getActiveTab().config.accessZoneId!=mktoJapaneseWorkspaceId){if(-1!=MktExplorer.getEl().dom.ownerDocument.title.search("Marketing Activities")&&("mpTEName"==this.titleId||"cdhTEName"==this.titleId)||-1==MktExplorer.getEl().dom.ownerDocument.title.search("Marketing Activities")){var t,i,e=MktPage.userid.toLowerCase();if(t=-1!=e.search(".demo@marketo.com$")?e.split(".demo")[0]:e.split("@")[0],-1!=this.items.items[1].items.items[0].name.search("Name$"))-1==this.items.items[1].items.items[0].getValue().toLowerCase().search(t+"$")&&this.items.items[1].items.items[0].setValue(this.items.items[1].items.items[0].getValue()+" - "+t);else for(i=0;i<this.items.items.length;i++)if("textfield"==this.items.items[i].defaultType){var r;for(r=0;r<this.items.items[i].items.items.length;r++)-1!=this.items.items[i].items.items[r].name.search("Name$")&&-1==this.items.items[i].items.items[r].getValue().toLowerCase().search(t+"$")&&this.items.items[i].items.items[r].setValue(this.items.items[i].items.items[r].getValue()+"-"+t)}}var s=!0;MktSession.clockCursor(!0),this.serializeParms[this.titleId]=this.getTitleField().getValue(),this.serializeParms[this.descId]=this.getDescField().getValue(),this.newTitleValue=MktPage.isFeatureEnabled("treeEncoding")?this.serializeParms[this.titleId]:Ext.util.Format.htmlEncode(this.serializeParms[this.titleId]),this.newDescValue=Ext.util.Format.htmlEncode(this.serializeParms[this.descId]),this.updateCanvasConfig(),this.prevTitleValue=this.titleValue,this.titleValue=this.newTitleValue,this.descValue=this.newDescValue,MktPage.updateFullTitle();var n=MktCanvas.getActiveTab();n.updateTabTitle(this.titleValue);var a=null;if(n.config.expNodeId){var o=MktExplorer.getNodeById(n.config.expNodeId);if(o&&o.attributes.compType){var l=o.attributes.compType;"Marketing Program"==l&&(a=n.config.expNodeId,MktExplorer.lockSubTree(a)),"Image"==l&&(s=!1)}s&&MktExplorer.updateNodeText(n.config.expNodeId,this.titleValue)}var c=this.getEl(),d=this,p=this.formPanel,h=this.viewPanel;p.hide(!0,.2),h.show(!0,.2),h.body.update(d.viewTemplate.apply(d)),c.animate({height:{from:this.getHeight(),to:this.origHeight}},.25,function(){d.setHeight(d.origHeight),d.body.setHeight(d.origHeight),isFunction(d.savedCallback)&&d.savedCallback()}),MktSession.unclockCursor(),this._saveInProgress=!0,MktSession.ajaxRequest(this.actionUrl,{serializeParms:this.serializeParms,containerId:this.id,onMySuccess:this.saveResponse.createDelegate(this,[a],!0),onMyError:this.saveError.createDelegate(this,[a])})}if(null!=MktCanvas&&null!=MktCanvas.getActiveTab()&&null!=MktCanvas.getActiveTab().config&&null!=MktCanvas.getActiveTab().config.accessZoneId&&(1==MktCanvas.getActiveTab().config.accessZoneId||MktCanvas.getActiveTab().config.accessZoneId==mktoJapaneseWorkspaceId)){var s=!1;MktSession.clockCursor(!0),this.prevTitleValue=this.titleValue;var n=MktCanvas.getActiveTab(),a=null;if(n.config.expNodeId){var o=MktExplorer.getNodeById(n.config.expNodeId);if(o&&o.attributes.compType){var l=o.attributes.compType;"Marketing Program"==l&&(a=n.config.expNodeId),"Image"==l&&(s=!1)}}var c=this.getEl(),d=this,p=this.formPanel,h=this.viewPanel;p.hide(!0,.2),h.show(!0,.2),h.body.update(d.viewTemplate.apply(d)),c.animate({height:{from:this.getHeight(),to:this.origHeight}},.25,function(){d.setHeight(d.origHeight),d.body.setHeight(d.origHeight),isFunction(d.savedCallback)&&d.savedCallback()}),MktSession.unclockCursor(),this._saveInProgress=!1}}},APP.overrideNewAssetCreate=function(){console.log("Marketo App > Overriding: New Asset Creation"),Mkt3.controller.lib.AbstractModalForm.prototype.onSubmit=function(e){if(console.log("Marketo App > Executing: New Asset Creation"),(null==e||null==e.ownerAsset||null==e.ownerAsset.isOneOfProgramTypes||0==e.ownerAsset.isOneOfProgramTypes())&&null!=this&&null!=this.getField("name")&&null!=this.getField("name").getValue()){var r,t=this.getField("name").getValue(),i=MktPage.userid.toLowerCase();r=-1!=i.search(".demo@marketo.com$")?i.split(".demo")[0]:i.split("@")[0],-1==t.toLowerCase().search(r+"$")&&this.getField("name").setValue(t+" - "+r)}e=e.isXType("modalForm")?e:e.up("modalForm"),e.setSubmitting(!0),this.validate(e)?this.application.fireEvent(this.widgetId+"BeforeSubmit",e?e.getRecord():null)!==!1?this.submit(e)!==!1&&this.submitComplete(e):e.setSubmitting(!1):(e.showDefaultMessage(),e.setSubmitting(!1))}},APP.hideFoldersOnImport=function(){console.log("Marketo App > Hiding: Folders On Program Import via Override"),Ext.form.ComboBox.prototype.onTriggerClick=function(){if(!this.readOnly&&!this.disabled)if(this.isExpanded())this.collapse(),this.el.focus();else{if(this.onFocus({}),"all"==this.triggerAction){if(this.doQuery(this.allQuery,!0),null!=this&&null!=this.label&&null!=this.label.dom&&null!=this.label.dom.textContent&&"Campaign Folder:"==this.label.dom.textContent&&null!=MktCanvas&&null!=MktCanvas.getActiveTab()&&null!=MktCanvas.getActiveTab().config&&null!=MktCanvas.getActiveTab().config.accessZoneId&&MktCanvas.getActiveTab().config.accessZoneId==mktoMarketingWorkspaceId){var t,i,e=MktPage.userid.toLowerCase();for(t=-1!=e.search(".demo@marketo.com$")?e.split(".demo")[0]:e.split("@")[0],i=0;i<this.view.all.elements.length;i++)this.view.all.elements[i].textContent.toLowerCase()!=t&&(this.view.all.elements[i].hidden=!0)}}else this.doQuery(this.getRawValue());this.el.focus()}}},APP.hidePageGrid=function(){console.log("Marketo App > Hiding: Page Grid via Override"),MktGrids.CanvasGridPanel.prototype.loadPagedGrid=function(){if(MktCanvas.activeTab.config.accessZoneId==mktoMarketingWorkspaceId)switch(this.canvas){case"landingCanvasLP":this.hide();break;case"landingCanvasFO":this.hide();break;case"landingCanvasEM":this.hide();break;case"landingCanvasSnippet":this.hide();break;case"landingCanvasIM":this.hide();break;case"ldbCanvasLeadList":this.hide();break;case"campaignCanvasDetailActivityLog":this.hide();break;case"atxCanvasDetailView":}this.store.load({params:{start:0,query:this.query}})}},APP.disableButtons=function(){console.log("Marketo App > Disabling: Buttons"),$jQ=jQuery.noConflict(),$jQ(".mktButtonPositive").remove()},APP.disableMenus=function(){console.log("Marketo App > Disabling: Menus");var e=Mkt.app.MarketingActivities.Toolbar.getNewEventMenuButton;Mkt.app.MarketingActivities.Toolbar.getNewEventMenuButton=function(){return e.apply(this,arguments),{text:MktLang.getStr("mktMaMenu.New"),iconCls:"mkiBooksBlue",xtype:"mkttbbutton",menu:MktMaMenu.maMenu(),handler:function(e){var t=MktCanvas.getActiveTab(),i=t&&t.config&&t.config.accessZoneId&&(1==t.config.accessZoneId||t.config.accessZoneId==mktoJapaneseWorkspaceId);e.menu.items.each(function(e){e.setDisabled(i)})}}};var t=Mkt.app.MarketingActivities.Toolbar.getNewMenuButton;Mkt.app.MarketingActivities.Toolbar.getNewMenuButton=function(){return t.apply(this,arguments),{text:MktLang.getStr("mktMaMenu.New"),iconCls:"mkiBooksBlue",xtype:"mkttbbutton",menu:MktMaMenu.maMenu(),handler:function(e){var t=MktCanvas.getActiveTab(),i=t&&t.config&&t.config.accessZoneId&&(1==t.config.accessZoneId||t.config.accessZoneId==mktoJapaneseWorkspaceId||"Marketing Activities"==t.config.title&&t.config.accessZoneId==mktoMarketingWorkspaceId);e.menu.items.each(function(e){e.setDisabled(i)})}}};var i=Mkt.app.DesignStudio.Toolbar.getNewMenuButton;Mkt.app.DesignStudio.Toolbar.getNewMenuButton=function(){return i.apply(this,arguments),{text:MktLang.getStr("mktDsMenu.New"),iconCls:"mkiColorsCmyk",xtype:"mkttbbutton",menu:MktMaMenu.maMenu(),handler:function(e){var t=MktCanvas.getActiveTab(),i=t&&t.config&&t.config.accessZoneId&&(1==t.config.accessZoneId||t.config.accessZoneId==mktoJapaneseWorkspaceId);e.menu.items.each(function(e){e.setDisabled(i)})}}};var r=Mkt.menus.marketingEvent.Toolbar.preShowMarketingProgramActions;Mkt.menus.marketingEvent.Toolbar.preShowMarketingProgramActions=Mkt.menus.marketingEvent.Toolbar.preShowMarketingEventActions=function(e){r.apply(this,arguments);var t=e.items,i=MktCanvas.getActiveTab(),s=i&&i.config&&i.config.accessZoneId&&(1==i.config.accessZoneId||i.config.accessZoneId==mktoJapaneseWorkspaceId),n=["cloneMarketingProgram","cloneMarketingEvent","cloneNurtureProgram","cloneEmailBatchProgram","deleteMarketingProgram","deleteMarketingEvent","deleteNurtureProgram","deleteEmailBatchProgram","testNurtureProgram","eventSchedule","entryRescheduleEntries","sfdcCampaignSync","refreshFromWebinarProvider"];n.forEach(function(e){var i=t.get(e);i&&i.setDisabled(s)})};var s=MktMaMenu.preShowProgramActionsMenu;MktMaMenu.preShowProgramActionsMenu=function(e,t){s.apply(this,arguments);var i=e.items,r=MktCanvas.getActiveTab(),n=t&&t.accessZoneId&&(1==t.accessZoneId||t.accessZoneId==mktoJapaneseWorkspaceId)||t&&t.depth&&1==t.depth&&t.accessZoneId&&t.accessZoneId==mktoMarketingWorkspaceId||!t||!t.accessZoneId&&e&&e.currNode&&e.currNode.attributes&&e.currNode.attributes.accessZoneId&&(1==e.currNode.attributes.accessZoneId||e.currNode.attributes.accessZoneId==mktoJapaneseWorkspaceId)||!e||!e.currNode&&r&&r.config&&r.config.accessZoneId&&(1==r.config.accessZoneId||r.config.accessZoneId==mktoJapaneseWorkspaceId),a=["newSmartCampaign","newLocalAsset","createNewMarketingProgram","createProgramFolder","renameProgramFolder","deleteProgramFolder","convertToArchiveFolder","convertToCampaignFolder","scClone","cloneMarketingProgram","cloneMarketingEvent","cloneNurtureProgram","cloneEmailBatchProgram","scArchive","deleteMarketingProgram","deleteMarketingEvent","deleteNurtureProgram","deleteEmailBatchProgram","scMove","scActivate","scAbort","scClearPalette","scClearSmartList","scClearFlow","shareProgramFolder","progGenerateRef","checkForCorruptEmails"];return a.forEach(function(e){var t=i.get(e);t&&t.setDisabled(n)}),e};var n=MktDsMenu.preShowEmailMenu;MktDsMenu.preShowEmailMenu=function(e,t){n.apply(this,arguments);var i=e.items,r=MktCanvas.getActiveTab(),s=t&&t.accessZoneId&&(1==t.accessZoneId||t.accessZoneId==mktoJapaneseWorkspaceId)||t&&t.depth&&1==t.depth&&t.accessZoneId&&t.accessZoneId==mktoMarketingWorkspaceId||!t||!t.accessZoneId&&e&&e.currNode&&e.currNode.attributes&&e.currNode.attributes.accessZoneId&&(1==e.currNode.attributes.accessZoneId||e.currNode.attributes.accessZoneId==mktoJapaneseWorkspaceId)||!e||!e.currNode&&r&&r.config&&r.config.accessZoneId&&(1==r.config.accessZoneId||r.config.accessZoneId==mktoJapaneseWorkspaceId),a=["emailApprove","emailUnapprove","emailClone","emailDelete","emailMove","emailNewTest","emailDraftSendTest","emailDraftApprove","emailApproveTest","emailDiscardTest"];return a.forEach(function(e){var t=i.get(e);t&&t.setDisabled(s)}),e};var a=MktDsMenu.preShowPageMenu;MktDsMenu.preShowPageMenu=function(e,t){a.apply(this,arguments);var i=e.items,r=MktCanvas.getActiveTab(),s=t&&t.accessZoneId&&(1==t.accessZoneId||t.accessZoneId==mktoJapaneseWorkspaceId)||t&&t.depth&&1==t.depth&&t.accessZoneId&&t.accessZoneId==mktoMarketingWorkspaceId||!t||!t.accessZoneId&&e&&e.currNode&&e.currNode.attributes&&e.currNode.attributes.accessZoneId&&(1==e.currNode.attributes.accessZoneId||e.currNode.attributes.accessZoneId==mktoJapaneseWorkspaceId)||!e||!e.currNode&&r&&r.config&&r.config.accessZoneId&&(1==r.config.accessZoneId||r.config.accessZoneId==mktoJapaneseWorkspaceId),n=["pageApprove","pageUnapprove","pageConvertToTestGroup","pageClone","pageDelete","urlTools","pageMove","pageDraftApprove"];return n.forEach(function(e){var t=i.get(e);t&&t.setDisabled(s)}),e};var o=MktDsMenu.preShowFormMenu;MktDsMenu.preShowFormMenu=function(e,t){o.apply(this,arguments);var i=e.items,r=MktCanvas.getActiveTab(),s=t&&t.accessZoneId&&(1==t.accessZoneId||t.accessZoneId==mktoJapaneseWorkspaceId)||t&&t.depth&&1==t.depth&&t.accessZoneId&&t.accessZoneId==mktoMarketingWorkspaceId||!t||!t.accessZoneId&&e&&e.currNode&&e.currNode.attributes&&e.currNode.attributes.accessZoneId&&(1==e.currNode.attributes.accessZoneId||e.currNode.attributes.accessZoneId==mktoJapaneseWorkspaceId)||!e||!e.currNode&&r&&r.config&&r.config.accessZoneId&&(1==r.config.accessZoneId||r.config.accessZoneId==mktoJapaneseWorkspaceId),n=["formApprove","formClone","formDelete","formMove","formDraftApprove"];
return n.forEach(function(e){var t=i.get(e);t&&t.setDisabled(s)}),e};var l=MktDsMenu.preShowSocialAppMenu;MktDsMenu.preShowSocialAppMenu=function(e,t){l.apply(this,arguments);var i=e.items,r=MktCanvas.getActiveTab(),s=t&&t.accessZoneId&&(1==t.accessZoneId||t.accessZoneId==mktoJapaneseWorkspaceId)||t&&t.depth&&1==t.depth&&t.accessZoneId&&t.accessZoneId==mktoMarketingWorkspaceId||!t||!t.accessZoneId&&e&&e.currNode&&e.currNode.attributes&&e.currNode.attributes.accessZoneId&&(1==e.currNode.attributes.accessZoneId||e.currNode.attributes.accessZoneId==mktoJapaneseWorkspaceId)||!e||!e.currNode&&r&&r.config&&r.config.accessZoneId&&(1==r.config.accessZoneId||r.config.accessZoneId==mktoJapaneseWorkspaceId),n=["socialAppApprove","socialAppClone","socialAppDelete","socialAppDraftApprove"];return n.forEach(function(e){var t=i.get(e);t&&t.setDisabled(s)}),e};var c=Mkt3.controller.socialApp.SocialApp.prototype.loadToolbar;Mkt3.controller.socialApp.SocialApp.prototype.loadToolbar=function(e,t){c.apply(this,arguments);var i=1==this.getSocialApp().get("zoneId")||this.getSocialApp().get("zoneId")==mktoJapaneseWorkspaceId,r=Ext4.ComponentQuery.query("socialAppToolbar contextMenu [action=approve],socialAppToolbar contextMenu [action=clone],socialAppToolbar contextMenu [action=delete],socialAppToolbar contextMenu [action=editDraft],socialAppToolbar contextMenu [action=previewDraft],socialAppToolbar contextMenu [action=approveDraft],");return r.forEach(function(e){e&&e.setDisabled(i)}),e};var d=MktDsMenu.preShowPushNotificationMenu;MktDsMenu.preShowPushNotificationMenu=function(e,t){d.apply(this,arguments);var i=e.items,r=MktCanvas.getActiveTab(),s=t&&t.accessZoneId&&(1==t.accessZoneId||t.accessZoneId==mktoJapaneseWorkspaceId)||t&&t.depth&&1==t.depth&&t.accessZoneId&&t.accessZoneId==mktoMarketingWorkspaceId||!t||!t.accessZoneId&&e&&e.currNode&&e.currNode.attributes&&e.currNode.attributes.accessZoneId&&(1==e.currNode.attributes.accessZoneId||e.currNode.attributes.accessZoneId==mktoJapaneseWorkspaceId)||!e||!e.currNode&&r&&r.config&&r.config.accessZoneId&&(1==r.config.accessZoneId||r.config.accessZoneId==mktoJapaneseWorkspaceId),n=["pushNotificationApprove","pushNotificationUnapprove","pushNotificationDelete","pushNotificationDraftEdit","pushNotificationDraftSendSample","pushNotificationDraftApprove"];return n.forEach(function(e){var t=i.get(e);t&&t.setDisabled(s)}),e};var p=Mkt3.controller.mobilePushNotification.MobilePushNotification.prototype.loadToolbar;Mkt3.controller.mobilePushNotification.MobilePushNotification.prototype.loadToolbar=function(e,t){p.apply(this,arguments);var i=1==this.getMobilePushNotification().data.zoneId||this.getMobilePushNotification().data.zoneId==mktoJapaneseWorkspaceId,r=Ext4.ComponentQuery.query("mobilePushNotification contextMenu [action=approve],mobilePushNotification contextMenu [action=unapprove],mobilePushNotification contextMenu [action=clone],mobilePushNotification contextMenu [action=delete],mobilePushNotification contextMenu [action=editDraft],mobilePushNotification contextMenu [action=sendDraftSample],mobilePushNotification contextMenu [action=approveDraft],");return r.forEach(function(e){e&&e.setDisabled(i)}),e};var h=MktDsMenu.preShowContextMenu;MktDsMenu.preShowContextMenu=function(e,t){h.apply(this,arguments);var i=e.items,r=MktCanvas.getActiveTab(),s=t&&t.accessZoneId&&(1==t.accessZoneId||t.accessZoneId==mktoJapaneseWorkspaceId)||t&&t.depth&&1==t.depth&&t.accessZoneId&&t.accessZoneId==mktoMarketingWorkspaceId||!t||!t.accessZoneId&&e&&e.currNode&&e.currNode.attributes&&e.currNode.attributes.accessZoneId&&(1==e.currNode.attributes.accessZoneId||e.currNode.attributes.accessZoneId==mktoJapaneseWorkspaceId)||!e||!e.currNode&&r&&r.config&&r.config.accessZoneId&&(1==r.config.accessZoneId||r.config.accessZoneId==mktoJapaneseWorkspaceId),n=["newLandingPage","newTestGroup","newPageTemplate","pageTemplateImport","newForm","newVideoShare","newShareButton","newReferralOffer","newEmail","newEmailTemplate","newSnippet","uploadImage","share","createFolder","renameFolder","deleteFolder","convertToArchiveFolder","convertToFolder"];return n.forEach(function(e){var t=i.get(e);t&&t.setDisabled(s)}),e};var u=MktDsMenu.preShowTemplateMenu;MktDsMenu.preShowTemplateMenu=function(e,t){u.apply(this,arguments);var i=e.items,r=MktCanvas.getActiveTab(),s=t&&t.accessZoneId&&(1==t.accessZoneId||t.accessZoneId==mktoJapaneseWorkspaceId)||t&&t.depth&&1==t.depth&&t.accessZoneId&&t.accessZoneId==mktoMarketingWorkspaceId||!t||!t.accessZoneId&&e&&e.currNode&&e.currNode.attributes&&e.currNode.attributes.accessZoneId&&(1==e.currNode.attributes.accessZoneId||e.currNode.attributes.accessZoneId==mktoJapaneseWorkspaceId)||!e||!e.currNode&&r&&r.config&&r.config.accessZoneId&&(1==r.config.accessZoneId||r.config.accessZoneId==mktoJapaneseWorkspaceId),n=["approvePageTemplate","unapprovePageTemplate","clonePageTemplate","pageTemplateDelete","approveDraftPageTemplate"];return n.forEach(function(e){var t=i.get(e);t&&t.setDisabled(s)}),e};var m=MktDsMenu.preShowEmailTemplateMenu;MktDsMenu.preShowEmailTemplateMenu=function(e,t){m.apply(this,arguments);var i=e.items,r=MktCanvas.getActiveTab(),s=t&&t.accessZoneId&&(1==t.accessZoneId||t.accessZoneId==mktoJapaneseWorkspaceId)||t&&t.depth&&1==t.depth&&t.accessZoneId&&t.accessZoneId==mktoMarketingWorkspaceId||!t||!t.accessZoneId&&e&&e.currNode&&e.currNode.attributes&&e.currNode.attributes.accessZoneId&&(1==e.currNode.attributes.accessZoneId||e.currNode.attributes.accessZoneId==mktoJapaneseWorkspaceId)||!e||!e.currNode&&r&&r.config&&r.config.accessZoneId&&(1==r.config.accessZoneId||r.config.accessZoneId==mktoJapaneseWorkspaceId),n=["emailTemplateApprove","emailTemplateUnapprove","emailTemplateClone","emailTemplateDelete","emailTemplateDraftSendTest","emailTemplateDraftApprove"];return n.forEach(function(e){var t=i.get(e);t&&t.setDisabled(s)}),e};var f=MktDsMenu.preShowSnippetMenu;MktDsMenu.preShowSnippetMenu=function(e,t){f.apply(this,arguments);var i=e.items,r=MktCanvas.getActiveTab(),s=t&&t.accessZoneId&&(1==t.accessZoneId||t.accessZoneId==mktoJapaneseWorkspaceId)||t&&t.depth&&1==t.depth&&t.accessZoneId&&t.accessZoneId==mktoMarketingWorkspaceId||!t||!t.accessZoneId&&e&&e.currNode&&e.currNode.attributes&&e.currNode.attributes.accessZoneId&&(1==e.currNode.attributes.accessZoneId||e.currNode.attributes.accessZoneId==mktoJapaneseWorkspaceId)||!e||!e.currNode&&r&&r.config&&r.config.accessZoneId&&(1==r.config.accessZoneId||r.config.accessZoneId==mktoJapaneseWorkspaceId),n=["snippetApprove","snippetUnapprove","snippetClone","snippetDelete","snippetDraftApprove"];return n.forEach(function(e){var t=i.get(e);t&&t.setDisabled(s)}),e};var g=MktDsMenu.preShowImageMenu;MktDsMenu.preShowImageMenu=function(e,t){g.apply(this,arguments);var i=e.items,r=MktCanvas.getActiveTab(),s=t&&t.accessZoneId&&(1==t.accessZoneId||t.accessZoneId==mktoJapaneseWorkspaceId)||t&&t.depth&&1==t.depth&&t.accessZoneId&&t.accessZoneId==mktoMarketingWorkspaceId||!t||!t.accessZoneId&&e&&e.currNode&&e.currNode.attributes&&e.currNode.attributes.accessZoneId&&(1==e.currNode.attributes.accessZoneId||e.currNode.attributes.accessZoneId==mktoJapaneseWorkspaceId)||!e||!e.currNode&&r&&r.config&&r.config.accessZoneId&&(1==r.config.accessZoneId||r.config.accessZoneId==mktoJapaneseWorkspaceId),n=["uploadImage","imageDelete","replaceImage"];return n.forEach(function(e){var t=i.get(e);t&&t.setDisabled(s)}),e};var v=MktLeadDbMenu.preShowContextMenu;MktLeadDbMenu.preShowContextMenu=function(e,t){v.apply(this,arguments);var i=e.items,r=MktCanvas.getActiveTab(),s=t&&t.accessZoneId&&(1==t.accessZoneId||t.accessZoneId==mktoJapaneseWorkspaceId)||t&&t.depth&&1==t.depth&&t.accessZoneId&&t.accessZoneId==mktoMarketingWorkspaceId||!t||!t.accessZoneId&&e&&e.currNode&&e.currNode.attributes&&e.currNode.attributes.accessZoneId&&(1==e.currNode.attributes.accessZoneId||e.currNode.attributes.accessZoneId==mktoJapaneseWorkspaceId)||!e||!e.currNode&&r&&r.config&&r.config.accessZoneId&&(1==r.config.accessZoneId||r.config.accessZoneId==mktoJapaneseWorkspaceId),n=["cloneSmartlist","cloneList","deleteList","showSupportHistory","showSupportUsagePerf","showSmartListProcessorDiag","showSmartListProcessorOverride"];return n.forEach(function(e){var t=i.get(e);t&&t.setDisabled(s)}),e};var y=MktLeadDbMenu.preShowListListMenu;MktLeadDbMenu.preShowListListMenu=function(e,t){y.apply(this,arguments);var i=e.items,r=MktCanvas.getActiveTab(),s=t&&t.accessZoneId&&(1==t.accessZoneId||t.accessZoneId==mktoJapaneseWorkspaceId)||t&&t.depth&&1==t.depth&&t.accessZoneId&&t.accessZoneId==mktoMarketingWorkspaceId||!t||!t.accessZoneId&&e&&e.currNode&&e.currNode.attributes&&e.currNode.attributes.accessZoneId&&(1==e.currNode.attributes.accessZoneId||e.currNode.attributes.accessZoneId==mktoJapaneseWorkspaceId)||!e||!e.currNode&&r&&r.config&&r.config.accessZoneId&&(1==r.config.accessZoneId||r.config.accessZoneId==mktoJapaneseWorkspaceId),n=["cloneSmartlist","cloneList","deleteList","showSupportHistory","showSupportUsagePerf","showSmartListProcessorDiag","showSmartListProcessorOverride"];return n.forEach(function(e){var t=i.get(e);t&&t.setDisabled(s)}),e};var b=MktLeadDbMenu.preShowSegmentationMenu;MktLeadDbMenu.preShowSegmentationMenu=function(e,t){b.apply(this,arguments);var i=e.items,r=MktCanvas.getActiveTab(),s=t&&t.accessZoneId&&(1==t.accessZoneId||t.accessZoneId==mktoJapaneseWorkspaceId)||t&&t.depth&&1==t.depth&&t.accessZoneId&&t.accessZoneId==mktoMarketingWorkspaceId||!t||!t.accessZoneId&&e&&e.currNode&&e.currNode.attributes&&e.currNode.attributes.accessZoneId&&(1==e.currNode.attributes.accessZoneId||e.currNode.attributes.accessZoneId==mktoJapaneseWorkspaceId)||!e||!e.currNode&&r&&r.config&&r.config.accessZoneId&&(1==r.config.accessZoneId||r.config.accessZoneId==mktoJapaneseWorkspaceId),n=["createDraftSegmentation","approveSegmentation","unapproveSegmentation","deleteSegmentation","approveDraftSegmentation"];return n.forEach(function(e){var t=i.get(e);t&&t.setDisabled(s)}),e};var k=MktLeadDbMenu.preShowSegmentationFolderMenu;MktLeadDbMenu.preShowSegmentationFolderMenu=function(e,t){k.apply(this,arguments);var i=e.items,r=MktCanvas.getActiveTab(),s=t&&t.accessZoneId&&(1==t.accessZoneId||t.accessZoneId==mktoJapaneseWorkspaceId)||t&&t.depth&&1==t.depth&&t.accessZoneId&&t.accessZoneId==mktoMarketingWorkspaceId||!t||!t.accessZoneId&&e&&e.currNode&&e.currNode.attributes&&e.currNode.attributes.accessZoneId&&(1==e.currNode.attributes.accessZoneId||e.currNode.attributes.accessZoneId==mktoJapaneseWorkspaceId)||!e||!e.currNode&&r&&r.config&&r.config.accessZoneId&&(1==r.config.accessZoneId||r.config.accessZoneId==mktoJapaneseWorkspaceId),n=["newSegmentation","share","createFolder","renameFolder","deleteFolder","convertToArchiveFolder","convertToFolder"];return n.forEach(function(e){var t=i.get(e);t&&t.setDisabled(s)}),e};var x=MktLeadDbMenu.preShowUserListMenu;MktLeadDbMenu.preShowUserListMenu=function(e,t){x.apply(this,arguments);var i=e.items,r=MktCanvas.getActiveTab(),s=t&&t.accessZoneId&&(1==t.accessZoneId||t.accessZoneId==mktoJapaneseWorkspaceId)||t&&t.depth&&1==t.depth&&t.accessZoneId&&t.accessZoneId==mktoMarketingWorkspaceId||!t||!t.accessZoneId&&e&&e.currNode&&e.currNode.attributes&&e.currNode.attributes.accessZoneId&&(1==e.currNode.attributes.accessZoneId||e.currNode.attributes.accessZoneId==mktoJapaneseWorkspaceId)||!e||!e.currNode&&r&&r.config&&r.config.accessZoneId&&(1==r.config.accessZoneId||r.config.accessZoneId==mktoJapaneseWorkspaceId),n=["cloneSmartlist","cloneList","deleteList"];return n.forEach(function(e){var t=i.get(e);t&&t.setDisabled(s)}),e};var E=MktAnalyticsMenu.preShowReportMenu;MktAnalyticsMenu.preShowReportMenu=function(e,t){E.apply(this,arguments);var i=e.items,r=MktCanvas.getActiveTab(),s=t&&t.accessZoneId&&(1==t.accessZoneId||t.accessZoneId==mktoJapaneseWorkspaceId)||t&&t.depth&&1==t.depth&&t.accessZoneId&&t.accessZoneId==mktoMarketingWorkspaceId||!t||!t.accessZoneId&&e&&e.currNode&&e.currNode.attributes&&e.currNode.attributes.accessZoneId&&(1==e.currNode.attributes.accessZoneId||e.currNode.attributes.accessZoneId==mktoJapaneseWorkspaceId)||!e||!e.currNode&&r&&r.config&&r.config.accessZoneId&&(1==r.config.accessZoneId||r.config.accessZoneId==mktoJapaneseWorkspaceId),n=["cloneReport","deleteReport","moveReport"];return n.forEach(function(e){var t=i.get(e);t&&t.setDisabled(s)}),e};var w=MktAnalyticsMenu.preshowReportFolderMenu;MktAnalyticsMenu.preshowReportFolderMenu=function(e,t){w.apply(this,arguments);var i=e.items,r=MktCanvas.getActiveTab(),s=t&&t.accessZoneId&&(1==t.accessZoneId||t.accessZoneId==mktoJapaneseWorkspaceId)||t&&t.depth&&1==t.depth&&t.accessZoneId&&t.accessZoneId==mktoMarketingWorkspaceId||!t||!t.accessZoneId&&e&&e.currNode&&e.currNode.attributes&&e.currNode.attributes.accessZoneId&&(1==e.currNode.attributes.accessZoneId||e.currNode.attributes.accessZoneId==mktoJapaneseWorkspaceId)||!e||!e.currNode&&r&&r.config&&r.config.accessZoneId&&(1==r.config.accessZoneId||r.config.accessZoneId==mktoJapaneseWorkspaceId),n=["createFolder","renameFolder","deleteFolder","convertToArchiveFolder","convertToFolder","newRcm","share","moveReport"];return n.forEach(function(e){var t=i.get(e);t&&t.setDisabled(s)}),e},Mkt.widgets.ToolbarButton.prototype.showMenu=function(){var e;if(MktCanvas&&MktCanvas.getActiveTab()&&MktCanvas.getActiveTab().config&&MktCanvas.getActiveTab().config.accessZoneId&&(1==MktCanvas.getActiveTab().config.accessZoneId||MktCanvas.getActiveTab().config.accessZoneId==mktoJapaneseWorkspaceId)){if("leadDbLeadMenu"==this.menu.itemId)for(e=0;e<this.menu.items.items.length;e++)if("undefined"!=typeof this.menu.items.items[e].menu){var t;for(t=0;t<this.menu.items.items[e].menu.items.items.length;t++)this.menu.items.items[e].menu.items.items[t].disable(!0)}for(e=0;e<this.menu.items.items.length;e++)switch(this.menu.items.items[e].itemId){case"createProgramFolder":this.menu.items.items[e].disable(!0);break;case"newSmartCampaign":this.menu.items.items[e].disable(!0);break;case"createNewMarketingProgram":this.menu.items.items[e].disable(!0);break;case"importProgram":this.menu.items.items[e].disable(!0);break;case"createProgramFolder":this.menu.items.items[e].disable(!0);break;case"entryRescheduleEntries":this.menu.items.items[e].disable(!0);break;case"sfdcCampaignSync":this.menu.items.items[e].disable(!0);break;case"cloneMarketingProgram":this.menu.items.items[e].disable(!0);break;case"deleteMarketingProgram":this.menu.items.items[e].disable(!0);break;case"showImportMemberStatus":break;case"showExportMemberStatus":break;case"Not in ProgramStatusMarketingEvent":this.menu.disable(!0),this.menu.items.items[e].disable(!0);break;case"MemberStatusMarketingEvent":this.menu.items.items[e].disable(!0);break;case"SentStatusMarketingEvent":this.menu.items.items[e].disable(!0);break;case"VisitedStatusMarketingEvent":this.menu.items.items[e].disable(!0);break;case"EngagedStatusMarketingEvent":this.menu.items.items[e].disable(!0);break;case"InvitedStatusMarketingEvent":this.menu.items.items[e].disable(!0);break;case"RegisteredStatusMarketingEvent":this.menu.items.items[e].disable(!0);break;case"AttendedStatusMarketingEvent":this.menu.items.items[e].disable(!0);break;case"No ShowStatusMarketingEvent":this.menu.items.items[e].disable(!0);break;case"OpenedStatusMarketingEvent":this.menu.items.items[e].disable(!0);break;case"ClickedStatusMarketingEvent":this.menu.items.items[e].disable(!0);break;case"BouncedStatusMarketingEvent":this.menu.items.items[e].disable(!0);break;case"UnsubscribedStatusMarketingEvent":this.menu.items.items[e].disable(!0);break;case"cloneEmailBatchProgram":this.menu.items.items[e].disable(!0);break;case"deleteEmailBatchProgram":this.menu.items.items[e].disable(!0);break;case"cloneNurtureProgram":this.menu.items.items[e].disable(!0);break;case"deleteNurtureProgram":this.menu.items.items[e].disable(!0);break;case"testNurtureProgram":this.menu.items.items[e].disable(!0);break;case"eventSchedule":break;case"entryRescheduleEntries":break;case"cloneMarketingEvent":this.menu.items.items[e].disable(!0);break;case"deleteMarketingEvent":this.menu.items.items[e].disable(!0);break;case"refreshFromWebinarProvider":this.menu.items.items[e].disable(!0);break;case"navigateToNurtureTracks":break;case"navigateToCFSmartCamp":break;case"navigateToLocalAssets":break;case"navigateToProgramSmartList":break;case"navigateToEventSettings":break;case"navigateToCFTokens":break;case"navigateToEventMembers":break;case"navigateToCFResults":break;case"navigateToSmartCampaign":break;case"navigateToSmartList":break;case"navigateToFlow":break;case"navigateToSchedule":break;case"navigateToResults":break;case"navigateToCampaignMembers":break;case"newLocalAsset":this.menu.items.items[e].disable(!0);break;case"renameProgramFolder":this.menu.items.items[e].disable(!0);break;case"deleteProgramFolder":this.menu.items.items[e].disable(!0);break;case"convertToArchiveFolder":this.menu.items.items[e].disable(!0);break;case"convertToCampaignFolder":this.menu.items.items[e].disable(!0);break;case"scClone":this.menu.items.items[e].disable(!0);break;case"scArchive":this.menu.items.items[e].disable(!0);break;case"scMove":this.menu.items.items[e].disable(!0);break;case"cloneMarketingEvent":this.menu.items.items[e].disable(!0);break;case"deleteMarketingEvent":this.menu.items.items[e].disable(!0);break;case"cloneNurtureProgram":this.menu.items.items[e].disable(!0);break;case"deleteNurtureProgram":this.menu.items.items[e].disable(!0);break;case"cloneEmailBatchProgram":this.menu.items.items[e].disable(!0);break;case"deleteEmailBatchProgram":this.menu.items.items[e].disable(!0);break;case"scActivate":break;case"scAbort":break;case"addToFavorites":break;case"removeFromFavorites":break;case"importProgramStatus":break;case"scCampChangeHistory":this.menu.items.items[e].disable(!0);break;case"scCampRunHistory":this.menu.items.items[e].disable(!0);break;case"scClearPalette":this.menu.items.items[e].disable(!0);break;case"scClearSmartList":this.menu.items.items[e].disable(!0);break;case"scClearFlow":this.menu.items.items[e].disable(!0);break;case"progGenerateRef":this.menu.items.items[e].disable(!0);break;case"checkForCorruptEmails":this.menu.items.items[e].disable(!0);break;case"emailEdit":break;case"emailPreview":break;case"emailApprove":this.menu.items.items[e].disable(!0);break;case"emailUnapprove":this.menu.items.items[e].disable(!0);break;case"emailDownloadHtml":break;case"emailSendTest":break;case"emailClone":this.menu.items.items[e].disable(!0);break;case"emailDelete":this.menu.items.items[e].disable(!0);break;case"emailMove":this.menu.items.items[e].disable(!0);break;case"emailNewTest":this.menu.items.items[e].disable(!0);break;case"emailDraftEdit":break;case"emailDraftPreview":break;case"emailDraftSendTest":break;case"emailDraftApprove":this.menu.items.items[e].disable(!0);break;case"emailDraftDiscard":break;case"emailApproveTest":this.menu.items.items[e].disable(!0);break;case"emailSendSampleTest":break;case"emailEditTest":break;case"emailViewTestSummary":break;case"emailTestDeclareChampion":break;case"emailDiscardTest":break;case"emailTemplateEdit":break;case"emailTemplatePreview":break;case"emailTemplateSendTest":break;case"emailTemplateApprove":this.menu.items.items[e].disable(!0);break;case"emailTemplateUnapprove":this.menu.items.items[e].disable(!0);break;case"emailTemplateClone":this.menu.items.items[e].disable(!0);break;case"emailTemplateDelete":this.menu.items.items[e].disable(!0);break;case"emailTemplateDraftEdit":break;case"emailTemplateDraftPreview":break;case"emailTemplateDraftSendTest":break;case"emailTemplateDraftApprove":this.menu.items.items[e].disable(!0);break;case"emailTemplateDraftDiscard":break;case"formEditDraft":break;case"formPreview":break;case"formEdit":break;case"formApprove":this.menu.items.items[e].disable(!0);break;case"formClone":this.menu.items.items[e].disable(!0);break;case"formDelete":this.menu.items.items[e].disable(!0);break;case"formEmbed":break;case"formMove":this.menu.items.items[e].disable(!0);break;case"formDraftPreview":break;case"formDraftEdit":break;case"formDraftApprove":this.menu.items.items[e].disable(!0);break;case"formDraftDiscard":break;case"pageEdit":break;case"pagePreview":break;case"deviceSwitch":break;case"pageApprove":this.menu.items.items[e].disable(!0);break;case"pageUnapprove":this.menu.items.items[e].disable(!0);break;case"publishToFacebook":this.menu.items.items[e].disable(!0);break;case"pageConvertToTestGroup":this.menu.items.items[e].disable(!0);break;case"pageClone":this.menu.items.items[e].disable(!0);break;case"pageDelete":this.menu.items.items[e].disable(!0);break;case"urlTools":this.menu.items.items[e].disable(!0);break;case"pageMove":this.menu.items.items[e].disable(!0);break;case"pageDraftEdit":break;case"pageDraftPreview":break;case"pageDraftApprove":this.menu.items.items[e].disable(!0);break;case"pageDraftDiscard":break;case"editPageTemplate":break;case"previewPageTemplate":break;case"approvePageTemplate":this.menu.items.items[e].disable(!0);break;case"unapprovePageTemplate":this.menu.items.items[e].disable(!0);break;case"clonePageTemplate":this.menu.items.items[e].disable(!0);break;case"pageTemplateDelete":this.menu.items.items[e].disable(!0);break;case"pageTemplateExport":break;case"editPageTemplateDraft":break;case"previewDraftPageTemplate":break;case"approveDraftPageTemplate":this.menu.items.items[e].disable(!0);break;case"discardDraftPageTemplate":break;case"snippetEdit":break;case"snippetPreview":break;case"snippetApprove":this.menu.items.items[e].disable(!0);break;case"snippetUnapprove":this.menu.items.items[e].disable(!0);break;case"snippetClone":this.menu.items.items[e].disable(!0);break;case"snippetDelete":this.menu.items.items[e].disable(!0);break;case"snippetDraftEdit":break;case"snippetDraftPreview":break;case"snippetDraftApprove":this.menu.items.items[e].disable(!0);break;case"snippetDraftDiscard":break;case"uploadImage":this.menu.items.items[e].disable(!0);break;case"grabFromWebPage":break;case"imagePreview":break;case"imageDelete":this.menu.items.items[e].disable(!0);break;case"replaceImage":this.menu.items.items[e].disable(!0);break;case"newSmartList":this.menu.items.items[e].disable(!0);break;case"newList":this.menu.items.items[e].disable(!0);break;case"newSegmentation":this.menu.items.items[e].disable(!0);break;case"importList":this.menu.items.items[e].disable(!0);break;case"newLead":this.menu.items.items[e].disable(!0);break;case"newDataMgr":this.menu.items.items[e].disable(!0);break;case"navigateToMembership":break;case"navigateToSmartList":break;case"navigateToFilterView":break;case"showImportStatus":break;case"showExportStatus":break;case"importList":this.menu.items.items[e].disable(!0);break;case"exportList":break;case"exportAdBridge":break;case"newSmartListReportSubscription":break;case"cloneSmartlist":this.menu.items.items[e].disable(!0);break;case"cloneList":this.menu.items.items[e].disable(!0);break;case"deleteList":this.menu.items.items[e].disable(!0);break;case"showSupportHistory":this.menu.items.items[e].disable(!0);break;case"showSupportUsagePerf":this.menu.items.items[e].disable(!0);break;case"showSmartListProcessorDiag":this.menu.items.items[e].disable(!0);break;case"showSmartListProcessorOverride":this.menu.items.items[e].disable(!0);break;case"viewLeadDetails":break;case"blackCatDiag":this.menu.items.items[e].disable(!0);break;case"mergeLeads":this.menu.items.items[e].disable(!0);break;case"leadDbMenuFlowActions":break;case"programsFolder":break;case"specialFolder":break;case"salesforceFolder":break;case"createDraftSegmentation":this.menu.items.items[e].disable(!0);break;case"editSegmentation":break;case"approveSegmentation":this.menu.items.items[e].disable(!0);break;case"unapproveSegmentation":this.menu.items.items[e].disable(!0);break;case"deleteSegmentation":this.menu.items.items[e].disable(!0);break;case"refreshSegmentation":break;case"editDraftSegmentation":break;case"approveDraftSegmentation":this.menu.items.items[e].disable(!0);break;case"discardDraftSegmentation":break;default:break;case"deleteReport":this.menu.items.items[e].disable(!0);break;case"newDrillDown_atxCanvasOverview":this.menu.items.items[e].disable(!0);break;case"newReport_atxCanvasOverview":break;case"deleteReport":this.menu.items.items[e].disable(!0);break;case"rcmEdit":break;case"rcmPreview":break;case"rcmApproveStages":this.menu.items.items[e].disable(!0);break;case"rcmUnapproveStages":this.menu.items.items[e].disable(!0);break;case"rcmApprove":this.menu.items.items[e].disable(!0);break;case"rcmUnapprove":this.menu.items.items[e].disable(!0);break;case"rcmClone":this.menu.items.items[e].disable(!0);break;case"rcmDelete":this.menu.items.items[e].disable(!0);break;case"rcmExport":break;case"rcmEditDraft":break;case"rcmPreviewDraft":break;case"rcmApproveDraft":this.menu.items.items[e].disable(!0);break;case"rcmDiscardDraft":break;case"rcmAassignmentRules":this.menu.items.items[e].disable(!0)}}this.showingMenu=!0,this.menu.xtra&&delete this.menu.xtra,this.menu.triggeredFrom="button",this.fireEvent("beforemenushow",this.menu),Mkt.widgets.ToolbarButton.superclass.showMenu.call(this),this.showingMenu=!1}},APP.limitNurturePrograms=function(){console.log("Marketo App > Limiting: Nurture Programs");var e=Mkt.apps.marketingEvent.MarketingEventForm.prototype.beforeSubmitCallback;Mkt.apps.marketingEvent.MarketingEventForm.prototype.beforeSubmitCallback=function(){var t=!1,i=MktExplorer.boundTree.root,r="Nurture Program",s=[];i.cascade(function(){var e=this.attributes;e&&e.xtra&&e.xtra.compType==r&&e.xtra.accessZoneId==MktCanvas.activeTab.config.accessZoneId&&s.push(this)},void 0,[r]);if(s.length>=3&&(t=!0),1==t){var a=Ext.MessageBox.show({title:"MarketoLive",msg:"Users are limited to 3 nurture programs each.",width:400,closable:!0});return a.show,!1}return e.apply(this,arguments)}},APP.injectAnalyzerNavBar=function(){var e=window.setInterval(function(){if("undefined"!=typeof PODS){console.log("Marketo App > Injecting: Analyzer Navigation Bar"),window.clearInterval(e),"undefined"==typeof pod&&(pod=new PODS.Pod(PODS.getCookie("userPod")));for(var t=0;t<pod.valueSet.length;t++)if(currentUrl==pod.valueSet[t].url){console.log("Marketo App > Updating: CSS for Analyzer Navigation Bar"),$j=jQuery.noConflict();var i="#"+pod.valueSet[t].position;$j(i).parent().css("display","block"),$j(i).parent().siblings().css("display","none"),$j(i).removeClass("analyzer-button").addClass("analyzer-title"),$j(i).siblings().removeClass("analyzer-title").addClass("analyzer-button"),$j("#modeler,#success-path-analyzer,#opportunity-influence-analyzer,#program-analyzer").bind("click",function(e){console.log("Marketo App > Identifying: Current Analyzer");for(var t=0;t<pod.valueSet.length;t++)e.target.id==pod.valueSet[t].position&&(i=t);window.location=pod.valueSet[i].url})}}},0)},APP.enableSaving=function(){console.log("Marketo App > Enabling: Saving for Editors & Nurture Streams"),Mkt3.data.Store.prototype.sync=function(){this.autoSyncSuspended&&(this.autoSync=!0,this.autoSyncSuspended=!1),this.getProxy()instanceof Mkt3.data.proxy.AjaxPost?Mkt3.Synchronizer.sync(this):this.callParent(arguments)},Ext4.data.Model.prototype.destroy=function(e){e=Ext.apply({records:[this],action:"destroy"},e);var a,o,l,c,d,t=this,i=t.phantom!==!0,r=e.scope||t,s=t.stores,n=0;return c=new Ext.data.Operation(e),d=function(c){if(l=[t,c],c.wasSuccessful()){for(a=s.length;a>n;n++)o=s[n],o.remove(t,!0),i&&o.fireEvent("write",o,c);t.clearListeners(),Ext.callback(e.success,r,l)}else Ext.callback(e.failure,r,l);Ext.callback(e.callback,r,l)},i?t.getProxy().destroy(c,d,t):(c.complete=c.success=!0,c.resultSet=t.getProxy().reader.nullResultSet,d(c)),t}},APP.disableSaving=function(){console.log("Marketo App > Disabling: Saving for Editors & Nurture Streams"),Mkt3.data.Store.prototype.sync=function(){},Ext4.data.Model.prototype.destroy=function(){},Mkt3.controller.editor.form.settings.FieldSelection.prototype.deleteFormField=function(e){var i,r,s,n,t=e.getFieldWidget();if(t&&"fieldset"===t.get("datatype"))for(n=this.getForm().getFormFields(),i=e.get("id"),r=0;r<n.getCount();r++)s=n.getAt(r),s.get("fieldsetFieldId")==i&&this.deleteFormField(s);e.destroy({scope:this,callback:function(e,i){i.success&&t&&t.destroy()}}),this.renumberWidgets()}},APP.overlayEmailDesigner=function(){console.log("Marketo App > Overlaying: Email Designer");var e=APP.getCookie("logo"),t=APP.getCookie("color");null==e&&(e=defaultTurnerLogoWhite),null==t&&(t=defaultColor);var i=window.setInterval(function(){var r=document.getElementsByTagName("iframe")[0].contentWindow.document.getElementById("logo-bkg"),s=document.getElementsByTagName("iframe")[0].contentWindow.document.getElementById("button-bkg"),n=document.getElementsByTagName("iframe")[0].contentWindow.document.getElementById("logo-swap-company"),a=document.getElementsByTagName("iframe")[0].contentWindow.document.getElementById("logo-swap-container"),o=document.getElementsByTagName("iframe")[0].contentWindow.document.getElementById("logo-swap-company-container");null!=r&&null!=s&&null!=n&&(console.log("Marketo App > Overlaying: iframe"),window.clearInterval(i),a.style.display="none",o.style.display="block",r.style.backgroundColor=t,s.style.backgroundColor=t,n.src=e)},0)},APP.overlayLandingPageDesigner=function(){console.log("Marketo App > Overlaying: Landing Page Designer");var e=APP.getCookie("logo"),t=APP.getCookie("color"),i=e.split("https://logo.clearbit.com/")[1].split(".")[0],r=i.charAt(0).toUpperCase()+i.slice(1);null==e&&(e=defaultTurnerLogoGreen),null==t&&(t=defaultColor);var s=window.setInterval(function(){var i=document.getElementsByTagName("iframe")[0].contentWindow.document.getElementById("lp-logo"),n=document.getElementsByTagName("iframe")[0].contentWindow.document.getElementById("background-color"),a=document.getElementsByTagName("iframe")[0].contentWindow.document.getElementById("bigger-background"),o=document.getElementsByTagName("iframe")[0].contentWindow.document.getElementById("sub-title");null!=i&&null!=n&&null!=a&&null!=o&&(console.log("Marketo App > Overlaying: iframe"),window.clearInterval(s),i.src=e,n.style.backgroundColor=t,a.style.backgroundColor=t,o.innerHTML=r+" invites you to join:")},0)},APP.openAdBridgeModal=function(){console.log("Marketo App > Opening Ad Bridge Modal Window"),"button"==document.getElementsByClassName("x-btn-text mkiUserTarget")[0].type&&document.getElementsByClassName("x-btn-text mkiUserTarget")[0].click()},APP.getEmailIds=function(e){console.log("Marketo App > Getting Email Ids for Pod: "+e);var t=[];switch(e){case"app-sjp":t.push(15464),t.push(12818,12820,12819,12816,12811,12815,12812,12821,12813,12814,12817,12823),t.push(10010,10179,10180,12845,10181,10182,10183,10184),t.push(4894,3764,3765,3767,3766,3762),t.push(16118,16119,16120,16122,16121,16117),t.push(16123),t.push(16137,16129,16125,16126,16124,16136,16128,16130,16131,16132,16127,16133);break;case"app-ab07":t.push(14240),t.push(10171,10173,10172,10169,9957,9974,9968,10174,9972,9973,10170,9962),t.push(10010,10179,10180,10181,10182,10183,10184),t.push(4894,3764,3765,3767,3766,3762);break;case"app-ab08":t.push(13924),t.push(12818,12820,12819,12816,12811,12815,12812,12821,12813,12814,12817,12823),t.push(10010,10179,10180,12845,10181,10182,10183,10184),t.push(4894,3764,3765,3767,3766,3762);break;default:console.error("Marketp App > Invalid: User Pod in getEmailIds()")}return t},-1!=currentUrl.search(mktoAppDomain)||-1!=currentUrl.search(mktoDesignerDomain)||-1!=currentUrl.search(mktoWizard)){console.log("Marketo App > Location: Marketo URL");var isMktPageApp=window.setInterval(function(){if("undefined"!=typeof MktPage){console.log("Marketo App > Location: Marketo Page"),window.clearInterval(isMktPageApp);var e=MktPage.savedState.custPrefix,t=MktPage.userid.toLowerCase();if("mktodemoaccount106"==e||"mktodemoaccount106a"==e||"mktodemoaccount106b"==e){if(console.log("Marketo App > Location: MarketoLive Instance"),window.mkto_live_plugin_state=!0,-1!=t.search("^admin@mktodemoaccount")||-1!=t.search("^mktodemoaccount[a-z0-9]*@marketo.com")||-1!=t.search("^marketodemo.*@gmail.com$")){
if(console.log("Marketo App > User: Admin"),APP.disableDemoPluginCheck(),"false"!=APP.getCookie("priv"))return;console.log("Marketo App > User: Admin is now a normal user")}var i,r,s=173,n="AR1559A1!",a="AR1544A1!",o="RCM70A1!",l="RCM5A1!",c="AR1682A1!";if(APP.disableDemoPluginCheck(),i=Mkt3.DL.getDlToken(),i==mktoMyMarketoFragment)APP.overrideDeliverabilityToolsTile();else if(i==mktoMarketingActivitiesDefaultFragment||i==mktoMarketingActivitiesMarketingFragment||i==mktoMarketingActivitiesJapaneseFragment||i==mktoLeadDatabaseDefaultFragment||i==mktoLeadDatabaseMarketingFragment||i==mktoLeadDatabaseJapaneseFragment)APP.disableButtons();else if(i==mktoAnalyticsFragment)APP.overrideAnalyticsTiles();else if(i==mktoAdBridgeSmartListFragment)var d=window.setInterval(function(){"undefined"!=typeof document.getElementsByClassName("x-btn-text mkiUserTarget")[0]&&(console.log("Marketo App > Location: Ad Bridge Smart List"),window.clearInterval(d),APP.openAdBridgeModal())},0);if(-1==i.search("^"+mktoEmailDesignerFragment)&&i.search("^"+mktoEmailPreviewFragment)&&-1==i.search("^"+mktoLandingPageDesignerFragment)&&-1==i.search("^"+mktoLandingPagePreviewFragment)&&-1==i.search("^"+mktoFormWizardFragment)&&-1==i.search("^"+mktoMobilePushNotificationWizardFragment)&&-1==i.search("^"+mktoSocialAppWizardFragment)){if(APP.overrideTreeNodeExpand(),APP.overrideTreeNodeCollapse(),APP.disableMenus(),APP.overrideSmartCampaignSaving(),APP.overrideSmartCampaignCanvas(),APP.overrideNewProgramCreate(),APP.overrideAssetSaveEdit(),APP.overrideNewAssetCreate(),APP.hideFoldersOnImport(),APP.disableConfirmationMessage(),i!=mktoMyMarketoFragment)var p=window.setInterval(function(){null!==MktCanvas.activeTab&&(console.log("Marketo App > Location: Marketo Canvas"),window.clearInterval(p),r=MktCanvas.activeTab.config.accessZoneId,(1==r||r==s)&&APP.disableSaving())},0);(i==n||i==a||i==o||i==l||i==c)&&(console.log("Marketo App > Location: Analytics"),APP.injectAnalyzerNavBar());var h={},u=[],m=[],f=APP.getEmailIds(APP.getCookie("userPod"));switch(e){case"mktodemoaccount106":h.dpageid_11826="dpageid_11826",h.dpageid_11822="dpageid_11822",h.dpageid_11548="dpageid_11548",h.dpageid_11546="dpageid_11546",h.dpageid_11856="dpageid_11856",u.push(3576,1749,1900,3018,3020,3021),m.push(29,23);break;case"mktodemoaccount106a":h.dpageid_10672="dpageid_10672",h.dpageid_10454="dpageid_10454",u.push(2532,1749,1900),m.push(29,26);break;case"mktodemoaccount106b":h.dpageid_10760="dpageid_10768",h.dpageid_10762="dpageid_10762",u.push(2472,1749,1900),m.push(2,1)}var g=window.setInterval(function(){"undefined"!=typeof mktLPLManager&&(window.clearInterval(g),APP.discardLandingPageDrafts(h),APP.discardEmailDrafts(f),APP.discardFormPushDrafts("Form",u),APP.discardFormPushDrafts("MobilePushNotification",m),APP.limitNurturePrograms())},0)}else{if(-1!=i.search("^"+mktoLandingPageDesignerFragment)){console.log("Marketo App > Location: Landing Page Designer");var v="LPE11826",y="LPP11826",b="LPE10672",k="LPP10672",x="LPE10768",E="LPP10768";switch(APP.disableSyncErrorMessage(),i){case v:APP.overlayLandingPageDesigner();break;case y:APP.overlayLandingPageDesigner();break;case b:APP.overlayLandingPageDesigner();break;case k:APP.overlayLandingPageDesigner();break;case x:APP.overlayLandingPageDesigner();break;case E:APP.overlayLandingPageDesigner()}return}console.log("Marketo App > Location: Designers/Wizards");var w,S="EME15464",M="EME14240",T="EME13924",D={filters:[{property:"id",value:Mkt3.DL.dl.compId}],callback:function(e){e.forEach(function(e){w=e.get("zoneId"),console.log("Marketo App > currAssetZoneId = "+w),1==w?APP.disableSaving():"false"==APP.getCookie("priv")&&APP.disableSaving()})}};switch(Mkt3.DL.dl.dlCompCode){case mktoEmailDesignerFragment:switch(console.log("Callback for email editor"),Ext4.getStore("Email").load(D),i){case S:APP.overlayEmailDesigner();break;case M:APP.overlayEmailDesigner();break;case T:APP.overlayEmailDesigner()}break;case mktoFormWizardFragment:console.log("Callback for form editor"),Ext4.getStore("Form").load(D);break;case mktoMobilePushNotificationWizardFragment:console.log("Callback for push editor"),Ext4.getStore("MobilePushNotification").load(D);break;case mktoSocialAppWizardFragment:console.log("Callback for social editor"),Ext4.getStore("SocialApp").load(D);break;default:w=-1}}window.onhashchange=function(){if(console.log("Window: Hash Changed"),currentUrl=window.location.href,i=Mkt3.DL.getDlToken(),i==mktoMyMarketoFragment?APP.overrideDeliverabilityToolsTile():i==mktoMarketingActivitiesDefaultFragment||i==mktoMarketingActivitiesMarketingFragment||i==mktoMarketingActivitiesJapaneseFragment||i==mktoLeadDatabaseDefaultFragment||i==mktoLeadDatabaseMarketingFragment||i==mktoLeadDatabaseJapaneseFragment?APP.disableButtons():i==mktoAnalyticsFragment&&APP.overrideAnalyticsTiles(),-1==i.search("^"+mktoEmailDesignerFragment)&&-1==i.search("^"+mktoLandingPageDesignerFragment)&&-1==i.search("^"+mktoFormWizardFragment)&&-1==i.search("^"+mktoMobilePushNotificationWizardFragment)&&-1==i.search("^"+mktoSocialAppWizardFragment)&&i!=mktoMyMarketoFragment){var e=window.setInterval(function(){if(null!==MktCanvas.activeTab){console.log("Marketo App > Location: Marketo Canvas"),window.clearInterval(e);var t=MktCanvas.activeTab.config.accessZoneId;t==r||(1==t||t==s?(APP.disableSaving(),r=t):("false"!=APP.getCookie("priv")&&APP.enableSaving(),r=t))}},0);(i==n||i==a||i==o||i==l||i==c)&&(console.log("Marketo App > Location: Analytics"),APP.injectAnalyzerNavBar())}}}else APP.overrideDeliverabilityToolsMenuItem(),i==mktoMyMarketoFragment&&APP.overrideDeliverabilityToolsTile(),window.onhashchange=function(){i==mktoMyMarketoFragment&&APP.overrideDeliverabilityToolsTile()};APP.overrideDeliverabilityToolsMenuItem()}},0)}