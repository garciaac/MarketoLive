console.log("Marketo App > Running");window.mkto_live_plugin_state=true;var currentUrl=window.location.href,currentProtocol=window.location.protocol,currentHost=window.location.host,mktoAppDomain="^https:\/\/app-[a-z0-9]+\.marketo\.com",mktoAppMatch="https://app-*.marketo.com",mktoLoginDomain="^https:\/\/login\.marketo\.com",mktoAppLoginDomain="^https:\/\/app\.marketo\.com",mktoDesignerDomain="^https:\/\/[a-z0-9]+-[a-z0-9]+\.marketodesigner\.com",mktoDesignerMatch="https://*.marketodesigner.com/*",mktoEmailDesigner=mktoDesignerDomain+"/ds",mktoLandingPageDesigner=mktoDesignerDomain+"/lpeditor/",defaultTurnerLogoGreen="http://marketolive.com/m3/assets/img/turner-tech-green.png",defaultTurnerLogoWhite="http://marketolive.com/m3/assets/img/turner-tech-white.png",defaultColor="rgb(42, 83, 112)",mktoWizard=mktoAppDomain+"/m#",rtpDemoDomain="^http:\/\/sjrtp1.marketo.com\/demo\/$|^http:\/\/cloud4.insightera.com\/demo\/$",emailDeliverabilityDomain="^https:\/\/250ok.com/",mktoMyMarketoFragment="MM0A1",mktoMarketingActivitiesDefaultFragment="MA15A1",mktoMarketingActivitiesMarketingFragment="MA19802A1",mktoMarketingActivitiesJapaneseFragment="MA19848A1",mktoLeadDatabaseDefaultFragment="ML0A1ZN2",mktoLeadDatabaseMarketingFragment="ML0A1ZN19788",mktoLeadDatabaseJapaneseFragment="ML0A1ZN19834",mktoAnalyticsFragment="AH0A1ZN17",mktoAdBridgeSmartListFragment="SL1B2",mktoEmailDesignerFragment="EME",mktoEmailPreviewFragment="EMP",mktoLandingPageDesignerFragment="LPE",mktoLandingPagePreviewFragment="LPP",mktoFormWizardFragment="FOE",mktoMobilePushNotificationWizardFragment="MPNE",mktoSocialAppWizardFragment="SOAE",mktoMarketingWorkspaceId=172,mktoJapaneseWorkspaceId=173,userWorkspaceName="My Workspace",isMktoLiveInstance=false,pod,APP=APP||{};APP.getCookie=function(cookieField){console.log("Marketo App > Getting: Cookie "+cookieField);var name=cookieField+"=",cookies=document.cookie.split(';'),currentCookie;for(var ii=0;ii<cookies.length;++ii){var currentCookie=cookies[ii].trim();if(currentCookie.indexOf(name)==0){return currentCookie.substring(name.length,currentCookie.length);}}
return null;}
APP.disableDemoPluginCheck=function(){console.log("Marketo App > Disabling: Demo Plugin Check");window.mkto_live_plugin_state=true;MktPage.validateDemoPlugin=function(){};isMktoLiveInstance=true;}
APP.disableSyncErrorMessage=function(){console.log("Marketo App > Disabling: Landing Page Sync Error Message");Mkt3.controller.editor.LandingPagePropertyPanel.prototype.fireSyncProperties=function(record,changes){var prop=record.get('properties');if(prop){var prop=this.normalizeProperties(Ext4.clone(prop),false,changes);record.set('properties',prop);}
if(record.data.localeId!=1){this.application.fireEvent('message.lp.syncProperties',record,changes);}}}
APP.disableConfirmationMessage=function(){console.log("Marketo App > Disabling: Smart Campaign Delete Confirmation Message");Mkt.widgets.DataPanel.prototype.clickClose=function(){var hasChanges=this.hasSettings(),showTriggerWarning=false;if(this.isSmartlist&&this.dpMeta.trigger){var triggerCount=this.dpMgr.getTriggers().length;if(triggerCount==1){showTriggerWarning=true;}}
if(hasChanges||showTriggerWarning){var title=MktLang.getStr('DataFormPanel.Delete_arg0',[this.dpTypeName(true)]),name=this.dpMeta.displayName||this.dpMeta.name,msg=MktLang.getStr('DataFormPanel.Are_you_sure_you_want_to_delete_arg0_arg1',[this.dpTypeName(),MktLang.getDBStr(name)]);if(showTriggerWarning){msg+=MktLang.getStr("DataFormPanel.Triggered_campaigns_must_contain_trigger_remain_active");}
if(this.dpMgr.isSmartlist&&!this.dpMeta.trigger&&this.dpMgr.smartListRuleLogic.customMode()){msg+=MktLang.getStr('DataFormPanel.Reminder')+
MktLang.getStr('DataFormPanel.Check_your_advanced_filter_rules_after_any_insert_delete_reorder');}
if(MktCanvas&&MktCanvas.getActiveTab()&&MktCanvas.getActiveTab().config&&MktCanvas.getActiveTab().config.accessZoneId){console.log("Marketo App > Closing: Smart Campaign Delete Confirmation Message");this._doClose();}
else{Ext4.Msg.confirmDelete({title:title,msg:msg,minHeight:300,fn:function(buttonId){if(buttonId==='ok'){this._doClose();}},scope:this});}}
else{this._doClose();}}}
APP.overrideDeliverabilityToolsTile=function(){console.log("Marketo App > Overriding: Deliverability Tools Tile");var tiles=MktCanvas.getEl().dom.nextSibling.childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes,currTileSpanTags,currTileAtags,spareTile,deliverabilityToolsTile,ii,jj;for(ii=0;ii<tiles.length;ii++){if(tiles[ii].getAttribute("role")=="presentation"){spareTile=tiles[ii];break;}
currTileSpanTags=tiles[ii].getElementsByTagName("span");for(jj=0;jj<currTileSpanTags.length;jj++){if(currTileSpanTags[jj].innerHTML=="Deliverability Tools"){deliverabilityToolsTile=tiles[ii];break;}}
currTileAtags=tiles[ii].getElementsByTagName("a");for(jj=0;jj<currTileAtags.length;jj++){if(currTileAtags[jj].href.search("/homepage/sso\\?sso=250ok$")!=-1){currTileAtags[jj].href="https://250ok.com/login";break;}}}
if(deliverabilityToolsTile==null&&spareTile!=null){tiles[tiles.length]=spareTile;tiles[tiles.length].outerHTML='<div class="x4-btn mkt3-homeTile x4-btn-default-small x4-icon-text-left x4-btn-icon-text-left x4-btn-default-small-icon-text-left" style="height: 150px;" id="homeTile-1036"><em id="homeTile-1036-btnWrap"><a id="homeTile-1036-btnEl" href="https://250ok.com/login" class="x4-btn-center" target="_blank" role="link" style="width: 150px; height: 150px;"><span id="homeTile-1036-btnInnerEl" class="x4-btn-inner" style="width: 150px; height: 150px; line-height: 150px;">Deliverability Tools</span><span id="homeTile-1036-btnIconEl" class="x4-btn-icon mki3-mail-sealed-svg"></span></a></em></div>';}}
APP.overrideDeliverabilityToolsMenuItem=function(){console.log("Marketo App > Overriding: Deliverability Tools Superball Menu Item");MktPage.showSuperMenu=function(){var logoEl=Ext.get(Ext.DomQuery.selectNode('.mkt-app-logo')),menu=logoEl.menu,menuTop=55;if(!menu){menu=logoEl.menu=Ext4.widget('appNavigationMenu',{listeners:{boxready:function(view){var logoRegion=logoEl.getRegion();if(logoRegion.bottom>menuTop){view.setBodyStyle('padding-top',logoRegion.bottom-menuTop+10+'px');view.updateLayout();}
menu.setZIndex(logoEl.getStyle('zIndex')-5);},beforerender:function(view){view.addCls(view.componentCls+'-hidden');},show:function(view){view.removeCls(view.componentCls+'-hidden');logoEl.ignoreNextClick=true;logoEl.removeClass(logoEl.attentionCls);if(!MktPage.savedState.isUsedSuperMenu){MktPage.savedState.isUsedSuperMenu=true;MktSession.ajaxRequest('user/saveUserPref',{serializeParms:{key:'isUsedSuperMenu',data:MktPage.savedState.isUsedSuperMenu}});}},beforehide:function(view){view.addCls(view.componentCls+'-hidden');},hide:function(){(function(){logoEl.ignoreNextClick=false;}).defer(250);}}});if(typeof(menu.items.items)!=="undefined"){console.log("Marketo App > Executing: Deliverability Tools Superball Menu Item");var ii,communityMenuItem,currSuperBallMenuItem,deliverabilityToolsMenuItemExists=false;for(ii=0;ii<menu.items.items.length;ii++){currSuperBallMenuItem=menu.items.items[ii];if(currSuperBallMenuItem.text=="Deliverability Tools"){deliverabilityToolsMenuItemExists=true;if(currSuperBallMenuItem.href.search("/homepage/sso\\?sso=250ok$")!=-1){currSuperBallMenuItem.href="https://250ok.com/login";currSuperBallMenuItem.update();}
break;}
else if(currSuperBallMenuItem.text=="Community"){communityMenuItem=currSuperBallMenuItem;}}
if(!deliverabilityToolsMenuItemExists&&communityMenuItem!=null){communityMenuItem.setText("Deliverability Tools");communityMenuItem.setIconCls("mki3-mail-sealed-svg");communityMenuItem.href="https://250ok.com/login";communityMenuItem.update();}}}
if(!menu.isVisible()&&!logoEl.ignoreNextClick){menu.showAt(0,menuTop);menu.setZIndex(logoEl.getStyle('zIndex')-5);}}}
APP.overrideAnalyticsTiles=function(){console.log("Marketo App > Overriding: Analytics Tiles");var isAnalyticsTiles=window.setInterval(function(){if(typeof(MktPage)!=="undefined"&&typeof(MktCanvas)!=="undefined"&&typeof(MktCanvas.getActiveTab().config.mkt3XType)!=="undefined"){window.clearInterval(isAnalyticsTiles);if(MktPage!=null&&MktPage.savedState!=null&&MktPage.savedState.custPrefix!=null&&MktPage.savedState.custPrefix=="mktodemoaccount106"&&MktCanvas!=null&&MktCanvas.getActiveTab().config.mkt3XType=="analyticsHome"&&MktCanvas.getActiveTab().config.accessZoneId!=null&&MktCanvas.getActiveTab().config.accessZoneId==1&&MktCanvas.getActiveTab().el!=null&&MktCanvas.getActiveTab().el.dom!=null&&MktCanvas.getActiveTab().el.dom.childNodes!=null){console.log("Marketo App > Executing: Analytics Tiles");var ii,host="https://app-sjp.marketo.com",numOfTiles=MktCanvas.getActiveTab().el.dom.childNodes[0].childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes.length;for(ii=0;ii<numOfTiles;ii++){var currTileHTML=MktCanvas.getActiveTab().el.dom.childNodes[0].childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[ii].outerHTML;switch(MktCanvas.getActiveTab().el.dom.childNodes[0].childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[ii].textContent){case"Email Performance":currTileHTML='<a href="'+host+'/#AR3866B2">'+currTileHTML+'</a>';MktCanvas.getActiveTab().el.dom.childNodes[0].childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[ii].outerHTML=currTileHTML;break;case"Lead Performance":currTileHTML='<a href="'+host+'/#AR3874B2">'+currTileHTML+'</a>';MktCanvas.getActiveTab().el.dom.childNodes[0].childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[ii].outerHTML=currTileHTML;break;case"Web Page Activity":currTileHTML='<a href="'+host+'/#AR3876B2">'+currTileHTML+'</a>';MktCanvas.getActiveTab().el.dom.childNodes[0].childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[ii].outerHTML=currTileHTML;break;case"Opportunity Influence Analyzer":currTileHTML='<a href="'+host+'/#AR1559A1!">'+currTileHTML+'</a>';MktCanvas.getActiveTab().el.dom.childNodes[0].childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[ii].outerHTML=currTileHTML;break;case"Program Analyzer":currTileHTML='<a href="'+host+'/#AR1544A1!">'+currTileHTML+'</a>';MktCanvas.getActiveTab().el.dom.childNodes[0].childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[ii].outerHTML=currTileHTML;break;case"Success Path Analyzer":currTileHTML='<a href="'+host+'/#AR1682A1!">'+currTileHTML+'</a>';MktCanvas.getActiveTab().el.dom.childNodes[0].childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[ii].outerHTML=currTileHTML;break;case"Revenue Explorer":break;case"Engagement Stream Performance":currTileHTML='<a href="'+host+'/#AR3881B2">'+currTileHTML+'</a>';MktCanvas.getActiveTab().el.dom.childNodes[0].childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[ii].outerHTML=currTileHTML;break;case"Program Performance":currTileHTML='<a href="'+host+'/#AR3882B2">'+currTileHTML+'</a>';MktCanvas.getActiveTab().el.dom.childNodes[0].childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[ii].outerHTML=currTileHTML;break;case"Email Link Performance":currTileHTML='<a href="'+host+'/#AR3886B2">'+currTileHTML+'</a>';MktCanvas.getActiveTab().el.dom.childNodes[0].childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[ii].outerHTML=currTileHTML;break;case"Social Influence":break;case"Leads By Revenue Stage":currTileHTML='<a href="'+host+'/#AR3889B2">'+currTileHTML+'</a>';MktCanvas.getActiveTab().el.dom.childNodes[0].childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[ii].outerHTML=currTileHTML;break;case"Landing Page Performance":currTileHTML='<a href="'+host+'/#AR3891B2">'+currTileHTML+'</a>';MktCanvas.getActiveTab().el.dom.childNodes[0].childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[ii].outerHTML=currTileHTML;break;case"Leads By Status":currTileHTML='<a href="'+host+'/#AR3893B2">'+currTileHTML+'</a>';MktCanvas.getActiveTab().el.dom.childNodes[0].childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[ii].outerHTML=currTileHTML;break;case"Company Web Activity":currTileHTML='<a href="'+host+'/#AR3901B2">'+currTileHTML+'</a>';MktCanvas.getActiveTab().el.dom.childNodes[0].childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[ii].outerHTML=currTileHTML;break;case"Sales Insight Email Performance":currTileHTML='<a href="'+host+'/#AR3903B2">'+currTileHTML+'</a>';MktCanvas.getActiveTab().el.dom.childNodes[0].childNodes[1].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[ii].outerHTML=currTileHTML;break;default:break;}}}}},0);}
APP.overrideSmartCampaignSaving=function(){console.log("Marketo App > Overriding: Saving for Smart Campaigns");Mkt.widgets.DataPanelManager.prototype.save=function(cause,dp,acceptUpdates){this._updateDataPanelOrder(true);var workspaceId=MktCanvas.getActiveTab().config.accessZoneId;if(workspaceId!=1&&workspaceId!=mktoJapaneseWorkspaceId&&APP.getCookie("priv")!="false"){if(this.saveQueue.blockingSaveInProgress){this.saveQueue.pendingChangesCount++;this.saveQueue.dataPanelMetas=this._serializeDataPanels();this.saveQueue.dataPanelCount=this.countDataPanels();return;}
var dataPanelMetas;if(this.saveQueue.dataPanelMetas){dataPanelMetas=this.saveQueue.dataPanelMetas;}
else{dataPanelMetas=this._serializeDataPanels();}
this.saveQueue.pendingChangesCount=0;this.saveQueue.dataPanelMetas=null;this.saveQueue.dataPanelCount=0;if(dataPanelMetas===null){return;}
if(dataPanelMetas.length===0&&this.isFlow){}
if(this.dpSubtype!=DPConst.RUN_ACTION&&dataPanelMetas){if(this.lastSave.dataPanelMetas&&this.lastSave.dataPanelMetas==dataPanelMetas){return;}
else if(this.lastSave.dataPanelMetasUpdated&&this.lastSave.dataPanelMetasUpdated==dataPanelMetas){return;}}
console.debug('Saving '+this.dpType+':',MktFormat.formatJsonStr(dataPanelMetas));if(DPDEBUG){console.debug('Current Save:',dataPanelMetas);if(this.lastSave.dataPanelMetas){console.debug('Previous Save:',this.lastSave.dataPanelMetas);}
if(this.lastSave.dataPanelMetasUpdated){console.debug('Previous Update:',this.lastSave.dataPanelMetasUpdated);}}
this.lastSave.acceptUpdates=acceptUpdates;this.lastSave.dataPanelMetas=dataPanelMetas;this.saveQueue.blockingSaveInProgress=true;this.beforeSaveMessage();var params=Ext.apply({dataPanelMetas:dataPanelMetas,accessZoneId:this.accessZoneId},this.baseSaveParams);if(this.isSmartlist&&this.smartListRuleLogic.customMode()){if(this.smartListRuleLogic.isCustomLogicValid()){var smartListLogicParams=this.smartListRuleLogic.getSmartListLogicSaveParams();Ext.apply(params,smartListLogicParams);}else{console.debug('Data panel save successful. Custom rule logic is not valid');}}
params[this.appVarsBase+'Id']=this.dataPanelStorageId;this.beforeSaveHook();if(DPDEBUG){console.debug("Saving... ",params);}
MktSession.ajaxRequest(this.saveAction,{serializeParms:params,onMySuccess:this.saveSuccess.createDelegate(this),onMyFailure:this.saveFailure.createDelegate(this)});}
else{console.log("Marketo App > Disabling: Saving for Smart Campaigns");}}}
APP.overrideSmartCampaignCanvas=function(){console.log("Marketo App > Overriding: Smart Campaign Canvases");Mkt.widgets.DataPanelLayout.prototype.initComponent=function(){if(MktCanvas.getActiveTab().config.accessZoneId==1){console.log("Marketo App > Enabling: Smart Campaign Canvases");this.dpEditable=true;}
DPDEBUG=false;if(this.dpSubtype){this.addClass('mktDataPanelLayout-'+this.dpSubtype);}
if(this.canvas){MktCanvas.mask(this.canvas);}
if(this.dpType=='Smartlist'){this.isSmartlist=true;this.Flow=false;this.SETTINGS='conditions';}
else if(this.dpType=='Flow'){this.isSmartlist=false;this.isFlow=true;this.SETTINGS='actions';}
this.items=[];this.items.push({region:'center',margins:!MktPage.isFeatureEnabled('carbolt')?'7 5 10 10':'',layout:'fit',items:this.createManager()});if(this.dpEditable&&this.canvas&&this.paletteWidth>0){this.canvasWidth=MktCanvas.getWidth();var availableWidth=Math.min(this.canvasWidth-700,this.maxPaletteWidth);this.paletteWidth=Math.max(this.paletteWidth,availableWidth);this.items.push({cls:'mktEastPanel',region:'east',margins:!MktPage.isFeatureEnabled('carbolt')?'5 5 5 8':'0 0 0 15',layout:'fit',width:this.paletteWidth,items:this.createPalette()});}
Mkt.widgets.DataPanelLayout.superclass.initComponent.apply(this);if(this.canvas){MktPage.canvasCleanupStack.push(this.canvasCleanup.createDelegate(this));}
if(this.canvas){this.extendCanvasToolbar();}
if(this.canvas){this.extendCanvasGutter();}
if(this.canvas){MktCanvas.addHook(this.canvas,{dp:this});}}}
APP.discardLandingPageDrafts=function(lpIds){console.log("Marketo App > Discarding: Landing Page Drafts");var lpMessageBox=Ext.MessageBox.show({title:"MarketoLive",msg:"Discarding Landing Page Drafts",progress:false,wait:false,width:270,closable:false});mktLPLManager.doModifyPages('revert',lpIds);lpMessageBox.hide();}
APP.discardEmailDrafts=function(emIds){console.log("Marketo App > Discarding: Email Drafts");var emMessageBox=Ext.MessageBox.show({title:"MarketoLive",msg:"Discarding Email Drafts",progress:false,wait:false,width:270,closable:false});mktEmManager.discardDraft(emIds);emMessageBox.hide();}
APP.discardFormPushDrafts=function(assetType,assetIds){console.log("Marketo App > Discarding: "+assetType+" Drafts");var assetStore=Ext4.getStore(assetType),originalExceptionFn=MktMessage.showSystemError;MktMessage.showSystemError=Ext4.emptyFn;if(typeof(Mkt3)!=='undefined'){if(!assetStore){assetStore=Ext4.create('Mkt3.store.'+assetType,{storeId:assetType});}
assetStore.load({filters:[{property:'id',value:assetIds}],callback:function(assets){for(var i=0;i<assets.length;i++){var asset=assets[i];asset.discard(function(success){if(success){asset.updateNode();}},this);}}});}}
APP.overrideTreeNodeExpand=function(){console.log("Marketo App > Overriding: Tree Node Expand");MktAsyncTreeNode.prototype.expand=function(){console.log("Marketo App > Executing: Tree Node Expand");var attr=this.attributes,ii;if(this.text==userWorkspaceName||(this.parentNode.text==userWorkspaceName&&this.attributes.system==true)||(this.parentNode.parentNode!=null&&this.parentNode.parentNode.text==userWorkspaceName&&this.attributes.system==true)){var userId=MktPage.userid.toLowerCase(),userName;if(userId.search("\.demo@marketo.com$")!=-1){userName=userId.split(".demo")[0];}
else{userName=userId.split("@")[0];}
for(ii=0;ii<this.childNodes.length;ii++){if(this.childNodes[ii].attributes.system==false){if(this.childNodes[ii].text.toLowerCase()!==userName){this.childNodes[ii].hidden=true;}
else{}}}}
if(attr.folder){if(attr.cancelFirstExpand){delete this.attributes.cancelFirstExpand;}
else if(this.childNodes&&this.childNodes.length>0&&!attr.mktExpanded){if(this.text!=userWorkspaceName&&this.parentNode.text!=userWorkspaceName&&this.parentNode.parentNode!=null&&this.parentNode.parentNode.text!=userWorkspaceName){console.log("Marketo App > Saving: Folder Expand State");MktFolder.saveExpandState(this,true);}}}
MktAsyncTreeNode.superclass.expand.apply(this,arguments);attr.mktExpanded=true;}}
APP.overrideTreeNodeCollapse=function(){console.log("Marketo App > Overriding: Tree Node Collapse");MktAsyncTreeNode.prototype.collapse=function(){console.log("Marketo App > Executing: Tree Node Collapse");var attr=this.attributes,ii;if(this.text==userWorkspaceName||(this.parentNode.text==userWorkspaceName&&this.attributes.system==true)||(this.parentNode.parentNode!=null&&this.parentNode.parentNode.text==userWorkspaceName&&this.attributes.system==true)){var userId=MktPage.userid.toLowerCase(),userName;if(userId.search("\.demo@marketo.com$")!=-1){userName=userId.split(".demo")[0];}
else{userName=userId.split("@")[0];}
for(ii=0;ii<this.childNodes.length;ii++){if(this.childNodes[ii].attributes.system==false){if(this.childNodes[ii].text.toLowerCase()!==userName){this.childNodes[ii].ui.elNode.hidden=true;}
else{}}}}
if(attr.suppressAjaxCollapse){delete this.attributes.suppressAjaxCollapse;}
else if(isDefined(attr.folder)&&attr.folder&&attr.mktExpanded===true){MktFolder.saveExpandState(this,false);}
MktTreeNode.superclass.collapse.apply(this,arguments);attr.mktExpanded=false;}}
APP.overrideNewProgramCreate=function(){console.log("Marketo App > Overriding: New Program/Segmentation Creation");Mkt.widgets.ModalForm.prototype.okButtonHandler=function(){console.log("Marketo App > Executing: New Program/Segmentation Creation");if(this.title=="New Program"||this.title=="New Segmentation"){var userId=MktPage.userid.toLowerCase(),userName,ii;if(userId.search("\.demo@marketo.com$")!=-1){userName=userId.split(".demo")[0];}
else{userName=userId.split("@")[0];}
if(this.title=="New Program"){if(this.getInputItems()[1].fieldLabel=="Name"){if(this.getInputItems()[1].getValue().toLowerCase().search(userName+"$")==-1){this.getInputItems()[1].setValue(this.getInputItems()[1].getValue()+" - "+userName);}}
else{for(ii=0;ii<this.getInputItems().length;ii++){if(this.getInputItems()[ii].fieldLabel=="Name"){if(this.getInputItems()[ii].getValue().toLowerCase().search(userName+"$")==-1){this.getInputItems()[ii].setValue(this.getInputItems()[ii].getValue()+" - "+userName);}}}}}
else if(this.title=="New Segmentation"){if(this.findByType("textfield")[0].fieldLabel=="Name"){if(this.findByType("textfield")[0].getValue().toLowerCase().search(userName+"$")==-1){this.findByType("textfield")[0].setValue(this.findByType("textfield")[0].getValue()+" - "+userName);}}
else{for(ii=0;ii<this.findByType("textfield").length;ii++){if(this.findByType("textfield")[ii].fieldLabel=="Name"){if(this.findByType("textfield")[ii].getValue().toLowerCase().search(userName+"$")==-1){this.findByType("textfield")[ii].setValue(this.findByType("textfield")[ii].getValue()+" - "+userName);}}}}}}
if(this.submitInProgress){return;}
if(this.beforeSubmitCallback()===false){return;};if(this.okCallback&&isFunction(this.okCallback)){this.okCallback();}
if(!this.submitUrl){return;}
if(this.showProgressModal){this.hide();this.progressModal=Ext.MessageBox.show({title:MktLang.getStr('ModalForm.Please_wait'),msg:this.progressMsg,progress:true,wait:true,width:200,closable:false});}
else{MktSession.clockCursor();}
this.submitInProgress=true;this.enableOkCancelButton(!this.submitInProgress);if(this.serializeJSON){this.serializeParms=this.serializeParms||{};this.serializeParms._json=Ext.encode(this.serializeJSON);}
var parms=Ext.apply({},this.serializeParms,this.baseParams);MktSession.ajaxRequest(this.submitUrl,{serializeParms:parms,onMySuccess:this.submitSuccessHandler.createDelegate(this),onMyFailure:this.submitFailedHandler.createDelegate(this)});}}
APP.overrideAssetSaveEdit=function(){console.log("Marketo App > Overriding: Asset Save Edit");Mkt.widgets.CanvasHeader.prototype.saveEdit=function(){console.log("Marketo App > Executing: Asset Save Edit");if(MktCanvas!=null&&MktCanvas.getActiveTab()!=null&&MktCanvas.getActiveTab().config!=null&&MktCanvas.getActiveTab().config.accessZoneId!=null&&MktCanvas.getActiveTab().config.accessZoneId!=1&&MktCanvas.getActiveTab().config.accessZoneId!=mktoJapaneseWorkspaceId){var isFolderEdit=false;if((MktExplorer.getEl().dom.ownerDocument.title.search("Marketing Activities")!=-1&&(this.titleId=="mpTEName"||this.titleId=="cdhTEName"||this.titleId=="pname"))||MktExplorer.getEl().dom.ownerDocument.title.search("Marketing Activities")==-1){var userId=MktPage.userid.toLowerCase(),userName,ii;if(userId.search("\.demo@marketo.com$")!=-1){userName=userId.split(".demo")[0];}
else{userName=userId.split("@")[0];}
if(MktCanvas.getActiveTab().config.accessZoneId==mktoMarketingWorkspaceId&&this.titleId=="pname"){if(this.titleValue==userName){isFolderEdit=true;}}
if(this.getTitleField().getValue().toLowerCase().search(userName+"$")==-1){this.getTitleField().setValue(this.getTitleField().getValue()+" - "+userName);}}
if(isFolderEdit){var toUpdateNodeText=false;MktSession.clockCursor(true);this.getTitleField().setValue(this.titleValue);var canvasTab=MktCanvas.getActiveTab();var nodeId=null;if(canvasTab.config.expNodeId){var node=MktExplorer.getNodeById(canvasTab.config.expNodeId);if(node&&node.attributes.compType){var compType=node.attributes.compType;if(compType=='Marketing Program'){nodeId=canvasTab.config.expNodeId;}
if(compType=='Image'){toUpdateNodeText=false;}}
if(toUpdateNodeText){}}
var el=this.getEl();var panelObj=this;var formPanel=this.formPanel;var viewPanel=this.viewPanel;formPanel.hide(true,0.2);viewPanel.show(true,0.2);viewPanel.body.update(panelObj.viewTemplate.apply(panelObj));el.animate({height:{from:this.getHeight(),to:this.origHeight}},0.25,function(){panelObj.setHeight(panelObj.origHeight);panelObj.body.setHeight(panelObj.origHeight);if(isFunction(panelObj.savedCallback)){panelObj.savedCallback();}});MktSession.unclockCursor();this._saveInProgress=false;}
else{var toUpdateNodeText=true;MktSession.clockCursor(true);this.serializeParms[this.titleId]=this.getTitleField().getValue();this.serializeParms[this.descId]=this.getDescField().getValue();this.newTitleValue=MktPage.isFeatureEnabled('treeEncoding')?this.serializeParms[this.titleId]:Ext.util.Format.htmlEncode(this.serializeParms[this.titleId]);this.newDescValue=Ext.util.Format.htmlEncode(this.serializeParms[this.descId]);this.updateCanvasConfig();this.prevTitleValue=this.titleValue;this.titleValue=this.newTitleValue;this.descValue=this.newDescValue;MktPage.updateFullTitle();var canvasTab=MktCanvas.getActiveTab();canvasTab.updateTabTitle(this.titleValue);var nodeId=null;if(canvasTab.config.expNodeId){var node=MktExplorer.getNodeById(canvasTab.config.expNodeId);if(node&&node.attributes.compType){var compType=node.attributes.compType;if(compType=='Marketing Program'){nodeId=canvasTab.config.expNodeId;MktExplorer.lockSubTree(nodeId);}
if(compType=='Image'){toUpdateNodeText=false;}}
if(toUpdateNodeText){MktExplorer.updateNodeText(canvasTab.config.expNodeId,this.titleValue);}}
var el=this.getEl();var panelObj=this;var formPanel=this.formPanel;var viewPanel=this.viewPanel;formPanel.hide(true,0.2);viewPanel.show(true,0.2);viewPanel.body.update(panelObj.viewTemplate.apply(panelObj));el.animate({height:{from:this.getHeight(),to:this.origHeight}},0.25,function(){panelObj.setHeight(panelObj.origHeight);panelObj.body.setHeight(panelObj.origHeight);if(isFunction(panelObj.savedCallback)){panelObj.savedCallback();}});MktSession.unclockCursor();this._saveInProgress=true;MktSession.ajaxRequest(this.actionUrl,{serializeParms:this.serializeParms,containerId:this.id,onMySuccess:this.saveResponse.createDelegate(this,[nodeId],true),onMyError:this.saveError.createDelegate(this,[nodeId])});}}
if((MktCanvas!=null&&MktCanvas.getActiveTab()!=null&&MktCanvas.getActiveTab().config!=null&&MktCanvas.getActiveTab().config.accessZoneId!=null)&&(MktCanvas.getActiveTab().config.accessZoneId==1||MktCanvas.getActiveTab().config.accessZoneId==mktoJapaneseWorkspaceId)){var toUpdateNodeText=false;MktSession.clockCursor(true);this.getTitleField().setValue(this.titleValue);var canvasTab=MktCanvas.getActiveTab();var nodeId=null;if(canvasTab.config.expNodeId){var node=MktExplorer.getNodeById(canvasTab.config.expNodeId);if(node&&node.attributes.compType){var compType=node.attributes.compType;if(compType=='Marketing Program'){nodeId=canvasTab.config.expNodeId;}
if(compType=='Image'){toUpdateNodeText=false;}}
if(toUpdateNodeText){}}
var el=this.getEl();var panelObj=this;var formPanel=this.formPanel;var viewPanel=this.viewPanel;formPanel.hide(true,0.2);viewPanel.show(true,0.2);viewPanel.body.update(panelObj.viewTemplate.apply(panelObj));el.animate({height:{from:this.getHeight(),to:this.origHeight}},0.25,function(){panelObj.setHeight(panelObj.origHeight);panelObj.body.setHeight(panelObj.origHeight);if(isFunction(panelObj.savedCallback)){panelObj.savedCallback();}});MktSession.unclockCursor();this._saveInProgress=false;}}}
APP.overrideNewAssetCreate=function(){console.log("Marketo App > Overriding: New Asset Creation");Mkt3.controller.lib.AbstractModalForm.prototype.onSubmit=function(form){console.log("Marketo App > Executing: New Asset Creation");if(form==null||form.ownerAsset==null||form.ownerAsset.isOneOfProgramTypes==null||form.ownerAsset.isOneOfProgramTypes()==false){if(this!=null&&this.getField("name")!=null&&this.getField("name").getValue()!=null){var assetName=this.getField("name").getValue(),userId=MktPage.userid.toLowerCase(),userName;if(userId.search("\.demo@marketo.com$")!=-1){userName=userId.split(".demo")[0];}
else{userName=userId.split("@")[0];}
if(assetName.toLowerCase().search(userName+"$")==-1){this.getField("name").setValue(assetName+" - "+userName);}}}
form=!form.isXType('modalForm')?form.up('modalForm'):form;form.setSubmitting(true);if(this.validate(form)){if(this.application.fireEvent(this.widgetId+'BeforeSubmit',form?form.getRecord():null)!==false){if(this.submit(form)!==false){this.submitComplete(form);}}
else{form.setSubmitting(false);}}
else{form.showDefaultMessage();form.setSubmitting(false);}}}
APP.overrideNewFolders=function(){console.log("Marketo App > Overriding: New Folders");MktMa.newProgramFolderSubmit=function(text,parentId,tempNodeId){console.log("Marketo App > Executing: New Folders in Marketing Activities");MktSession.clockCursor(true);var userId=MktPage.userid.toLowerCase(),userName,parms={};if(userId.search("\.demo@marketo.com$")!=-1){userName=userId.split(".demo")[0];}
else{userName=userId.split("@")[0];}
if((this.currNode.parentNode.attributes.compType.search("Folder$")!=-1&&text.toLowerCase().search(userName+"$")==-1)||text==userName){text=text+" - "+userName;}
parms.text=text;parms.parentId=parentId;parms.tempNodeId=tempNodeId;MktSession.ajaxRequest('explorer/createProgramFolder',{serializeParms:parms,onMySuccess:MktMa.newProgramFolderDone,onMyFailure:function(tempNodeId){var tempNode=MktExplorer.getNodeById(tempNodeId);if(tempNode){tempNode.remove();}}.createDelegate(this,[tempNodeId])});if(MktMa.currNode){MktMa.currNode.unselect();}}
MktFolder.newFolderSubmit=function(text,parentNodeId,tempNodeId){console.log("Marketo App > Executing: New Folders");MktSession.clockCursor(true);var userId=MktPage.userid.toLowerCase(),userName,parms={};if(userId.search("\.demo@marketo.com$")!=-1){userName=userId.split(".demo")[0];}
else{userName=userId.split("@")[0];}
if(text.toLowerCase().search(userName+"$")==-1||text==userName){text=text+" - "+userName;}
parms.text=text;parms.parentNodeId=parentNodeId;parms.tempNodeId=tempNodeId;MktSession.ajaxRequest('folder/createFolderSubmit',{serializeParms:parms,onMySuccess:MktFolder.newFolderSubmitDone.createDelegate(this,[tempNodeId]),onMyFailure:function(tempNodeId){var tempNode=MktExplorer.getNodeById(tempNodeId);if(tempNode){tempNode.remove();}}.createDelegate(this,[tempNodeId])});}}
APP.overrideRenamingFolders=function(){console.log("Marketo App > Overriding: Renaming Folders");MktMa.renameProgramFolderSubmit=function(value,startValue,folderId){console.log("Marketo App > Executing: Renaming Folders in Marketing Activities");MktSession.clockCursor(true);var userId=MktPage.userid.toLowerCase(),folder=MktExplorer.getNodeById(folderId),userName,parms={};if(userId.search("\.demo@marketo.com$")!=-1){userName=userId.split(".demo")[0];}
else{userName=userId.split("@")[0];}
if(startValue==userName&&this.currNode.parentNode.attributes.system==true&&this.currNode.attributes.accessZoneId==mktoMarketingWorkspaceId){if(folder){folder.setText(startValue);}
MktSession.unclockCursor();}
else{if((this.currNode.parentNode.attributes.compType.search("Folder$")!=-1&&value.toLowerCase().search(userName+"$"))==-1||value==userName){value=value+" - "+userName;if(folder){folder.setText(value);}}
parms.origProgramName=startValue;parms.newProgramName=value;parms.folderId=folderId;MktSession.ajaxRequest('explorer/renameProgramFolder',{serializeParms:parms,onMySuccess:MktMa.renameProgramFolderSubmitDone,onMyFailure:function(folderId,origName){var folder=MktExplorer.getNodeById(folderId);if(folder){folder.setText(origName);}}.createDelegate(this,[folderId,startValue])});}}
MktFolder.renameFolderSubmit=function(text,startValue,nodeId){console.log("Marketo App > Executing: Renaming Folders");MktSession.clockCursor(true);var userId=MktPage.userid.toLowerCase(),userName,parms={};if(userId.search("\.demo@marketo.com$")!=-1){userName=userId.split(".demo")[0];}
else{userName=userId.split("@")[0];}
if(startValue==userName&&this.currNode.parentNode.attributes.system==true&&this.currNode.attributes.accessZoneId==mktoMarketingWorkspaceId){MktFolder.currNode.setText(startValue);MktSession.unclockCursor();}
else{if(text.toLowerCase().search(userName+"$")==-1||text==userName){text=text+" - "+userName;MktFolder.currNode.setText(text);}
parms.text=text;parms.nodeId=nodeId;MktSession.ajaxRequest('folder/renameFolderSubmit',{serializeParms:parms,onMySuccess:MktFolder.renameFolderSubmitDone.createDelegate({parms:parms,startValue:startValue}),onMyFailure:function(){MktFolder.currNode.setText(startValue);}.createDelegate(this)});}}}
APP.hideFoldersOnImport=function(){console.log("Marketo App > Hiding: Folders On Program Import via Override");Ext.form.ComboBox.prototype.onTriggerClick=function(){if(this.readOnly||this.disabled){return;}
if(this.isExpanded()){this.collapse();this.el.focus();}
else{this.onFocus({});if(this.triggerAction=='all'){this.doQuery(this.allQuery,true);if(this!=null&&this.label!=null&&this.label.dom!=null&&this.label.dom.textContent!=null&&this.label.dom.textContent=="Campaign Folder:"&&MktCanvas!=null&&MktCanvas.getActiveTab()!=null&&MktCanvas.getActiveTab().config!=null&&MktCanvas.getActiveTab().config.accessZoneId!=null&&MktCanvas.getActiveTab().config.accessZoneId==mktoMarketingWorkspaceId){var userId=MktPage.userid.toLowerCase(),userName,ii;if(userId.search("\.demo@marketo.com$")!=-1){userName=userId.split(".demo")[0];}
else{userName=userId.split("@")[0];}
for(ii=0;ii<this.view.all.elements.length;ii++){if(this.view.all.elements[ii].textContent.toLowerCase()!=userName){this.view.all.elements[ii].hidden=true;}}}}
else{this.doQuery(this.getRawValue());}
this.el.focus();}}}
APP.hidePageGrid=function(){console.log("Marketo App > Hiding: Page Grid via Override");MktGrids.CanvasGridPanel.prototype.loadPagedGrid=function(){if(MktCanvas.activeTab.config.accessZoneId==mktoMarketingWorkspaceId){switch(this.canvas){case"landingCanvasLP":this.hide();break;case"landingCanvasFO":this.hide();break;case"landingCanvasEM":this.hide();break;case"landingCanvasSnippet":this.hide();break;case"landingCanvasIM":this.hide();break;case"ldbCanvasLeadList":this.hide();break;case"campaignCanvasDetailActivityLog":this.hide();break;case"atxCanvasDetailView":break;default:break;}}
this.store.load({params:{start:0,query:this.query}});}}
APP.disableButtons=function(){console.log("Marketo App > Disabling: Buttons");$jQ=jQuery.noConflict();$jQ(".mktButtonPositive").remove();}
APP.evaluateMenu=function(triggeredFrom,attr,menu,canvas,toolbar){console.log("Marketo App > Evaluating: Menu");var userName,toBeDisabled=false,userId=MktPage.userid.toLowerCase();if(userId.search("\.demo@marketo.com$")!=-1){userName=userId.split(".demo")[0];}
else{userName=userId.split("@")[0];}
switch(triggeredFrom){case"tree":if((attr&&(attr.accessZoneId==1||attr.accessZoneId==mktoJapaneseWorkspaceId||(attr.accessZoneId==mktoMarketingWorkspaceId&&((attr.id&&MktExplorer.getNodeById(attr.id))||(attr.menu&&attr.menu.currNode)))))){toBeDisabled=true;if(attr.accessZoneId==mktoMarketingWorkspaceId){if(MktExplorer.getNodeById(attr.id)){currNode=MktExplorer.getNodeById(attr.id);}
else{currNode=attr.menu.currNode;}
var ii,depth=currNode.getDepth();for(ii=0;ii<depth;ii++){if(currNode.text==userName){toBeDisabled=false;break;}
currNode=currNode.parentNode;}}}
else if((!attr||!attr.accessZoneId||((!attr.menu||!attr.menu.currNode)&&(!attr.id||!MktExplorer.getNodeById(attr.id))))&&(menu&&menu.currNode&&menu.currNode.attributes&&(menu.currNode.attributes.accessZoneId==1||menu.currNode.attributes.accessZoneId==mktoJapaneseWorkspaceId||menu.currNode.attributes.accessZoneId==mktoMarketingWorkspaceId))){toBeDisabled=true;if(menu.currNode.attributes.accessZoneId==mktoMarketingWorkspaceId){var ii,currNode=menu.currNode,depth=currNode.getDepth();for(ii=0;ii<depth;ii++){if(currNode.text==userName){toBeDisabled=false;break;}
currNode=currNode.parentNode;}}}
else if((!menu||!menu.currNode||!menu.currNode.attributes)&&(canvas&&canvas.config&&(canvas.config.accessZoneId==1||canvas.config.accessZoneId==mktoJapaneseWorkspaceId||(canvas.config.accessZoneId==mktoMarketingWorkspaceId&&canvas.config.expNodeId&&MktExplorer.getNodeById(canvas.config.expNodeId))))){toBeDisabled=true;if(canvas.config.accessZoneId==mktoMarketingWorkspaceId){var ii,currNode=MktExplorer.getNodeById(canvas.config.expNodeId),depth=currNode.getDepth();for(ii=0;ii<depth;ii++){if(currNode.text==userName){toBeDisabled=false;break;}
currNode=currNode.parentNode;}}}
return toBeDisabled;break;case"button":if(canvas&&canvas.config&&(canvas.config.accessZoneId==1||canvas.config.accessZoneId==mktoJapaneseWorkspaceId||(canvas.config.accessZoneId==mktoMarketingWorkspaceId&&canvas.config.expNodeId&&MktExplorer.getNodeById(canvas.config.expNodeId)))){toBeDisabled=true;if(canvas.config.accessZoneId==mktoMarketingWorkspaceId){var ii,currNode=MktExplorer.getNodeById(canvas.config.expNodeId),depth=currNode.getDepth();for(ii=0;ii<depth;ii++){if(currNode.text==userName){toBeDisabled=false;break;}
currNode=currNode.parentNode;}}}
return toBeDisabled;break;case"socialAppToolbar":if(toolbar.getSocialApp()&&(toolbar.getSocialApp().get('zoneId')==1||toolbar.getSocialApp().get('zoneId')==mktoJapaneseWorkspaceId)||(toolbar.getSocialApp().get('zoneId')==mktoMarketingWorkspaceId&&toolbar.getSocialApp().getNodeJson()&&toolbar.getSocialApp().getNodeJson().id&&MktExplorer.getNodeById(toolbar.getSocialApp().getNodeJson().id))){toBeDisabled=true;if(toolbar.getSocialApp().get('zoneId')==mktoMarketingWorkspaceId){var ii,currNode=MktExplorer.getNodeById(toolbar.getSocialApp().getNodeJson().id),depth=currNode.getDepth();for(ii=0;ii<depth;ii++){if(currNode.text==userName){toBeDisabled=false;break;}
currNode=currNode.parentNode;}}}
return toBeDisabled;break;case"mobilePushNotification":if(toolbar.getMobilePushNotification()&&(toolbar.getMobilePushNotification().get('zoneId')==1||toolbar.getMobilePushNotification().get('zoneId')==mktoJapaneseWorkspaceId)||(toolbar.getMobilePushNotification().get('zoneId')==mktoMarketingWorkspaceId&&toolbar.getMobilePushNotification().getNodeJson()&&toolbar.getMobilePushNotification().getNodeJson().id&&MktExplorer.getNodeById(toolbar.getMobilePushNotification().getNodeJson().id))){toBeDisabled=true;if(toolbar.getMobilePushNotification().get('zoneId')==mktoMarketingWorkspaceId){var ii,currNode=MktExplorer.getNodeById(toolbar.getMobilePushNotification().getNodeJson().id),depth=currNode.getDepth();for(ii=0;ii<depth;ii++){if(currNode.text==userName){toBeDisabled=false;break;}
currNode=currNode.parentNode;}}}
return toBeDisabled;break;default:return true;break;}}
APP.disableMenus=function(){console.log("Marketo App > Disabling: Menus");var prevMarketingActivitiesNewEventMenuButton=Mkt.app.MarketingActivities.Toolbar.getNewEventMenuButton;Mkt.app.MarketingActivities.Toolbar.getNewEventMenuButton=function(){console.log("Marketo App > Executing: Disabling New menu for Marketing, Nurture, Event, and Email Batch Programs in Marketing Activities");prevMarketingActivitiesNewEventMenuButton.apply(this,arguments);return{text:MktLang.getStr('mktMaMenu.New'),iconCls:'mkiBooksBlue',xtype:'mkttbbutton',menu:MktMaMenu.maMenu(),handler:function(button){var canvas=MktCanvas.getActiveTab(),disableMenu=APP.evaluateMenu("button",null,null,canvas,null);button.menu.items.each(function(item){item.setDisabled(disableMenu);});}};}
var prevMarketingActivitiesNewMenuButton=Mkt.app.MarketingActivities.Toolbar.getNewMenuButton;Mkt.app.MarketingActivities.Toolbar.getNewMenuButton=function(){console.log("Marketo App > Executing: Disabling New menu for Folders and Smart Campaigns in Marketing Activities");prevMarketingActivitiesNewMenuButton.apply(this,arguments);return{text:MktLang.getStr('mktMaMenu.New'),iconCls:'mkiBooksBlue',xtype:'mkttbbutton',menu:MktMaMenu.maMenu(),handler:function(button){var canvas=MktCanvas.getActiveTab(),disableMenu=APP.evaluateMenu("button",null,null,canvas,null);button.menu.items.each(function(item){item.setDisabled(disableMenu);});}};}
var prevPreShowMarketingProgramActions=Mkt.menus.marketingEvent.Toolbar.preShowMarketingProgramActions;Mkt.menus.marketingEvent.Toolbar.preShowMarketingProgramActions=Mkt.menus.marketingEvent.Toolbar.preShowMarketingEventActions=function(menu){console.log("Marketo App > Executing: Disabling Actions menu for Marketing, Nurture, Event, and Email Batch Programs in Marketing Activities");prevPreShowMarketingProgramActions.apply(this,arguments);var mItems=menu.items,canvas=MktCanvas.getActiveTab(),disable=APP.evaluateMenu("button",null,null,canvas,null),itemsToDisable=["cloneMarketingProgram","cloneMarketingEvent","cloneNurtureProgram","cloneEmailBatchProgram","deleteMarketingProgram","deleteMarketingEvent","deleteNurtureProgram","deleteEmailBatchProgram","testNurtureProgram","eventSchedule","entryRescheduleEntries","sfdcCampaignSync","refreshFromWebinarProvider",];itemsToDisable.forEach(function(itemToDisable){var item=mItems.get(itemToDisable);if(item){item.setDisabled(disable);}});}
var prevPreShowProgramActionsMenu=MktMaMenu.preShowProgramActionsMenu;MktMaMenu.preShowProgramActionsMenu=function(menu,attr){console.log("Marketo App > Executing: Disabling Right-click menu for Marketing, Nurture, Event, Email Batch Programs, and Folders in Marketing Activities");prevPreShowProgramActionsMenu.apply(this,arguments);var mItems=menu.items,canvas=MktCanvas.getActiveTab(),disable=APP.evaluateMenu("tree",attr,menu,canvas,null),itemsToDisable=["newSmartCampaign","newLocalAsset","createNewMarketingProgram","createProgramFolder","renameProgramFolder","deleteProgramFolder","convertToArchiveFolder","convertToCampaignFolder","scClone","cloneMarketingProgram","cloneMarketingEvent","cloneNurtureProgram","cloneEmailBatchProgram","scArchive","deleteMarketingProgram","deleteMarketingEvent","deleteNurtureProgram","deleteEmailBatchProgram","scMove","scActivate","scAbort","scClearPalette","scClearSmartList","scClearFlow","shareProgramFolder","progGenerateRef","checkForCorruptEmails"];itemsToDisable.forEach(function(itemToDisable){var item=mItems.get(itemToDisable);if(item){item.setDisabled(disable);}});return menu;}
var prevPreShowEmailMenu=MktDsMenu.preShowEmailMenu;MktDsMenu.preShowEmailMenu=function(menu,attr){console.log("Marketo App > Executing: Disabling Right-click menu for Emails in Marketing Activities");prevPreShowEmailMenu.apply(this,arguments);var mItems=menu.items,canvas=MktCanvas.getActiveTab(),disable=APP.evaluateMenu("tree",attr,menu,canvas,null),itemsToDisable=["emailApprove","emailUnapprove","emailClone","emailDelete","emailMove","emailNewTest","emailDraftSendTest","emailDraftApprove","emailApproveTest","emailDiscardTest"];itemsToDisable.forEach(function(itemToDisable){var item=mItems.get(itemToDisable);if(item){item.setDisabled(disable);}});return menu;}
var prevPreShowPageMenu=MktDsMenu.preShowPageMenu;MktDsMenu.preShowPageMenu=function(menu,attr){console.log("Marketo App > Executing: Disabling Right-click menu for Landing Pages in Marketing Activities");prevPreShowPageMenu.apply(this,arguments);var mItems=menu.items,canvas=MktCanvas.getActiveTab(),disable=APP.evaluateMenu("tree",attr,menu,canvas,null),itemsToDisable=["pageApprove","pageUnapprove","pageConvertToTestGroup","pageClone","pageDelete","urlTools","pageMove","pageDraftApprove",];itemsToDisable.forEach(function(itemToDisable){var item=mItems.get(itemToDisable);if(item){item.setDisabled(disable);}});return menu;}
var prevPreShowFormMenu=MktDsMenu.preShowFormMenu;MktDsMenu.preShowFormMenu=function(menu,attr){console.log("Marketo App > Executing: Disabling Right-click menu for Forms in Marketing Activities");prevPreShowFormMenu.apply(this,arguments);var mItems=menu.items,canvas=MktCanvas.getActiveTab(),disable=APP.evaluateMenu("tree",attr,menu,canvas,null),itemsToDisable=["formApprove","formClone","formDelete","formMove","formDraftApprove",];itemsToDisable.forEach(function(itemToDisable){var item=mItems.get(itemToDisable);if(item){item.setDisabled(disable);}});return menu;}
var prevLeadDbPreShowLocalListMenu=MktLeadDbMenu.preShowLocalListMenu;MktLeadDbMenu.preShowLocalListMenu=function(menu,attr){console.log("Marketo App > Executing: Disable Menu on Right-click of Smart List in Marketing Activities");prevLeadDbPreShowLocalListMenu.apply(this,arguments);var mItems=menu.items,isAdBridgeEnabled=MktPage.isFeatureEnabled('adBridge'),canvas=MktCanvas.getActiveTab(),disable=APP.evaluateMenu("tree",attr,menu,canvas,null);mItems.get('navigateToMembership').setVisible(true);mItems.get('navigateToSmartList').setVisible(true);mItems.get('navigateToFilterView').setVisible(true);mItems.get('navigateToSeparator').setVisible(true);mItems.get('navigateToFilterView').setVisible(false);mItems.get('cloneList').setVisible(false);mItems.get('exportList').setDisabled(false);mItems.get('exportAdBridge').setDisabled(!isAdBridgeEnabled);mItems.get('exportAdBridge').setVisible(isAdBridgeEnabled);mItems.get('deleteList').setDisabled(false);mItems.get('importList').setVisible(false);mItems.get('showImportStatus').setVisible(false);mItems.get('cloneSmartlist').setVisible(true);mItems.get('cloneSmartlist').setDisabled(disable);mItems.get('cloneList').setDisabled(disable);mItems.get('deleteList').setDisabled(disable);MktLeadDbMenu.preShowSmartListDiagMenu(menu,attr);}
var prevPreShowSocialAppMenu=MktDsMenu.preShowSocialAppMenu;MktDsMenu.preShowSocialAppMenu=function(menu,attr){console.log("Marketo App > Executing: Disabling Right-click menu for Social Apps in Marketing Activities");prevPreShowSocialAppMenu.apply(this,arguments);var mItems=menu.items,canvas=MktCanvas.getActiveTab(),disable=APP.evaluateMenu("tree",attr,menu,canvas,null),itemsToDisable=["socialAppApprove","socialAppClone","socialAppDelete","socialAppDraftApprove",];itemsToDisable.forEach(function(itemToDisable){var item=mItems.get(itemToDisable);if(item){item.setDisabled(disable);}});return menu;}
var prevSocialAppToolbar=Mkt3.controller.socialApp.SocialApp.prototype.loadToolbar;Mkt3.controller.socialApp.SocialApp.prototype.loadToolbar=function(menu,attr){console.log("Marketo App > Executing: Disabling Actions menu for Social Apps in Marketing Activities");prevSocialAppToolbar.apply(this,arguments);var disable=APP.evaluateMenu("socialAppToolbar",null,null,null,this),mItems=Ext4.ComponentQuery.query("socialAppToolbar contextMenu [action=approve],"+"socialAppToolbar contextMenu [action=clone],"+"socialAppToolbar contextMenu [action=delete],"+"socialAppToolbar contextMenu [action=editDraft],"+"socialAppToolbar contextMenu [action=previewDraft],"+"socialAppToolbar contextMenu [action=approveDraft],");mItems.forEach(function(item){if(item){item.setDisabled(disable);}});return menu;}
var prevPreShowPushNotificationMenu=MktDsMenu.preShowPushNotificationMenu;MktDsMenu.preShowPushNotificationMenu=function(menu,attr){console.log("Marketo App > Executing: Disabling Right-click menu for Push Notifications in Marketing Activities");prevPreShowPushNotificationMenu.apply(this,arguments);var mItems=menu.items,canvas=MktCanvas.getActiveTab(),disable=APP.evaluateMenu("tree",attr,menu,canvas,null),itemsToDisable=["pushNotificationApprove","pushNotificationUnapprove","pushNotificationDelete","pushNotificationDraftEdit","pushNotificationDraftSendSample","pushNotificationDraftApprove",];itemsToDisable.forEach(function(itemToDisable){var item=mItems.get(itemToDisable);if(item){item.setDisabled(disable);}});return menu;}
var prevMobilePushNotificationToolbar=Mkt3.controller.mobilePushNotification.MobilePushNotification.prototype.loadToolbar;Mkt3.controller.mobilePushNotification.MobilePushNotification.prototype.loadToolbar=function(menu,attr){console.log("Marketo App > Executing: Disabling Actions menu for Push Notifications in Marketing Activities");prevMobilePushNotificationToolbar.apply(this,arguments);var disable=APP.evaluateMenu("mobilePushNotification",null,null,null,this),mItems=Ext4.ComponentQuery.query("mobilePushNotification contextMenu [action=approve],"+"mobilePushNotification contextMenu [action=unapprove],"+"mobilePushNotification contextMenu [action=clone],"+"mobilePushNotification contextMenu [action=delete],"+"mobilePushNotification contextMenu [action=editDraft],"+"mobilePushNotification contextMenu [action=sendDraftSample],"+"mobilePushNotification contextMenu [action=approveDraft],");mItems.forEach(function(item){if(item){item.setDisabled(disable);}});return menu;}
var prevDesignStudioNewMenuButton=Mkt.app.DesignStudio.Toolbar.getNewMenuButton;Mkt.app.DesignStudio.Toolbar.getNewMenuButton=function(){console.log("Marketo App > Executing: Disabling New menu for ALL in Design Studio");prevDesignStudioNewMenuButton.apply(this,arguments);return{text:MktLang.getStr('mktDsMenu.New'),iconCls:'mkiColorsCmyk',xtype:'mkttbbutton',menu:MktMaMenu.maMenu(),handler:function(button){var canvas=MktCanvas.getActiveTab(),disableMenu=APP.evaluateMenu("button",null,null,canvas,null);button.menu.items.each(function(item){item.setDisabled(disableMenu);});}};}
var prevDesignStudioPreShowContextMenu=MktDsMenu.preShowContextMenu;MktDsMenu.preShowContextMenu=function(menu,attr){console.log("Marketo App > Executing: Disabling Right-click menu for ALL in Design Studio");prevDesignStudioPreShowContextMenu.apply(this,arguments);var mItems=menu.items,canvas=MktCanvas.getActiveTab(),disable=APP.evaluateMenu("tree",attr,menu,canvas,null),itemsToDisable=["newLandingPage","newTestGroup","newPageTemplate","pageTemplateImport","newForm","newVideoShare","newShareButton","newReferralOffer","newEmail","newEmailTemplate","newSnippet","uploadImage","share","createFolder","renameFolder","deleteFolder","convertToArchiveFolder","convertToFolder",];itemsToDisable.forEach(function(itemToDisable){var item=mItems.get(itemToDisable);if(item){item.setDisabled(disable);}});return menu;}
var prevDesignStudioPreShowTemplateMenu=MktDsMenu.preShowTemplateMenu;MktDsMenu.preShowTemplateMenu=function(menu,attr){console.log("Marketo App > Executing: Disabling Right-click and Actions menus for Landing Page Templates in Design Studio");prevDesignStudioPreShowTemplateMenu.apply(this,arguments);var mItems=menu.items,canvas=MktCanvas.getActiveTab(),disable=APP.evaluateMenu("tree",attr,menu,canvas,null),itemsToDisable=["approvePageTemplate","unapprovePageTemplate","clonePageTemplate","pageTemplateDelete","approveDraftPageTemplate",];itemsToDisable.forEach(function(itemToDisable){var item=mItems.get(itemToDisable);if(item){item.setDisabled(disable);}});return menu;}
var prevDesignStudioPreShowEmailTemplateMenu=MktDsMenu.preShowEmailTemplateMenu;MktDsMenu.preShowEmailTemplateMenu=function(menu,attr){console.log("Marketo App > Executing: Disabling Right-click and Actions menus for Email Templates in Design Studio");prevDesignStudioPreShowEmailTemplateMenu.apply(this,arguments);var mItems=menu.items,canvas=MktCanvas.getActiveTab(),disable=APP.evaluateMenu("tree",attr,menu,canvas,null),itemsToDisable=["emailTemplateApprove","emailTemplateUnapprove","emailTemplateClone","emailTemplateDelete","emailTemplateDraftSendTest","emailTemplateDraftApprove",];itemsToDisable.forEach(function(itemToDisable){var item=mItems.get(itemToDisable);if(item){item.setDisabled(disable);}});return menu;}
var prevDesignStudioPreShowSnippetMenu=MktDsMenu.preShowSnippetMenu;MktDsMenu.preShowSnippetMenu=function(menu,attr){console.log("Marketo App > Executing: Disabling Right-click and Actions menus for Snippets in Design Studio");prevDesignStudioPreShowSnippetMenu.apply(this,arguments);var mItems=menu.items,canvas=MktCanvas.getActiveTab(),disable=APP.evaluateMenu("tree",attr,menu,canvas,null),itemsToDisable=["snippetApprove","snippetUnapprove","snippetClone","snippetDelete","snippetDraftApprove",];itemsToDisable.forEach(function(itemToDisable){var item=mItems.get(itemToDisable);if(item){item.setDisabled(disable);}});return menu;}
var prevDesignStudioPreShowImageMenu=MktDsMenu.preShowImageMenu;MktDsMenu.preShowImageMenu=function(menu,attr){console.log("Marketo App > Executing: Disabling Right-click and Actions menus for Images in Design Studio");prevDesignStudioPreShowImageMenu.apply(this,arguments);var mItems=menu.items,canvas=MktCanvas.getActiveTab(),disable=APP.evaluateMenu("tree",attr,menu,canvas,null),itemsToDisable=["uploadImage","imageDelete","replaceImage",];itemsToDisable.forEach(function(itemToDisable){var item=mItems.get(itemToDisable);if(item){item.setDisabled(disable);}});return menu;}
var prevLeadDatabaseShowContextMenu=MktLeadDbMenu.showContextMenu;MktLeadDbMenu.showContextMenu=function(node,e){console.log("Marketo App > Executing: Disabling Right-click menu for ALL in Lead Database");prevLeadDatabaseShowContextMenu.apply(this,arguments);var compType,menu;var attr=node.attributes;var xtraAttr=attr.xtra;var type;var isTempNode=Ext.isString(node.id)?(node.id.indexOf('xnode-')>-1):false;if(!isTempNode){if(attr.nodeType=='Marketing Folder'){return;}else if(xtraAttr&&xtraAttr.type){type=xtraAttr.type;}else if((attr&&attr.folder)||attr.nodeType=='List'||attr.nodeType=='Smart List'||attr.nodeType=='Segmentation'){type='LeadDb';}else{return;}
menu=MktMenuMgr.getMenu(type,attr);if(menu&&menu.items){var mItems=menu.items,canvas=MktCanvas.getActiveTab(),disable=APP.evaluateMenu("tree",attr,menu,canvas,null),itemsToDisable=["newSmartList","newList","importList","cloneSmartlist","cloneList","deleteList","newSegmentation","createDraftSegmentation","approveSegmentation","unapproveSegmentation","deleteSegmentation","refreshSegmentation","approveDraftSegmentation","share","createFolder","renameFolder","deleteFolder","convertToArchiveFolder","convertToFolder",];itemsToDisable.forEach(function(itemToDisable){var item=mItems.get(itemToDisable);if(item){item.setDisabled(disable);}});}
if(menu){menu.currNode=node;MktLeadDbMenu.showContextItems(menu,true);var s=menu.items.get('removeBookmark');if(s){s.setVisible(false);}
if(xtraAttr&&!attr.folder){var compType=xtraAttr.compType;var compSubtype=xtraAttr.compSubtype;if(compType=='List'){MktLeadDbMenu.preShowListListMenu(menu);}else if(compSubtype=='Smart Campaign'){MktLeadDbMenu.preShowCampaignListMenu(menu);}else if(compSubtype=='Report'){console.debug('showing report menu');MktLeadDbMenu.preShowReportListMenu(menu);}
else if(compType=='Smart List'){MktLeadDbMenu.preShowUserListMenu(menu,attr);}else if(compType=='Segmentation'){MktLeadDbMenu.preShowSegmentationMenu(menu,attr);}else{return;}}
menu.showAt(e.xy);if(xtraAttr){menu.listCompType=attr.nodeType;menu.leadDbSmartListId=xtraAttr.compId;menu.compId=xtraAttr.compId;menu.leadDbNodeId=xtraAttr.nodeId;menu.listName=attr.text;menu.name=attr.text;}
Mkt.main.ExplorerPanel.nodeContextMenuSetup(node,menu);e.stopEvent();}}}
var prevLeadDatabasePreContextMenu=MktLeadDbMenu.preShowContextMenu;MktLeadDbMenu.preShowContextMenu=function(menu,attr){console.log("Marketo App > Executing: Disabling Right-click menu for System Smart Lists, Smart Lists, Lists, Segments in Lead Database");prevLeadDatabasePreContextMenu.apply(this,arguments);var mItems=menu.items,canvas=MktCanvas.getActiveTab(),disable=APP.evaluateMenu("tree",attr,menu,canvas,null),itemsToDisable=["cloneSmartlist","cloneList","deleteList","showSupportHistory","showSupportUsagePerf","showSmartListProcessorDiag","showSmartListProcessorOverride",];itemsToDisable.forEach(function(itemToDisable){var item=mItems.get(itemToDisable);if(item){item.setDisabled(disable);}});return menu;}
var prevLeadDatabasePreShowListListMenu=MktLeadDbMenu.preShowListListMenu;MktLeadDbMenu.preShowListListMenu=function(menu,attr){console.log("Marketo App > Executing: Disabling Right-click and Actions menus for Lists in Lead Database");prevLeadDatabasePreShowListListMenu.apply(this,arguments);var mItems=menu.items,canvas=MktCanvas.getActiveTab(),disable=APP.evaluateMenu("tree",attr,menu,canvas,null),itemsToDisable=["cloneSmartlist","cloneList","deleteList","showSupportHistory","showSupportUsagePerf","showSmartListProcessorDiag","showSmartListProcessorOverride",];itemsToDisable.forEach(function(itemToDisable){var item=mItems.get(itemToDisable);if(item){item.setDisabled(disable);}});return menu;}
var prevLeadDatabasePreShowSegmentationMenu=MktLeadDbMenu.preShowSegmentationMenu;MktLeadDbMenu.preShowSegmentationMenu=function(menu,attr){console.log("Marketo App > Executing: Disabling Right-click and Actions menus for Segmentations in Lead Database");prevLeadDatabasePreShowSegmentationMenu.apply(this,arguments);var mItems=menu.items,canvas=MktCanvas.getActiveTab(),disable=APP.evaluateMenu("tree",attr,menu,canvas,null),itemsToDisable=["createDraftSegmentation","approveSegmentation","unapproveSegmentation","deleteSegmentation","approveDraftSegmentation",];itemsToDisable.forEach(function(itemToDisable){var item=mItems.get(itemToDisable);if(item){item.setDisabled(disable);}});return menu;}
var prevLeadDatabasePreShowSegmentationFolderMenu=MktLeadDbMenu.preShowSegmentationFolderMenu;MktLeadDbMenu.preShowSegmentationFolderMenu=function(menu,attr){console.log("Marketo App > Executing: Disabling Right-click and Actions menus for Segmentation Folders in Lead Database");prevLeadDatabasePreShowSegmentationFolderMenu.apply(this,arguments);var mItems=menu.items,canvas=MktCanvas.getActiveTab(),disable=APP.evaluateMenu("tree",attr,menu,canvas,null),itemsToDisable=["newSegmentation","share","createFolder","renameFolder","deleteFolder","convertToArchiveFolder","convertToFolder",];itemsToDisable.forEach(function(itemToDisable){var item=mItems.get(itemToDisable);if(item){item.setDisabled(disable);}});return menu;}
var prevLeadDatabasePreShowUserListMenu=MktLeadDbMenu.preShowUserListMenu;MktLeadDbMenu.preShowUserListMenu=function(menu,attr){console.log("Marketo App > Executing: Disabling Right-click and Actions menus for Smart Lists and Segments in Lead Database");prevLeadDatabasePreShowUserListMenu.apply(this,arguments);var mItems=menu.items,canvas=MktCanvas.getActiveTab(),disable=APP.evaluateMenu("tree",attr,menu,canvas,null),itemsToDisable=["cloneSmartlist","cloneList","deleteList",];itemsToDisable.forEach(function(itemToDisable){var item=mItems.get(itemToDisable);if(item){item.setDisabled(disable);}});return menu;}
var prevAnalyticsPreShowReportMenu=MktAnalyticsMenu.preShowReportMenu;MktAnalyticsMenu.preShowReportMenu=function(menu,attr){console.log("Marketo App > Executing: Disabling Right-click menu for Analyzers and Reports in Analytics");prevAnalyticsPreShowReportMenu.apply(this,arguments);var mItems=menu.items,canvas=MktCanvas.getActiveTab(),disable=APP.evaluateMenu("tree",attr,menu,canvas,null),itemsToDisable=["cloneReport","deleteReport","moveReport",];itemsToDisable.forEach(function(itemToDisable){var item=mItems.get(itemToDisable);if(item){item.setDisabled(disable);}});return menu;}
var prevAnalyticsPreshowReportFolderMenu=MktAnalyticsMenu.preshowReportFolderMenu;MktAnalyticsMenu.preshowReportFolderMenu=function(menu,attr){console.log("Marketo App > Executing: Disabling Right-click menu for Folders in Analytics");prevAnalyticsPreshowReportFolderMenu.apply(this,arguments);var mItems=menu.items,canvas=MktCanvas.getActiveTab(),disable=APP.evaluateMenu("tree",attr,menu,canvas,null),itemsToDisable=["createFolder","renameFolder","deleteFolder","convertToArchiveFolder","convertToFolder","newRcm","share","moveReport",];itemsToDisable.forEach(function(itemToDisable){var item=mItems.get(itemToDisable);if(item){item.setDisabled(disable);}});return menu;}
Mkt.widgets.ToolbarButton.prototype.showMenu=function(){console.log("Marketo App > Executing: Disabling Toolbar Button menus for ALL assets except for Social Apps and Push Notifications in ALL");var ii,canvas=MktCanvas.getActiveTab(),toDisable=APP.evaluateMenu("button",null,null,canvas,null);if(toDisable){if(this.menu.itemId=="leadDbLeadMenu"){for(ii=0;ii<this.menu.items.items.length;ii++){if(typeof(this.menu.items.items[ii].menu)!="undefined"){var jj;for(jj=0;jj<this.menu.items.items[ii].menu.items.items.length;jj++){this.menu.items.items[ii].menu.items.items[jj].disable(toDisable);}}}}
for(ii=0;ii<this.menu.items.items.length;ii++){switch(this.menu.items.items[ii].itemId){case"createProgramFolder":this.menu.items.items[ii].disable(toDisable);break;case"newSmartCampaign":this.menu.items.items[ii].disable(toDisable);break;case"createNewMarketingProgram":this.menu.items.items[ii].disable(toDisable);break;case"importProgram":this.menu.items.items[ii].disable(toDisable);break;case"createProgramFolder":this.menu.items.items[ii].disable(toDisable);break;case"entryRescheduleEntries":this.menu.items.items[ii].disable(toDisable);break;case"sfdcCampaignSync":this.menu.items.items[ii].disable(toDisable);break;case"cloneMarketingProgram":this.menu.items.items[ii].disable(toDisable);break;case"deleteMarketingProgram":this.menu.items.items[ii].disable(toDisable);break;case"showImportMemberStatus":break;case"showExportMemberStatus":break;case"Not in ProgramStatusMarketingEvent":this.menu.disable(toDisable);this.menu.items.items[ii].disable(toDisable);break;case"MemberStatusMarketingEvent":this.menu.items.items[ii].disable(toDisable);break;case"SentStatusMarketingEvent":this.menu.items.items[ii].disable(toDisable);break;case"VisitedStatusMarketingEvent":this.menu.items.items[ii].disable(toDisable);break;case"EngagedStatusMarketingEvent":this.menu.items.items[ii].disable(toDisable);break;case"InvitedStatusMarketingEvent":this.menu.items.items[ii].disable(toDisable);break;case"RegisteredStatusMarketingEvent":this.menu.items.items[ii].disable(toDisable);break;case"AttendedStatusMarketingEvent":this.menu.items.items[ii].disable(toDisable);break;case"No ShowStatusMarketingEvent":this.menu.items.items[ii].disable(toDisable);break;case"OpenedStatusMarketingEvent":this.menu.items.items[ii].disable(toDisable);break;case"ClickedStatusMarketingEvent":this.menu.items.items[ii].disable(toDisable);break;case"BouncedStatusMarketingEvent":this.menu.items.items[ii].disable(toDisable);break;case"UnsubscribedStatusMarketingEvent":this.menu.items.items[ii].disable(toDisable);break;case"cloneEmailBatchProgram":this.menu.items.items[ii].disable(toDisable);break;case"deleteEmailBatchProgram":this.menu.items.items[ii].disable(toDisable);break;case"cloneNurtureProgram":this.menu.items.items[ii].disable(toDisable);break;case"deleteNurtureProgram":this.menu.items.items[ii].disable(toDisable);break;case"testNurtureProgram":this.menu.items.items[ii].disable(toDisable);break;case"eventSchedule":break;case"entryRescheduleEntries":break;case"cloneMarketingEvent":this.menu.items.items[ii].disable(toDisable);break;case"deleteMarketingEvent":this.menu.items.items[ii].disable(toDisable);break;case"refreshFromWebinarProvider":this.menu.items.items[ii].disable(toDisable);break;case"navigateToNurtureTracks":break;case"navigateToCFSmartCamp":break;case"navigateToLocalAssets":break;case"navigateToProgramSmartList":break;case"navigateToEventSettings":break;case"navigateToCFTokens":break;case"navigateToEventMembers":break;case"navigateToCFResults":break;case"navigateToSmartCampaign":break;case"navigateToSmartList":break;case"navigateToFlow":break;case"navigateToSchedule":break;case"navigateToResults":break;case"navigateToCampaignMembers":break;case"newLocalAsset":this.menu.items.items[ii].disable(toDisable);break;case"renameProgramFolder":this.menu.items.items[ii].disable(toDisable);break;case"deleteProgramFolder":this.menu.items.items[ii].disable(toDisable);break;case"convertToArchiveFolder":this.menu.items.items[ii].disable(toDisable);break;case"convertToCampaignFolder":this.menu.items.items[ii].disable(toDisable);break;case"scClone":this.menu.items.items[ii].disable(toDisable);break;case"scArchive":this.menu.items.items[ii].disable(toDisable);break;case"scMove":this.menu.items.items[ii].disable(toDisable);break;case"cloneMarketingEvent":this.menu.items.items[ii].disable(toDisable);break;case"deleteMarketingEvent":this.menu.items.items[ii].disable(toDisable);break;case"cloneNurtureProgram":this.menu.items.items[ii].disable(toDisable);break;case"deleteNurtureProgram":this.menu.items.items[ii].disable(toDisable);break;case"cloneEmailBatchProgram":this.menu.items.items[ii].disable(toDisable);break;case"deleteEmailBatchProgram":this.menu.items.items[ii].disable(toDisable);break;case"scActivate":break;case"scAbort":break;case"addToFavorites":break;case"removeFromFavorites":break;case"importProgramStatus":break;case"scCampChangeHistory":this.menu.items.items[ii].disable(toDisable);break;case"scCampRunHistory":this.menu.items.items[ii].disable(toDisable);break;case"scClearPalette":this.menu.items.items[ii].disable(toDisable);break;case"scClearSmartList":this.menu.items.items[ii].disable(toDisable);break;case"scClearFlow":this.menu.items.items[ii].disable(toDisable);break;case"progGenerateRef":this.menu.items.items[ii].disable(toDisable);break;case"checkForCorruptEmails":this.menu.items.items[ii].disable(toDisable);break;case"emailEdit":break;case"emailPreview":break;case"emailApprove":this.menu.items.items[ii].disable(toDisable);break;case"emailUnapprove":this.menu.items.items[ii].disable(toDisable);break;case"emailDownloadHtml":break;case"emailSendTest":break;case"emailClone":this.menu.items.items[ii].disable(toDisable);break;case"emailDelete":this.menu.items.items[ii].disable(toDisable);break;case"emailMove":this.menu.items.items[ii].disable(toDisable);break;case"emailNewTest":this.menu.items.items[ii].disable(toDisable);break;case"emailDraftEdit":break;case"emailDraftPreview":break;case"emailDraftSendTest":break;case"emailDraftApprove":this.menu.items.items[ii].disable(toDisable);break;case"emailDraftDiscard":break;case"emailApproveTest":this.menu.items.items[ii].disable(toDisable);break;case"emailSendSampleTest":break;case"emailEditTest":break;case"emailViewTestSummary":break;case"emailTestDeclareChampion":break;case"emailDiscardTest":break;case"emailTemplateEdit":break;case"emailTemplatePreview":break;case"emailTemplateSendTest":break;case"emailTemplateApprove":this.menu.items.items[ii].disable(toDisable);break;case"emailTemplateUnapprove":this.menu.items.items[ii].disable(toDisable);break;case"emailTemplateClone":this.menu.items.items[ii].disable(toDisable);break;case"emailTemplateDelete":this.menu.items.items[ii].disable(toDisable);break;case"emailTemplateDraftEdit":break;case"emailTemplateDraftPreview":break;case"emailTemplateDraftSendTest":break;case"emailTemplateDraftApprove":this.menu.items.items[ii].disable(toDisable);break;case"emailTemplateDraftDiscard":break;case"formEditDraft":break;case"formPreview":break;case"formEdit":break;case"formApprove":this.menu.items.items[ii].disable(toDisable);break;case"formClone":this.menu.items.items[ii].disable(toDisable);break;case"formDelete":this.menu.items.items[ii].disable(toDisable);break;case"formEmbed":break;case"formMove":this.menu.items.items[ii].disable(toDisable);break;case"formDraftPreview":break;case"formDraftEdit":break;case"formDraftApprove":this.menu.items.items[ii].disable(toDisable);break;case"formDraftDiscard":break;case"pageEdit":break;case"pagePreview":break;case"deviceSwitch":break;case"pageApprove":this.menu.items.items[ii].disable(toDisable);break;case"pageUnapprove":this.menu.items.items[ii].disable(toDisable);break;case"publishToFacebook":this.menu.items.items[ii].disable(toDisable);break;case"pageConvertToTestGroup":this.menu.items.items[ii].disable(toDisable);break;case"pageClone":this.menu.items.items[ii].disable(toDisable);break;case"pageDelete":this.menu.items.items[ii].disable(toDisable);break;case"urlTools":this.menu.items.items[ii].disable(toDisable);break;case"pageMove":this.menu.items.items[ii].disable(toDisable);break;case"pageDraftEdit":break;case"pageDraftPreview":break;case"pageDraftApprove":this.menu.items.items[ii].disable(toDisable);break;case"pageDraftDiscard":break;case"editPageTemplate":break;case"previewPageTemplate":break;case"approvePageTemplate":this.menu.items.items[ii].disable(toDisable);break;case"unapprovePageTemplate":this.menu.items.items[ii].disable(toDisable);break;case"clonePageTemplate":this.menu.items.items[ii].disable(toDisable);break;case"pageTemplateDelete":this.menu.items.items[ii].disable(toDisable);break;case"pageTemplateExport":break;case"editPageTemplateDraft":break;case"previewDraftPageTemplate":break;case"approveDraftPageTemplate":this.menu.items.items[ii].disable(toDisable);break;case"discardDraftPageTemplate":break;case"snippetEdit":break;case"snippetPreview":break;case"snippetApprove":this.menu.items.items[ii].disable(toDisable);break;case"snippetUnapprove":this.menu.items.items[ii].disable(toDisable);break;case"snippetClone":this.menu.items.items[ii].disable(toDisable);break;case"snippetDelete":this.menu.items.items[ii].disable(toDisable);break;case"snippetDraftEdit":break;case"snippetDraftPreview":break;case"snippetDraftApprove":this.menu.items.items[ii].disable(toDisable);break;case"snippetDraftDiscard":break;case"uploadImage":this.menu.items.items[ii].disable(toDisable);break;case"grabFromWebPage":break;case"imagePreview":break;case"imageDelete":this.menu.items.items[ii].disable(toDisable);break;case"replaceImage":this.menu.items.items[ii].disable(toDisable);break;case"newSmartList":this.menu.items.items[ii].disable(toDisable);break;case"newList":this.menu.items.items[ii].disable(toDisable);break;case"newSegmentation":this.menu.items.items[ii].disable(toDisable);break;case"importList":this.menu.items.items[ii].disable(toDisable);break;case"newLead":this.menu.items.items[ii].disable(toDisable);break;case"newDataMgr":this.menu.items.items[ii].disable(toDisable);break;case"navigateToMembership":break;case"navigateToSmartList":break;case"navigateToFilterView":break;case"showImportStatus":break;case"showExportStatus":break;case"importList":this.menu.items.items[ii].disable(toDisable);break;case"exportList":break;case"exportAdBridge":break;case"newSmartListReportSubscription":break;case"cloneSmartlist":this.menu.items.items[ii].disable(toDisable);break;case"cloneList":this.menu.items.items[ii].disable(toDisable);break;case"deleteList":this.menu.items.items[ii].disable(toDisable);break;case"showSupportHistory":this.menu.items.items[ii].disable(toDisable);break;case"showSupportUsagePerf":this.menu.items.items[ii].disable(toDisable);break;case"showSmartListProcessorDiag":this.menu.items.items[ii].disable(toDisable);break;case"showSmartListProcessorOverride":this.menu.items.items[ii].disable(toDisable);break;case"viewLeadDetails":break;case"blackCatDiag":this.menu.items.items[ii].disable(toDisable);break;case"mergeLeads":this.menu.items.items[ii].disable(toDisable);break;case"leadDbMenuFlowActions":break;case"programsFolder":break;case"specialFolder":break;case"salesforceFolder":break;case"createDraftSegmentation":this.menu.items.items[ii].disable(toDisable);break;case"editSegmentation":break;case"approveSegmentation":this.menu.items.items[ii].disable(toDisable);break;case"unapproveSegmentation":this.menu.items.items[ii].disable(toDisable);break;case"deleteSegmentation":this.menu.items.items[ii].disable(toDisable);break;case"refreshSegmentation":break;case"editDraftSegmentation":break;case"approveDraftSegmentation":this.menu.items.items[ii].disable(toDisable);break;case"discardDraftSegmentation":break;default:break;case"cloneReport":this.menu.items.items[ii].disable(toDisable);break;case"deleteReport":this.menu.items.items[ii].disable(toDisable);break;case"newDrillDown_atxCanvasOverview":this.menu.items.items[ii].disable(toDisable);break;case"newReport_atxCanvasOverview":break;case"rcmEdit":break;case"rcmPreview":break;case"rcmApproveStages":this.menu.items.items[ii].disable(toDisable);break;case"rcmUnapproveStages":this.menu.items.items[ii].disable(toDisable);break;case"rcmApprove":this.menu.items.items[ii].disable(toDisable);break;case"rcmUnapprove":this.menu.items.items[ii].disable(toDisable);break;case"rcmClone":this.menu.items.items[ii].disable(toDisable);break;case"rcmDelete":this.menu.items.items[ii].disable(toDisable);break;case"rcmExport":break;case"rcmEditDraft":break;case"rcmPreviewDraft":break;case"rcmApproveDraft":this.menu.items.items[ii].disable(toDisable);break;case"rcmDiscardDraft":break;case"rcmAassignmentRules":this.menu.items.items[ii].disable(toDisable);break;}}}
this.showingMenu=true;if(this.menu.xtra){delete this.menu.xtra;}
this.menu.triggeredFrom='button';this.fireEvent('beforemenushow',this.menu);Mkt.widgets.ToolbarButton.superclass.showMenu.call(this);this.showingMenu=false;}}
APP.limitNurturePrograms=function(){console.log("Marketo App > Limiting: Nurture Programs");var previousMarketingEventForm=Mkt.apps.marketingEvent.MarketingEventForm.prototype.beforeSubmitCallback;Mkt.apps.marketingEvent.MarketingEventForm.prototype.beforeSubmitCallback=function(){var limit_exceeded=false,rootNode=MktExplorer.boundTree.root,compType="Nurture Program",matches=[],node=rootNode.cascade(function(){var attr=this.attributes;if(attr&&attr.xtra){if(attr.xtra.compType==compType&&attr.xtra.accessZoneId==MktCanvas.activeTab.config.accessZoneId){matches.push(this);}}},undefined,[compType]);if(matches.length>=3){limit_exceeded=true;}
if(limit_exceeded==true){var nutureProgramMessageBox=Ext.MessageBox.show({title:"MarketoLive",msg:"Users are limited to 3 nurture programs each.",width:400,closable:true});nutureProgramMessageBox.show;return false;}else{return previousMarketingEventForm.apply(this,arguments);}}}
APP.injectAnalyzerNavBar=function(){var isPodsLoaded=window.setInterval(function(){if(typeof(PODS)!=="undefined"){console.log("Marketo App > Injecting: Analyzer Navigation Bar");window.clearInterval(isPodsLoaded);if(typeof(pod)=="undefined"){pod=new PODS.Pod(PODS.getCookie("userPod"));}
for(var y=0;y<pod.valueSet.length;y++){if(currentUrl==pod.valueSet[y].url){console.log("Marketo App > Updating: CSS for Analyzer Navigation Bar");$j=jQuery.noConflict();var currPosition='#'+pod.valueSet[y].position;$j(currPosition).parent().css('display','block');$j(currPosition).parent().siblings().css('display','none');$j(currPosition).removeClass('analyzer-button').addClass('analyzer-title');$j(currPosition).siblings().removeClass('analyzer-title').addClass('analyzer-button');$j("#modeler,#success-path-analyzer,#opportunity-influence-analyzer,#program-analyzer").bind("click",function(e){console.log("Marketo App > Identifying: Current Analyzer");for(var x=0;x<pod.valueSet.length;x++){if(e.target.id==pod.valueSet[x].position)
currPosition=x;}
window.location=pod.valueSet[currPosition].url;});}}}},0);}
APP.enableSaving=function(){console.log("Marketo App > Enabling: Saving for Editors & Nurture Streams");Mkt3.data.Store.prototype.sync=function(){if(this.autoSyncSuspended){this.autoSync=true;this.autoSyncSuspended=false;}
if(this.getProxy()instanceof Mkt3.data.proxy.AjaxPost){Mkt3.Synchronizer.sync(this);}else{this.callParent(arguments);}}
Ext4.data.Model.prototype.destroy=function(options){options=Ext.apply({records:[this],action:'destroy'},options);var me=this,isNotPhantom=me.phantom!==true,scope=options.scope||me,stores=me.stores,i=0,storeCount,store,args,operation,callback;operation=new Ext.data.Operation(options);callback=function(operation){args=[me,operation];if(operation.wasSuccessful()){for(storeCount=stores.length;i<storeCount;i++){store=stores[i];store.remove(me,true);if(isNotPhantom){store.fireEvent('write',store,operation);}}
me.clearListeners();Ext.callback(options.success,scope,args);}else{Ext.callback(options.failure,scope,args);}
Ext.callback(options.callback,scope,args);};if(isNotPhantom){me.getProxy().destroy(operation,callback,me);}else{operation.complete=operation.success=true;operation.resultSet=me.getProxy().reader.nullResultSet;callback(operation);}
return me;}}
APP.disableSaving=function(){console.log("Marketo App > Disabling: Saving for Editors & Nurture Streams");Mkt3.data.Store.prototype.sync=function(){};Ext4.data.Model.prototype.destroy=function(){};Mkt3.controller.editor.form.settings.FieldSelection.prototype.deleteFormField=function(formField){var formFieldWidget=formField.getFieldWidget(),formFieldId,childFieldIndex,childFormField,allFormFields;if(formFieldWidget&&formFieldWidget.get('datatype')==='fieldset'){allFormFields=this.getForm().getFormFields();formFieldId=formField.get('id');for(childFieldIndex=0;childFieldIndex<allFormFields.getCount();childFieldIndex++){childFormField=allFormFields.getAt(childFieldIndex);if(childFormField.get('fieldsetFieldId')==formFieldId){this.deleteFormField(childFormField);}}}
formField.destroy({scope:this,callback:function(field,response){if(response.success){if(formFieldWidget){formFieldWidget.destroy();}}}});this.renumberWidgets();}}
APP.overlayEmailDesigner=function(){console.log("Marketo App > Overlaying: Email Designer");var logo=APP.getCookie("logo"),color=APP.getCookie("color");if(logo==null){logo=defaultTurnerLogoWhite;}
if(color==null){color=defaultColor;}
var isEmailIframeElement=window.setInterval(function(){var logoBkg=document.getElementsByTagName("iframe")[0].contentWindow.document.getElementById("logo-bkg"),buttonBkg=document.getElementsByTagName("iframe")[0].contentWindow.document.getElementById("button-bkg"),logoSwapCompany=document.getElementsByTagName("iframe")[0].contentWindow.document.getElementById("logo-swap-company"),logoSwapContainer=document.getElementsByTagName("iframe")[0].contentWindow.document.getElementById("logo-swap-container"),logoSwapCompanyContainer=document.getElementsByTagName("iframe")[0].contentWindow.document.getElementById("logo-swap-company-container");if(logoBkg!=null&&buttonBkg!=null&&logoSwapCompany!=null){console.log("Marketo App > Overlaying: iframe");window.clearInterval(isEmailIframeElement);logoSwapContainer.style.display="none";logoSwapCompanyContainer.style.display="block";logoBkg.style.backgroundColor=color;buttonBkg.style.backgroundColor=color;logoSwapCompany.src=logo;}},0);}
APP.overlayLandingPageDesigner=function(){console.log("Marketo App > Overlaying: Landing Page Designer");var logo=APP.getCookie("logo"),color=APP.getCookie("color"),company=logo.split("https://logo.clearbit.com/")[1].split(".")[0],companyName=company.charAt(0).toUpperCase()+company.slice(1);if(logo==null){logo=defaultTurnerLogoGreen;}
if(color==null){color=defaultColor;}
var isLandingPageIframeElement=window.setInterval(function(){var lpLogo=document.getElementsByTagName("iframe")[0].contentWindow.document.getElementById("lp-logo"),backgroundColor=document.getElementsByTagName("iframe")[0].contentWindow.document.getElementById("background-color"),biggerBackground=document.getElementsByTagName("iframe")[0].contentWindow.document.getElementById("bigger-background"),subTitle=document.getElementsByTagName("iframe")[0].contentWindow.document.getElementById("sub-title");if(lpLogo!=null&&backgroundColor!=null&&biggerBackground!=null&&subTitle!=null){console.log("Marketo App > Overlaying: iframe");window.clearInterval(isLandingPageIframeElement);lpLogo.src=logo;backgroundColor.style.backgroundColor=color;biggerBackground.style.backgroundColor=color;subTitle.innerHTML=companyName+" invites you to join:";}},0);}
APP.openAdBridgeModal=function(){console.log("Marketo App > Opening Ad Bridge Modal Window");if(document.getElementsByClassName("x-btn-text mkiUserTarget")[0].type=="button"){document.getElementsByClassName("x-btn-text mkiUserTarget")[0].click();}}
APP.getEmailIds=function(pod){console.log("Marketo App > Getting Email Ids for Pod: "+pod);var emIds=[];switch(pod){case"app-sjp":emIds.push(15464);emIds.push(18113,18106,18111,18110);emIds.push(10010,10179,10180,12845,10181,10182,10183,10184);emIds.push(4894,3764,3765,3767,3766,3762);emIds.push(12818,12820,12819,12816,12811,12815,12812,12813,12814,12821,12817,12823);emIds.push(12900,12901,12899,12898);emIds.push(12902,12903,12904);emIds.push(16474,17254,16403);emIds.push(18117,18118,18122,18119,18116,18123,18120,18121,18124);emIds.push(16118,16119,16120,16122,16121,16117);emIds.push(16331,16332,16338,16333,16123,16339,16335,16336,17868);emIds.push(16125,16129,16126,16124,16132,16131,16130,16128,16127,16133,16137,16136);emIds.push(18126);break;case"app-ab07":emIds.push(14240);emIds.push(10171,10173,10172,10169,9957,9974,9968,10174,9972,9973,10170,9962);emIds.push(10010,10179,10180,10181,10182,10183,10184);emIds.push(4894,3764,3765,3767,3766,3762);break;case"app-ab08":emIds.push(13924);emIds.push(12818,12820,12819,12816,12811,12815,12812,12821,12813,12814,12817,12823);emIds.push(10010,10179,10180,12845,10181,10182,10183,10184);emIds.push(4894,3764,3765,3767,3766,3762);break;default:console.error("Marketp App > Invalid: User Pod in getEmailIds()");break;}
return emIds;}
if(currentUrl.search(mktoAppDomain)!=-1||currentUrl.search(mktoDesignerDomain)!=-1||currentUrl.search(mktoWizard)!=-1){console.log("Marketo App > Location: Marketo URL");var isMktPageApp=window.setInterval(function(){if(typeof(MktPage)!=="undefined"){console.log("Marketo App > Location: Marketo Page");window.clearInterval(isMktPageApp);var accountString=MktPage.savedState.custPrefix,userId=MktPage.userid.toLowerCase(),currUrlFragment=Mkt3.DL.getDlToken();if(accountString=="mktodemoaccount106"||accountString=="mktodemoaccount106a"||accountString=="mktodemoaccount106b"){console.log("Marketo App > Location: MarketoLive Instance");window.mkto_live_plugin_state=true;if(userId.search("^admin@mktodemoaccount")!=-1||userId.search("^mktodemoaccount[a-z0-9]*@marketo\.com")!=-1||userId.search("^marketodemo.*@gmail\.com$")!=-1){console.log("Marketo App > User: Admin");APP.disableDemoPluginCheck();if(APP.getCookie("priv")!="false"){return;}
else{console.log("Marketo App > User: Admin is now a normal user");}}
var prevWorkspaceId,japanWorkspaceId=173,oppInfluenceAnalyzerFragment="AR1559A1!",programAnalyzerFragment="AR1544A1!",modeler106Fragment="RCM70A1!",modeler106abFragment="RCM5A1!",successPathAnalyzerFragment="AR1682A1!";APP.disableDemoPluginCheck();if(currUrlFragment==mktoMyMarketoFragment){APP.overrideDeliverabilityToolsTile();}
else if(currUrlFragment==mktoMarketingActivitiesDefaultFragment||currUrlFragment==mktoMarketingActivitiesMarketingFragment||currUrlFragment==mktoMarketingActivitiesJapaneseFragment||currUrlFragment==mktoLeadDatabaseDefaultFragment||currUrlFragment==mktoLeadDatabaseMarketingFragment||currUrlFragment==mktoLeadDatabaseJapaneseFragment){APP.disableButtons();}
else if(currUrlFragment==mktoAnalyticsFragment){APP.overrideAnalyticsTiles();}
else if(currUrlFragment==mktoAdBridgeSmartListFragment){var isAdBridgeSmartList=window.setInterval(function(){if(typeof(document.getElementsByClassName("x-btn-text mkiUserTarget")[0])!=="undefined"){console.log("Marketo App > Location: Ad Bridge Smart List");window.clearInterval(isAdBridgeSmartList);APP.openAdBridgeModal();}},0);}
if(currUrlFragment.search("^"+mktoEmailDesignerFragment)==-1&&currUrlFragment.search("^"+mktoEmailPreviewFragment)&&currUrlFragment.search("^"+mktoLandingPageDesignerFragment)==-1&&currUrlFragment.search("^"+mktoLandingPagePreviewFragment)==-1&&currUrlFragment.search("^"+mktoFormWizardFragment)==-1&&currUrlFragment.search("^"+mktoMobilePushNotificationWizardFragment)==-1&&currUrlFragment.search("^"+mktoSocialAppWizardFragment)==-1){APP.overrideTreeNodeExpand();APP.overrideTreeNodeCollapse();APP.disableMenus();APP.overrideSmartCampaignSaving();APP.overrideSmartCampaignCanvas();APP.overrideNewProgramCreate();APP.overrideAssetSaveEdit();APP.overrideNewAssetCreate();APP.overrideNewFolders();APP.overrideRenamingFolders();APP.hideFoldersOnImport();APP.disableConfirmationMessage();if(currUrlFragment!=mktoMyMarketoFragment){var isMktCanvas=window.setInterval(function(){if(MktCanvas.activeTab!==null){console.log("Marketo App > Location: Marketo Canvas");window.clearInterval(isMktCanvas);prevWorkspaceId=MktCanvas.activeTab.config.accessZoneId;if(prevWorkspaceId==1||prevWorkspaceId==japanWorkspaceId){APP.disableSaving();}}},0);}
if(currUrlFragment==oppInfluenceAnalyzerFragment||currUrlFragment==programAnalyzerFragment||currUrlFragment==modeler106Fragment||currUrlFragment==modeler106abFragment||currUrlFragment==successPathAnalyzerFragment){console.log("Marketo App > Location: Analytics");APP.injectAnalyzerNavBar();}
var lpIds={},formIds=[],pushIds=[],emIds=APP.getEmailIds(APP.getCookie("userPod"));switch(accountString){case"mktodemoaccount106":lpIds["dpageid_11826"]="dpageid_11826";lpIds["dpageid_11822"]="dpageid_11822";lpIds["dpageid_8819"]="dpageid_8819";lpIds["dpageid_8941"]="dpageid_8941";lpIds["dpageid_4876"]="dpageid_4876";lpIds["dpageid_4872"]="dpageid_4872";lpIds["dpageid_4874"]="dpageid_4874";lpIds["dpageid_11856"]="dpageid_11856";lpIds["dpageid_11548"]="dpageid_11548";lpIds["dpageid_11546"]="dpageid_11546";lpIds["dpageid_12420"]="dpageid_12420";lpIds["dpageid_12418"]="dpageid_12418";lpIds["dpageid_11552"]="dpageid_11552";lpIds["dpageid_11550"]="dpageid_11550";lpIds["dpageid_11553"]="dpageid_11553";lpIds["dpageid_12345"]="dpageid_12345";lpIds["dpageid_11556"]="dpageid_11556";formIds.push(3576,1749,1900);formIds.push(3018,3708,3020,3021);pushIds.push(29,23);formIds.push(99,94,103);break;case"mktodemoaccount106a":lpIds["dpageid_10672"]="dpageid_10672";lpIds["dpageid_10454"]="dpageid_10454";formIds.push(2532,1749,1900);pushIds.push(29,26);break;case"mktodemoaccount106b":lpIds["dpageid_10760"]="dpageid_10768";lpIds["dpageid_10762"]="dpageid_10762";formIds.push(2472,1749,1900);pushIds.push(2,1);break;default:break;}
var canDiscardDrafts=window.setInterval(function(){if(typeof(mktLPLManager)!=="undefined"){window.clearInterval(canDiscardDrafts);APP.discardLandingPageDrafts(lpIds);APP.discardEmailDrafts(emIds);APP.discardFormPushDrafts("Form",formIds);APP.discardFormPushDrafts("MobilePushNotification",pushIds);APP.limitNurturePrograms();}},0);}
else if(currUrlFragment.search("^"+mktoLandingPageDesignerFragment)!=-1){console.log("Marketo App > Location: Landing Page Designer");var customCompanyLandingPage106Fragment="LPE11826",customCompanyLandingPagePreview106Fragment="LPP11826",customCompanyLandingPage106aFragment="LPE10672",customCompanyLandingPagePreview106aFragment="LPP10672",customCompanyLandingPage106bFragment="LPE10768",customCompanyLandingPagePreview106bFragment="LPP10768";APP.disableSyncErrorMessage();switch(currUrlFragment){case customCompanyLandingPage106Fragment:APP.overlayLandingPageDesigner();break;case customCompanyLandingPagePreview106Fragment:APP.overlayLandingPageDesigner();break;case customCompanyLandingPage106aFragment:APP.overlayLandingPageDesigner();break;case customCompanyLandingPagePreview106aFragment:APP.overlayLandingPageDesigner();break;case customCompanyLandingPage106bFragment:APP.overlayLandingPageDesigner();break;case customCompanyLandingPagePreview106bFragment:APP.overlayLandingPageDesigner();break;default:break;}
return;}
else{console.log("Marketo App > Location: Designers/Wizards");var currAssetZoneId,customCompanyEmail106Fragment="EME15464",customCompanyEmail106aFragment="EME14240",customCompanyEmail106bFragment="EME13924",loadParameters={filters:[{property:'id',value:Mkt3.DL.dl.compId}],callback:function(records){records.forEach(function(record){currAssetZoneId=record.get('zoneId');console.log("Marketo App > currAssetZoneId = "+currAssetZoneId);if(currAssetZoneId==1||currAssetZoneId==japanWorkspaceId){APP.disableSaving();}else if(APP.getCookie("priv")=="false"){APP.disableSaving();}});}};switch(Mkt3.DL.dl.dlCompCode){case mktoEmailDesignerFragment:console.log("Callback for email editor");Ext4.getStore('Email').load(loadParameters);switch(currUrlFragment){case customCompanyEmail106Fragment:APP.overlayEmailDesigner();break;case customCompanyEmail106aFragment:APP.overlayEmailDesigner();break;case customCompanyEmail106bFragment:APP.overlayEmailDesigner();break;default:break;}
break;case mktoFormWizardFragment:console.log("Callback for form editor");Ext4.getStore('Form').load(loadParameters);break;case mktoMobilePushNotificationWizardFragment:console.log("Callback for push editor");Ext4.getStore('MobilePushNotification').load(loadParameters);break;case mktoSocialAppWizardFragment:console.log("Callback for social editor");Ext4.getStore('SocialApp').load(loadParameters);break;default:currAssetZoneId=-1;break;}}
window.onhashchange=function(){console.log("Window: Hash Changed");currentUrl=window.location.href;currUrlFragment=Mkt3.DL.getDlToken();if(currUrlFragment==mktoMyMarketoFragment){APP.overrideDeliverabilityToolsTile();}
else if(currUrlFragment==mktoMarketingActivitiesDefaultFragment||currUrlFragment==mktoMarketingActivitiesMarketingFragment||currUrlFragment==mktoMarketingActivitiesJapaneseFragment||currUrlFragment==mktoLeadDatabaseDefaultFragment||currUrlFragment==mktoLeadDatabaseMarketingFragment||currUrlFragment==mktoLeadDatabaseJapaneseFragment){APP.disableButtons();}
else if(currUrlFragment==mktoAnalyticsFragment){APP.overrideAnalyticsTiles();}
if(currUrlFragment.search("^"+mktoEmailDesignerFragment)==-1&&currUrlFragment.search("^"+mktoLandingPageDesignerFragment)==-1&&currUrlFragment.search("^"+mktoFormWizardFragment)==-1&&currUrlFragment.search("^"+mktoMobilePushNotificationWizardFragment)==-1&&currUrlFragment.search("^"+mktoSocialAppWizardFragment)==-1&&currUrlFragment!=mktoMyMarketoFragment){var isMktCanvasHash=window.setInterval(function(){if(MktCanvas.activeTab!==null){console.log("Marketo App > Location: Marketo Canvas");window.clearInterval(isMktCanvasHash);var currWorkspaceId=MktCanvas.activeTab.config.accessZoneId;if(currWorkspaceId==prevWorkspaceId){}
else if(currWorkspaceId==1||currWorkspaceId==japanWorkspaceId){APP.disableSaving();prevWorkspaceId=currWorkspaceId;}
else{if(APP.getCookie("priv")!="false"){APP.enableSaving();}
prevWorkspaceId=currWorkspaceId;}}},0);if(currUrlFragment==oppInfluenceAnalyzerFragment||currUrlFragment==programAnalyzerFragment||currUrlFragment==modeler106Fragment||currUrlFragment==modeler106abFragment||currUrlFragment==successPathAnalyzerFragment){console.log("Marketo App > Location: Analytics");APP.injectAnalyzerNavBar();}}}}
else{APP.overrideDeliverabilityToolsMenuItem();if(currUrlFragment==mktoMyMarketoFragment){APP.overrideDeliverabilityToolsTile();}
window.onhashchange=function(){currUrlFragment=Mkt3.DL.getDlToken();if(currUrlFragment==mktoMyMarketoFragment){APP.overrideDeliverabilityToolsTile();}}}
APP.overrideDeliverabilityToolsMenuItem();}},0);}