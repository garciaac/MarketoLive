var URL_PATH="m3-dev",MARKETO_LIVE_APP_SCRIPT_LOCATION="https://marketolive.com/"+URL_PATH+"/pluginv3/marketo-live-app.min.js",MARKETO_DEMO_APP_SCRIPT_LOCATION="https://marketolive.com/"+URL_PATH+"/pluginv3/marketo-demo-app.min.js",HEAP_ANALYTICS_SCRIPT_LOCATION="https://marketolive.com/"+URL_PATH+"/pluginv3/heap-analytics.min.js",disableDemoPluginCheck,loadScript,isMktoPageGlobal;disableDemoPluginCheck=function(){console.log("Marketo Global App > Disabling: Demo Plugin Check");window.mkto_live_plugin_state=true;if(MktPage&&MktPage.validateDemoPlugin){MktPage.validateDemoPlugin=function(){};}}
loadScript=function(scriptSrc){console.log("Marketo Global App > Loading: Script: "+scriptSrc);var scriptElement=document.createElement("script");scriptElement.async=true;scriptElement.src=scriptSrc;document.getElementsByTagName("head")[0].appendChild(scriptElement);}
getCookie=function(cookieName){console.log("Marketo Global App > Getting: Cookie "+cookieName);var name=cookieName+'=',cookies=document.cookie.split(';'),currCookie;for(var ii=0;ii<cookies.length;ii++){currCookie=cookies[ii].trim();if(currCookie.indexOf(name)==0){return currCookie.substring(name.length,currCookie.length);}}
console.log("Marketo Global App > Getting: Cookie "+cookieName+" not found");return null;}
isMktoPageGlobal=window.setInterval(function(){if(typeof(MktPage)!=="undefined"&&MktPage.savedState&&MktPage.savedState.custPrefix){console.log("Marketo Global App > Location: Marketo Page");window.clearInterval(isMktoPageGlobal);var accountString=MktPage.savedState.custPrefix,mktoDemoAccountMatch="^mktodemoaccount",mktoAccountStringQe="globalsales",mktoAccountStringsMatch="^mktodemoaccount106$|^mktodemoaccount106d$|^"+mktoAccountStringQe+"$";if(accountString.search(mktoAccountStringsMatch)!=-1||getCookie("toggleState")=="false"){console.log("Marketo Global App > Location: MarketoLive Instance");disableDemoPluginCheck();loadScript(MARKETO_LIVE_APP_SCRIPT_LOCATION);loadScript(HEAP_ANALYTICS_SCRIPT_LOCATION);}
else if(accountString.search(mktoDemoAccountMatch)!=-1){loadScript(MARKETO_DEMO_APP_SCRIPT_LOCATION);}}},0);